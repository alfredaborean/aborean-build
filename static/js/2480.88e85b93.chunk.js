(self.webpackChunk_uniswap_interface=self.webpackChunk_uniswap_interface||[]).push([[2480],{27281:(e,i,t)=>{var n=t(4638);i.F=function(e){var i=e.params,t=e.headers,n=(0,r.default)(e,c),u=[d.ReactQueryCacheKey.TradingApi,s.uniswapUrls.tradingApiPaths.lpApproval,i];return(0,a.useQuery)(Object.assign({queryKey:u,queryFn:function(){var e=(0,o.default)((function*(){if(!i)throw{name:"Params are required"};return yield(0,l.checkLpApproval)(i,t)}));return function(){return e.apply(this,arguments)}}()},n))};var o=n(t(79283)),r=n(t(70692)),a=t(78225),s=t(68016),l=t(72310),d=t(3009),c=["params","headers"]},69003:(e,i,t)=>{var n=t(4638);i.m=function(e){var i=e.params,t=e.deadlineInMinutes,n=(0,r.default)(e,u),p=[c.ReactQueryCacheKey.TradingApi,s.uniswapUrls.tradingApiPaths.createLp,i],x=(0,d.getTradeSettingsDeadline)(t),_=Object.assign({},i,{deadline:x});return(0,a.useQuery)(Object.assign({queryKey:p,queryFn:function(){var e=(0,o.default)((function*(){if(!i)throw{name:"Params are required"};return yield(0,l.createLpPosition)(_)}));return function(){return e.apply(this,arguments)}}()},n))};var o=n(t(79283)),r=n(t(70692)),a=t(78225),s=t(68016),l=t(72310),d=t(10982),c=t(3009),u=["params","deadlineInMinutes"]},63189:(e,i,t)=>{var n=t(4638);i.M=function(e){var i=e.params,t=e.deadlineInMinutes,n=(0,r.default)(e,u),p=[c.ReactQueryCacheKey.TradingApi,s.uniswapUrls.tradingApiPaths.increaseLp,i],x=(0,d.getTradeSettingsDeadline)(t),_=Object.assign({},i,{deadline:x});return(0,a.useQuery)(Object.assign({queryKey:p,queryFn:function(){var e=(0,o.default)((function*(){if(!i)throw{name:"Params are required"};return yield(0,l.increaseLpPosition)(_)}));return function(){return e.apply(this,arguments)}}()},n))};var o=n(t(79283)),r=n(t(70692)),a=t(78225),s=t(68016),l=t(72310),d=t(10982),c=t(3009),u=["params","deadlineInMinutes"]},34261:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>n});const n={}},21308:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>n});const n={}},86587:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>n});const n={}},64853:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>n});const n={}},24252:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>n});const n={}},57033:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>n});const n={}},2996:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>n});const n={}},82512:(e,i,t)=>{"use strict";t.d(i,{RS:()=>u,Vi:()=>c,sV:()=>p});var n=t(85752),o=t(20128),r=t(57154),a=t(69003),s=t(63189),l=t(4545),d=t(13052);function c(e,i){var t,n;const[r,a]=(0,o.useState)(!1),{data:l,error:c}=(0,s.M)({params:{...e,simulateTransaction:!1},refetchInterval:!r&&5*d.ONE_SECOND_MS,retry:!1,enabled:i&&(null===(t=e)||void 0===t?void 0:t.simulateTransaction)});return(0,o.useEffect)((()=>{a(!!c)}),[c,e]),null===(n=l)||void 0===n?void 0:n.dependentAmount}function u(e,i){var t,n;const[r,s]=(0,o.useState)(!1),{data:l,error:c}=(0,a.m)({params:{...e,simulateTransaction:!1},refetchInterval:!r&&5*d.ONE_SECOND_MS,retry:!1,enabled:i&&(null===(t=e)||void 0===t?void 0:t.simulateTransaction)});return(0,o.useEffect)((()=>{s(!!c)}),[c,e]),null===(n=l)||void 0===n?void 0:n.dependentAmount}function p({token0:e,token1:i,dependentAmount:t,exactField:a,currencyAmounts:s,currencyAmountsUSDValue:d,formattedAmounts:c,deposit0Disabled:u,deposit1Disabled:p}){const x=t&&a===r.R.TOKEN1&&e?n.CurrencyAmount.fromRawAmount(e,t):void 0,_=(0,l.useUSDCValue)(x)??void 0,v=t&&a===r.R.TOKEN0&&i?n.CurrencyAmount.fromRawAmount(i,t):void 0,h=(0,l.useUSDCValue)(v)??void 0;return(0,o.useMemo)((()=>{var e,i,t,n,o,r;return x?{updatedFormattedAmounts:{...c,TOKEN0:(null===(e=x)||void 0===e?void 0:e.toExact())??(null===(i=c)||void 0===i?void 0:i.TOKEN0)},updatedUSDAmounts:{...d,TOKEN0:_},updatedCurrencyAmounts:{...s,TOKEN0:x??(null===(t=s)||void 0===t?void 0:t.TOKEN0)},updatedDeposit0Disabled:!x.greaterThan(0),updatedDeposit1Disabled:p}:v?{updatedFormattedAmounts:{...c,TOKEN1:(null===(n=v)||void 0===n?void 0:n.toExact())??(null===(o=c)||void 0===o?void 0:o.TOKEN1)},updatedUSDAmounts:{...d,TOKEN1:h},updatedCurrencyAmounts:{...s,TOKEN1:v??(null===(r=s)||void 0===r?void 0:r.TOKEN1)},updatedDeposit0Disabled:u,updatedDeposit1Disabled:!v.greaterThan(0)}:{updatedFormattedAmounts:c,updatedUSDAmounts:d,updatedCurrencyAmounts:s,updatedDeposit0Disabled:u,updatedDeposit1Disabled:p}}),[x,_,v,h,s,d,c,u,p])}},86733:(e,i,t)=>{"use strict";t.d(i,{Y:()=>u});var n=t(97755),o=t(87382),r=t(34979),a=t(20128),s=t(17041),l=t(87584);const d=(0,a.forwardRef)((({value:e,onUserInput:i,placeholder:t,testId:r,maxDecimals:a=2,...s},d)=>{const c=`^\\d*(\\.\\d{0,${a}})?$`,u="^\\d*$",p=RegExp(c),x=RegExp(u),_=(0,l.useCurrentLocale)(),v=(e=>{const[i,t]=(0,o.Cb)(_)?[/\./g,","]:[/,/g,"."];return e.toString().replace(i,t)})(e);return(0,n.jsx)(o.Fy,{minLength:1,maxLength:a+2,...s,ref:d,value:v,"data-testid":r,onChange:e=>{(e=>{const t=e.replace(/,/g,".");(""===t||(a<=0?x:p).test(t))&&i(t)})(e.target.value)},inputMode:"numeric",autoComplete:"off",autoCorrect:"off",type:"text",pattern:a<=0?u:c,placeholder:t||"0",spellCheck:"false"})}));d.displayName="Input";const c=a.memo(d),u=(0,s.default)(c).withConfig({displayName:"PercentInput__StyledPercentInput",componentId:"sc-61c0c1e2-0"})`
  max-height: 84px;
  max-width: 100%;
  width: ${({$width:e})=>`${e??43}px`}; // this value is from the size of a 0 which is the default value
  ${r.Wm}

  ::placeholder {
    opacity: 1;
  }
`},92452:(e,i,t)=>{"use strict";t.d(i,{y:()=>h});var n=t(97755),o=t(20128),r=t(82663),a=t(49476),s=t(82746),l=t(59793),d=t(67830),c=t(90418);const u="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _width-t-size-spac3237008 _height-t-size-spac100347329 _backgroundColor-surface3 _ml-15px _mt-t-space-spa94665593 _mb-t-space-spa94665593 _borderTopLeftRadius-t-radius-ro1041013639 _borderTopRightRadius-t-radius-ro1041013639 _borderBottomRightRadius-t-radius-ro1041013639 _borderBottomLeftRadius-t-radius-ro1041013639 ",p="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-spa94665587 ",x=" _backgroundColor-surface3",_=" _backgroundColor-neutral1",v=" _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _height-t-size-spac100347329 _width-t-size-spac100347329 _borderTopLeftRadius-t-radius-ro1041013639 _borderTopRightRadius-t-radius-ro1041013639 _borderBottomRightRadius-t-radius-ro1041013639 _borderBottomLeftRadius-t-radius-ro1041013639 _alignItems-center _justifyContent-center  ";function h({steps:e,...i}){return(0,d.assert)(e.length>0,"PoolProgressIndicator: steps must have at least one step"),(0,n.jsx)(s.Flex,{width:"100%",borderRadius:"$rounded24",py:"$padding8",borderColor:"$surface3",borderWidth:"$spacing1",p:"$padding16",...i,children:e.map(((i,t)=>(0,n.jsxs)(o.Fragment,{children:[(0,n.jsxs)(s.Flex,{row:!0,gap:"$gap12",alignItems:"center",onPress:i.onPress,...i.onPress?a.G:{},children:[(0,n.jsx)("div",{className:(0,c.Ej)(""+(v+(i.active?_:x))),children:(0,n.jsx)(l.Text,{variant:"subheading2",color:i.active?"$surface1":"$neutral2",userSelect:"none",children:t+1})}),(0,n.jsxs)("div",{className:p,children:[(0,n.jsx)(l.Text,{variant:"body3",color:i.active?"$neutral2":"$neutral3",userSelect:"none",children:(0,n.jsx)(r.Trans,{i18nKey:"common.step.number",values:{number:t+1}})}),(0,n.jsx)(l.Text,{variant:"subheading2",color:i.active?"$neutral1":"$neutral2",userSelect:"none",children:i.label})]})]}),t!==e.length-1&&(0,n.jsx)("div",{className:u})]},i.label+t)))})}t(64853)},29111:(e,i,t)=>{"use strict";t.d(i,{OY:()=>d,Oo:()=>c,_G:()=>l});var n=t(85752),o=t(2442),r=t(20128),a=t(51510),s=t(20948),l=(e=>(e[e.LOADING=0]="LOADING",e[e.NOT_EXISTS=1]="NOT_EXISTS",e[e.EXISTS=2]="EXISTS",e[e.INVALID=3]="INVALID",e))(l||{});function d(e){var i,t;const l=null===(t=e[0])||void 0===t||null===(i=t[0])||void 0===i?void 0:i.chainId,d=(0,r.useMemo)((()=>e.map((([e,i])=>{var t,n;return[null===(t=e)||void 0===t?void 0:t.wrapped,null===(n=i)||void 0===n?void 0:n.wrapped]}))),[e]),c=(0,r.useMemo)((()=>d.map((([e,i])=>e&&i&&e.chainId===i.chainId&&!e.equals(i)&&n.V2_FACTORY_ADDRESSES[e.chainId]?(0,o.computePairAddress)({factoryAddress:n.V2_FACTORY_ADDRESSES[e.chainId],tokenA:e,tokenB:i}):void 0))),[d]),{data:u,isLoading:p}=(0,s.N)({contracts:(0,r.useMemo)((()=>c.map((e=>({address:(0,a.c)(e)??"0x",abi:[{constant:!0,inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"reserve0",type:"uint112"},{internalType:"uint112",name:"reserve1",type:"uint112"},{internalType:"uint32",name:"blockTimestampLast",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"}],functionName:"getReserves",chainId:l})))),[c,l])});return(0,r.useMemo)((()=>{var e;return p?Array.from({length:c.length},(()=>[0,null])):(null===(e=u)||void 0===e?void 0:e.map((({result:e},i)=>{const t=d[i][0],r=d[i][1];if(!t||!r||t.equals(r))return[3,null];if(!e)return[1,null];const[a,s]=e,[l,c]=t.sortsBefore(r)?[t,r]:[r,t];return[2,new o.Pair(n.CurrencyAmount.fromRawAmount(l,a.toString()),n.CurrencyAmount.fromRawAmount(c,s.toString()))]})))??[]}),[u,p,c.length,d])}function c(e,i){return d((0,r.useMemo)((()=>[[e,i]]),[e,i]))[0]}},4410:(e,i,t)=>{"use strict";t.d(i,{V:()=>l});var n=t(97755),o=t(26459),r=t(59793),a=t(4545),s=t(27258);function l({price:e,base:i,quote:t,variant:l}){var d,c,u,p;const{formatCurrencyAmount:x,formatPrice:_}=(0,s.Gb)(),v=(0,o.Z)(null===(d=e)||void 0===d?void 0:d.toFixed(),null===(c=e)||void 0===c?void 0:c.quoteCurrency),h=(0,a.useUSDCValue)(v);return e&&i&&t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.Text,{variant:l??"body3",color:"$neutral1",children:[_({price:e,type:s.sw.TokenTx})," ",null===(u=t)||void 0===u?void 0:u.symbol," = 1 ",null===(p=i)||void 0===p?void 0:p.symbol]})," ",(0,n.jsxs)(r.Text,{variant:l??"body3",color:"$neutral2",children:["(",x({amount:h,type:s.sw.FiatTokenPrice}),")"]})]}):null}},76557:(e,i,t)=>{"use strict";t.d(i,{gv:()=>ye,PO:()=>je,MJ:()=>Ce,g_:()=>Se});var n=t(97755),o=t(44842),r=t(52435),a=t(48426),s=t(53488),l=t(86733),d=t(59553),c=t(34910),u=t.n(c),p=t(96677),x=t(34979),_=t(20128),v=t(82663),h=t(70784),m=t(17041),f=t(49476),g=t(82746),b=t(59793),y=t(19275),S=t(59068),C=t(85193),j=t(89444),I=t(80115),T=t(17154),R=t(9670),P=t(18607),k=t(95336),D=t(41611),w=t(98195),$=t(81886),F=t(46433),E=t(66789),O=t(55059),A=t(61463),L=t(82908),W=t(70943);const z="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1569 _alignItems-center  _pb-_sm_t-space-spa1360334080",B="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap1569 _alignItems-center ",N="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center ",M="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",H="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _width-10037 _gap-t-space-gap52 _maxHeight-350px _overflowX-scroll _overflowY-scroll _pr-t-space-spa1360334076 _pl-t-space-spa1360334076  scrollbar-hidden",V="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _pt-t-space-pad1331704929 _pb-t-space-pad1331704929 _pr-t-space-pad95589114 _pl-t-space-pad95589114 _backgroundColor-surface2 _borderTopLeftRadius-t-radius-ro291586420 _borderTopRightRadius-t-radius-ro291586420 _borderBottomRightRadius-t-radius-ro291586420 _borderBottomLeftRadius-t-radius-ro291586420 _gap-t-space-gap56 _mr-t-space-spa94665593 _ml-t-space-spa94665593 ",U="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row ",q="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-column _flexGrow-1 _justifyContent-flex-end ",K="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-spa1360334043 _pr-t-space-spa1360334051 _pl-t-space-spa1360334051 ",G="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1598 ",Q="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-space-betwe3241 _alignItems-center _gap-t-space-spa94665589 _width-10037 ",Z="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _width-10037 _gap-t-space-gap1598 ",Y=(0,m.default)(l.Y).withConfig({displayName:"FeeTierSearchModal__FeeTierPercentInput",componentId:"sc-bf9bb6ad-0"})`
  flex-grow: 0;
  text-align: end;
  justify-content: flex-end;
`,X=46,J=70,ee=12,ie=1e-4;function te(){const{chainId:e}=(0,h.m)(),{positionState:{fee:i,protocolVersion:t,hook:l},derivedPositionInfo:c,setPositionState:m,feeTierSearchModalOpen:te,setFeeTierSearchModalOpen:ne,setDynamicFeeTierSpeedbumpData:oe}=(0,p.kU)(),re=()=>{ue(""),xe(!1),ne(!1)},{t:ae}=(0,v.useTranslation)(),se=(0,W.useTrace)(),[le,de]=(0,_.useState)(""),[ce,ue]=(0,_.useState)(""),[pe,xe]=(0,_.useState)(!1),{formatNumberOrString:_e,formatPercent:ve}=(0,$.useLocalizationContext)(),[he,me]=(0,_.useState)(!1),[fe,ge]=(0,_.useState)(!1),[be,ye]=(0,_.useState)(0),Se=(0,O.Z)(),Ce=Boolean(l),je=(0,w.useFeatureFlag)(D.FeatureFlags.LpIncentives),{feeTierData:Ie,hasExistingFeeTiers:Te}=(0,r.Ku)({chainId:e,protocolVersion:t,currencies:c.currencies,withDynamicFeeTier:Ce,hook:l??d.r_}),Re=!Ce&&(pe||!Te);(0,_.useEffect)((()=>{let e,i;const t=100;let n=t;return he||fe?(i=setTimeout((()=>{ye((e=>e+1))}),u()("1s")),be>=2&&(n=50),be>=4&&(n=25),be>=6&&(n=12.5),e=setInterval((()=>{ue((e=>{let i=parseFloat(e);if(he){if(!e||""===e)return"0";if(i-=ie,i<0)return"0"}else if(fe){if(!e||""===e)return ie.toString();if(i+=ie,i>100)return"100"}return i.toFixed(r.tE)}))}),n),()=>{clearInterval(e),clearTimeout(i)}):()=>{clearInterval(e),clearTimeout(i),ye(0)}}),[he,fe,be]);const Pe=Math.round(1e4*parseFloat(ce)),{onLayout:ke,fontSize:De,onSetFontSize:we}=(0,R.useDynamicFontSizing)(X,J,ee);return(0,_.useEffect)((()=>{we(ce||"0")}),[we,ce]),(0,n.jsx)(k.Modal,{name:F.ModalName.FeeTierSearch,onClose:re,isDismissible:!0,isModalOpen:te,paddingX:"$spacing8",paddingY:"$spacing16",maxWidth:404,children:(0,n.jsxs)("div",{className:Z,children:[(0,n.jsxs)("div",{className:Q,children:[pe&&(0,n.jsx)(g.Flex,{...f.G,onPress:()=>xe(!1),children:(0,n.jsx)(C.BackArrow,{size:"$icon.24"})}),(0,n.jsx)(b.Text,{variant:"body2",flexGrow:1,textAlign:Re||L.isMobileWeb?"center":"left",pl:Re?0:8,children:ae(Re?"fee.tier.create":"fee.tier.select")}),(0,n.jsx)(y.ModalCloseIcon,{testId:"LiquidityModalHeader-close",onClose:re})]}),Re?(0,n.jsxs)("div",{className:G,children:[(0,n.jsx)(b.Text,{variant:"body2",color:"$neutral2",textAlign:"center",children:ae("fee.tier.create.description")}),(0,n.jsxs)("div",{className:K,children:[(0,n.jsx)(g.Flex,{justifyContent:"center",alignItems:"center",backgroundColor:"$surface3",borderRadius:"$roundedFull",userSelect:"none",height:"$spacing36",width:"$spacing36",onPressIn:()=>{me(!0)},onPressOut:()=>{me(!1)},onPress:()=>{ue((e=>{if(!e||""===e)return"0";const i=parseFloat(e)-ie;return isNaN(i)||i<0?"0":i.toFixed(r.tE)}))},...f.G,children:(0,n.jsx)(b.Text,{variant:"heading3",mb:"$spacing4",children:"-"})}),(0,n.jsx)("div",{className:q,children:(0,n.jsxs)(g.Flex,{row:!0,maxWidth:"100%",centered:!0,onLayout:ke,minHeight:"84px",children:[(0,n.jsx)(Y,{value:ce,onUserInput:e=>{parseFloat(e)>100?ue("100"):ue(e)},placeholder:"0",maxDecimals:r.tE,$fontSize:De,$width:ce&&Se.width?Se.width+1:void 0}),(0,n.jsx)(x.zu,{showPlaceholder:!ce,$fontSize:De,children:"%"}),(0,n.jsx)(x.gt,{ref:Se.ref,$fontSize:De,children:ce})]})}),(0,n.jsx)(g.Flex,{justifyContent:"center",alignItems:"center",backgroundColor:"$surface3",borderRadius:"$roundedFull",userSelect:"none",height:36,width:36,onPressIn:()=>{ge(!0)},onPressOut:()=>{ge(!1)},onPress:()=>{ue((e=>{if(!e||""===e)return ie.toString();const i=parseFloat(e)+ie;return i>100?"100":i.toFixed(r.tE)}))},...f.G,children:(0,n.jsx)(b.Text,{variant:"heading3",children:"+"})})]}),(0,n.jsx)("div",{className:U,children:(0,n.jsx)(S.z,{variant:"default",isDisabled:!ce||""===ce,onPress:()=>{m((e=>({...e,fee:{feeAmount:Pe,tickSpacing:(0,a.ZZ)(Pe)}}))),(0,E.sendAnalyticsEvent)(o.vp.SELECT_LIQUIDITY_POOL_FEE_TIER,{action:o.jI.SEARCH,fee_tier:Pe,is_new_fee_tier:Boolean(Ie[Pe]),...se}),re()},children:Ie[Pe]?ae("fee.tier.select.existing.button"):ae("fee.tier.create.button")})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:V,children:[(0,n.jsx)(T.Search,{size:20,color:"$neutral2"}),(0,n.jsx)(P.AmountInput,{width:"100%",autoFocus:!0,alignSelf:"stretch",backgroundColor:"$transparent",borderRadius:0,borderWidth:"$none",textAlign:"left",value:le,fontFamily:"$subHeading",fontSize:18,px:"$none",py:"$none",placeholder:ae("fee.tier.search.short"),placeholderTextColor:"$neutral3",onChangeText:e=>{if("."===e)return void de("0.");if(-1!==e.indexOf(".")&&-1!==e.indexOf(".",e.indexOf(".")+1))return;if(!P.numericInputRegex.test(e))return void de(e.slice(0,-1));const i=parseFloat(e);de(i>100?"100":i>=0?e:"")}})]}),(0,n.jsx)("div",{className:H,children:Object.values(Ie).filter((e=>e.formattedFee.includes(le)||e.id&&le.includes(e.id))).map((e=>(0,n.jsxs)(g.Flex,{row:!0,alignItems:"center",gap:"$spacing24",py:"$padding12",justifyContent:"space-between",...f.G,onPress:()=>{(0,a.Lh)(e.fee)?oe({open:!0,wishFeeData:e.fee}):m((i=>({...i,fee:{feeAmount:e.fee.feeAmount,tickSpacing:e.fee.tickSpacing}}))),re()},children:[(0,n.jsxs)("div",{className:M,children:[(0,n.jsxs)("div",{className:N,children:[(0,n.jsx)(b.Text,{variant:"subheading2",children:e.formattedFee}),je&&void 0!==e.boostedApr&&e.boostedApr>0&&(0,n.jsx)(s.i,{lpIncentiveRewardApr:e.boostedApr,isSmall:!0,ml:"$spacing8"})]}),(0,n.jsxs)("div",{className:B,children:[(0,n.jsxs)(b.Text,{variant:"body3",color:"$neutral2",children:[0===e.totalLiquidityUsd?"0":_e({value:e.totalLiquidityUsd,type:A.NumberType.FiatTokenStats})," ",ae("common.totalValueLocked")]}),(0,n.jsx)(b.Text,{variant:"body3",color:"$neutral2",children:e.created?ae("fee.tier.percent.select",{percentage:ve(e.percentage.toFixed())}):ae("common.notCreated.label")})]})]}),e.fee.feeAmount===i.feeAmount&&(0,n.jsx)(j.CheckCircleFilled,{size:"$icon.24",color:"$accent3"})]},e.id+e.formattedFee)))}),(0,n.jsxs)("div",{className:z,children:[(0,n.jsx)(b.Text,{variant:"body3",color:"$neutral2",children:ae("fee.tier.missing.description")}),(0,n.jsx)(S.z,{emphasis:"secondary",size:"small",fill:!1,icon:(0,n.jsx)(I.v,{size:16,color:"$neutral1"}),onPress:()=>xe(!0),children:ae("fee.tier.create.button")})]})]})]})})}t(34261);var ne=t(82512),oe=t(7085),re=t(71797);const ae=()=>{const{setPositionState:e,dynamicFeeTierSpeedbumpData:i,setDynamicFeeTierSpeedbumpData:t}=(0,p.kU)(),{t:o}=(0,v.useTranslation)(),r=()=>{t({open:!1,wishFeeData:i.wishFeeData})};return i.open?(0,n.jsx)(oe.W,{icon:(0,n.jsx)("div",{className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _backgroundColor-surface3 _borderTopLeftRadius-t-radius-ro291586453 _borderTopRightRadius-t-radius-ro291586453 _borderBottomRightRadius-t-radius-ro291586453 _borderBottomLeftRadius-t-radius-ro291586453 _height-t-size-spac100347366 _width-t-size-spac100347366 _alignItems-center _justifyContent-center _mb-t-space-spa94665589 ",children:(0,n.jsx)(re.InfoCircleFilled,{size:"$icon.24",color:"$neutral"})}),isOpen:!0,title:o("fee.tier.dynamic.create"),subtext:o("fee.tier.dynamic.create.info"),onClose:r,primaryButtonText:o("common.button.continue"),primaryButtonOnClick:()=>{e((e=>({...e,fee:{feeAmount:i.wishFeeData.feeAmount,tickSpacing:i.wishFeeData.tickSpacing}}))),t({open:!1,wishFeeData:i.wishFeeData})},primaryButtonVariant:"default",secondaryButtonText:o("common.button.cancel"),secondaryButtonOnClick:r,modalName:F.ModalName.DynamicFeeTierSpeedbump,displayHelpCTA:!0}):null};t(86587);var se=t(37134),le=t(25802),de=t(10795),ce=t(57154),ue=t(39770),pe=t(27281),xe=t(69003),_e=t(88919),ve=t(68915),he=t(58146),me=t(70850),fe=t(96881),ge=t(46832),be=t(13052);function ye({children:e,initialState:i={}}){const[t,o]=(0,_.useState)({...le.vF,...i}),[r,a]=(0,_.useState)(le.bC.SELECT_TOKENS_AND_FEE_TIER),[s,l]=(0,_.useState)(),d=(0,se.Zb)(t),[c,u]=(0,_.useState)(!1),[x,v]=(0,_.useState)({open:!1,wishFeeData:le.vF.fee}),h=(0,_.useCallback)((()=>{o({...le.vF,...i}),a(le.bC.SELECT_TOKENS_AND_FEE_TIER)}),[i]);return(0,_.useEffect)((()=>{i.currencyInputs&&o((e=>({...e,currencyInputs:{...e.currencyInputs,...i.currencyInputs}})))}),[i.currencyInputs]),(0,n.jsxs)(p.a2.Provider,{value:{reset:h,step:r,setStep:a,positionState:t,setPositionState:o,derivedPositionInfo:d,feeTierSearchModalOpen:c,currentTransactionStep:s,setCurrentTransactionStep:l,setFeeTierSearchModalOpen:u,dynamicFeeTierSpeedbumpData:x,setDynamicFeeTierSpeedbumpData:v},children:[e,(0,n.jsx)(te,{}),(0,n.jsx)(ae,{})]})}function Se({children:e}){var i;const{positionState:t}=(0,p.kU)(),o=!(null===(i=t.initialPosition)||void 0===i?void 0:i.isOutOfRange),[r,a]=(0,_.useState)({...p.be,fullRange:o}),s=(0,_.useCallback)((()=>{a(p.be)}),[]);(0,_.useEffect)((()=>{a({...p.be,fullRange:o})}),[o]),(0,_.useEffect)((()=>{a((e=>e.fullRange?{...e,fullRange:o,minPrice:"",maxPrice:""}:{...e,fullRange:!1,minPrice:void 0,maxPrice:void 0}))}),[r.priceInverted,o]);const l=(0,se.Jc)(r);return(0,n.jsx)(p.H1.Provider,{value:{reset:s,priceRangeState:r,setPriceRangeState:a,derivedPriceRangeInfo:l},children:e})}function Ce({children:e}){var i,t;const[o,r]=(0,_.useState)(p.gr),a=(0,se.y7)(o),{derivedPriceRangeInfo:s}=(0,p.$s)();(0,_.useEffect)((()=>{s.deposit1Disabled?r((e=>({...e,exactField:ce.R.TOKEN0}))):s.deposit0Disabled&&r((e=>({...e,exactField:ce.R.TOKEN1})))}),[null===(i=s)||void 0===i?void 0:i.deposit0Disabled,null===(t=s)||void 0===t?void 0:t.deposit1Disabled]);const l=(0,_.useCallback)((()=>{r(p.gr)}),[]);return(0,n.jsx)(p.Fh.Provider,{value:{reset:l,depositState:o,setDepositState:r,derivedDepositInfo:a},children:e})}function je({children:e}){var i,t,o,r,a,s,l,d,c,u,x,v,h,m,f,g,b,y,S,C,j,I,T,R,P,k,D;const w=(0,ue.useAccountMeta)(),{derivedPositionInfo:$,positionState:O,currentTransactionStep:A}=(0,p.kU)(),{derivedDepositInfo:L,depositState:W}=(0,p.EY)(),{priceRangeState:z,derivedPriceRangeInfo:B}=(0,p.$s)(),{customDeadline:N,customSlippageTolerance:M}=(0,me.useTransactionSettingsContext)(),H=null===(t=(o=(0,ue.useUniswapContext)()).getGeneratePermitAsTransaction)||void 0===t?void 0:t.call(o,null===(i=$.currencies[0])||void 0===i?void 0:i.chainId),V=Boolean(L.error),[U,q]=(0,_.useState)(!1),K=(0,_.useMemo)((()=>(0,de.jE)({account:w,positionState:O,derivedPositionInfo:$,derivedDepositInfo:L,generatePermitAsTransaction:H})),[w,L,$,O,H]),{data:G,error:Q,isLoading:Z,refetch:Y}=(0,pe.F)({params:K,staleTime:5*be.ONE_SECOND_MS,retry:!1,enabled:!!K&&!V&&!U});if(Q){const e=(0,he.parseErrorMessageTitle)(Q,{defaultTitle:"unknown CheckLpApprovalQuery"});ge.logger.error(e,{tags:{file:"CreateTxContextProvider",function:"useEffect"}})}const X=(0,ve.useUSDCurrencyAmountOfGasFee)(null===(a=$.currencies)||void 0===a||null===(r=a[0])||void 0===r?void 0:r.chainId,null===(s=G)||void 0===s?void 0:s.gasFeeToken0Approval),J=(0,ve.useUSDCurrencyAmountOfGasFee)(null===(d=$.currencies)||void 0===d||null===(l=d[1])||void 0===l?void 0:l.chainId,null===(c=G)||void 0===c?void 0:c.gasFeeToken1Approval),ee=(0,ve.useUSDCurrencyAmountOfGasFee)(null===(x=$.currencies)||void 0===x||null===(u=x[0])||void 0===u?void 0:u.chainId,null===(v=G)||void 0===v?void 0:v.gasFeeToken0Permit),ie=(0,ve.useUSDCurrencyAmountOfGasFee)(null===(m=$.currencies)||void 0===m||null===(h=m[1])||void 0===h?void 0:h.chainId,null===(f=G)||void 0===f?void 0:f.gasFeeToken1Permit),te=(0,_.useMemo)((()=>(0,de.VA)({account:w,approvalCalldata:G,positionState:O,derivedPositionInfo:$,priceRangeState:z,derivedPriceRangeInfo:B,derivedDepositInfo:L,independentField:W.exactField,slippageTolerance:M})),[w,G,L,$,B,O,z,W.exactField,M]),oe=!((null===(g=A)||void 0===g?void 0:g.step.type)===fe.TransactionStepType.IncreasePositionTransaction||(null===(b=A)||void 0===b?void 0:b.step.type)===fe.TransactionStepType.IncreasePositionTransactionAsync)&&!V&&!Z&&!Q&&Boolean(G)&&Boolean(te),{data:re,error:ae,refetch:se}=(0,xe.m)({params:te,deadlineInMinutes:N,refetchInterval:!U&&5*be.ONE_SECOND_MS,retry:!1,enabled:oe});if((0,_.useEffect)((()=>{q(!!ae)}),[ae,te,K]),ae){const e=(0,he.parseErrorMessageTitle)(ae,{defaultTitle:"unknown CreateLpPositionCalldataQuery"});ge.logger.error(e,{tags:{file:"CreateTxContextProvider",function:"useEffect"}}),(0,E.sendAnalyticsEvent)(F.InterfaceEventNameLocal.CreatePositionFailed,{message:e})}const le=(0,ne.RS)(te,oe&&Boolean(ae)),ce=null===(y=re)||void 0===y?void 0:y.gasFee,ye=!!((null===(S=G)||void 0===S?void 0:S.token0Approval)||(null===(C=G)||void 0===C?void 0:C.token1Approval)||(null===(j=G)||void 0===j?void 0:j.token0Cancel)||(null===(I=G)||void 0===I?void 0:I.token1Cancel)||(null===(T=G)||void 0===T?void 0:T.token0PermitTransaction)||(null===(R=G)||void 0===R?void 0:R.token1PermitTransaction)),{value:Se}=(0,ve.useTransactionGasFee)(null===(P=re)||void 0===P?void 0:P.create,!!ce||ye),Ce=(0,ve.useUSDCurrencyAmountOfGasFee)((0,_e.toSupportedChainId)(null===(D=re)||void 0===D||null===(k=D.create)||void 0===k?void 0:k.chainId)??void 0,ce||Se),je=(0,_.useMemo)((()=>[X,J,Ce,ee,ie].reduce(((e,i)=>i&&e?e.add(i):e||i))),[X,J,Ce,ee,ie]),Ie=(0,_.useMemo)((()=>{var e;return{txInfo:(0,de.By)({approvalCalldata:G,createCalldata:re,createCalldataQueryParams:te,derivedPositionInfo:$,derivedDepositInfo:L}),gasFeeEstimateUSD:je,error:(0,he.getErrorMessageToDisplay)({approvalError:Q,calldataError:ae}),refetch:Q?Y:ae?se:void 0,dependentAmount:ae&&le?le:null===(e=re)||void 0===e?void 0:e.dependentAmount}}),[G,re,te,$,L,Q,ae,Y,se,je,le]);return(0,n.jsx)(p.Qk.Provider,{value:Ie,children:e})}},40384:(e,i,t)=>{"use strict";t.d(i,{o:()=>j});var n=t(97755),o=t(16467),r=t(69549),a=t(8269),s=t(48426),l=t(30715),d=t(96677),c=t(43965),u=t(96161),p=t(25802),x=t(20128),_=t(82663),v=t(59068),h=t(60759),m=t(59793),f=t(52964),g=t(20868);const[b,y]=(0,g.I)({name:"Edit",getIcon:e=>(0,n.jsx)(f.ny,{viewBox:"0 0 24 24",fill:"none",...e,children:(0,n.jsx)(f.y$,{d:"M16 21.75H6C3.582 21.75 2.25 20.418 2.25 18V7.99998C2.25 5.58198 3.582 4.24998 6 4.24998H9C9.414 4.24998 9.75 4.58598 9.75 4.99998C9.75 5.41398 9.414 5.74998 9 5.74998H6C4.423 5.74998 3.75 6.42298 3.75 7.99998V18C3.75 19.577 4.423 20.25 6 20.25H16C17.577 20.25 18.25 19.577 18.25 18V15C18.25 14.586 18.586 14.25 19 14.25C19.414 14.25 19.75 14.586 19.75 15V18C19.75 20.418 18.418 21.75 16 21.75ZM20.58 5.02997L18.97 3.41999C18.4 2.85999 17.49 2.85997 16.92 3.42997L15.57 4.78998L19.21 8.42997L20.57 7.07996C21.14 6.50996 21.14 5.59997 20.58 5.02997ZM14.51 5.84998L8 12.39V16H11.61L18.15 9.48997L14.51 5.84998Z",fill:"currentColor"})})});var S=t(63691);const C=({children:e,onClick:i,...t})=>{const{t:o}=(0,_.useTranslation)();return(0,n.jsxs)(u.W2,{row:!0,gap:"$gap24",justifyContent:"space-between",alignItems:"center",...t,children:[e,(0,n.jsx)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row ",children:(0,n.jsx)(v.z,{maxWidth:"fit-content",emphasis:"secondary",size:"small",onPress:i,icon:(0,n.jsx)(b,{size:"$icon.20"}),children:o("common.edit.button")})})]})},j=e=>{var i,t;const{setStep:u,derivedPositionInfo:_,positionState:v}=(0,d.kU)(),{reset:f}=(0,d.$s)(),{reset:g}=(0,d.EY)(),{creatingPoolOrPair:b,currencies:y,protocolVersion:j,defaultInitialPrice:I}=_,{fee:T,hook:R}=v,[P,k]=y,D=(0,s.uR)(j),w=(0,h.GS)(),$=(0,x.useCallback)((()=>{f(),g(),u(p.bC.SELECT_TOKENS_AND_FEE_TIER)}),[g,f,u]);return(0,n.jsx)(C,{onClick:$,...e,children:(0,n.jsxs)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1569 _width-10037 ",children:[(0,n.jsxs)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap1569 ",children:[(0,n.jsx)(l.g,{currencies:[P,k],size:w.md?S._.icon44:S._.icon32}),(0,n.jsxs)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap1569  _flexDirection-_md_column _gap-_md_t-space-gap52",children:[(0,n.jsxs)("div",{className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap56 _alignItems-center ",children:[(0,n.jsx)(m.Text,{variant:"subheading1",children:null===(i=P)||void 0===i?void 0:i.symbol}),(0,n.jsx)(m.Text,{variant:"subheading1",children:"/"}),(0,n.jsx)(m.Text,{variant:"subheading1",children:null===(t=k)||void 0===t?void 0:t.symbol})]}),(0,n.jsx)("div",{className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-2px _alignItems-center ",children:(0,n.jsx)(a.x,{size:"small",versionLabel:D,v4hook:R,feeTier:T.feeAmount})})]})]}),b?(0,n.jsx)(r.Z,{}):_.protocolVersion===o.Qe.V2?(0,n.jsx)(c.A,{price:I}):null]})})};t(21308)},56820:(e,i,t)=>{"use strict";t.d(i,{F:()=>s});var n=t(97755),o=t(19087),r=t(96677),a=t(82663);function s(){const{t:e}=(0,a.useTranslation)(),{derivedPositionInfo:{isPoolOutOfSync:i,refetchPoolData:t}}=(0,r.kU)();return i?(0,n.jsx)(o.p,{isWarning:!0,errorMessage:!0,description:e("pool.liquidity.outOfSync.message"),title:e("pool.liquidity.outOfSync"),action:e("pool.refresh.prices"),onPress:t}):null}},43965:(e,i,t)=>{"use strict";t.d(i,{A:()=>ge,u:()=>je});var n=t(97755),o=t(16467),r=t(90221),a=t(14237),s=t(9032),l=t(82908);const d={rightAxisWidth:64,chartContainerWidth:516,liquidityChartWidth:68,interChartPadding:12,chartHeight:164,bottomAxisHeight:28,loadedPriceChartWidth:372},c={rightAxisWidth:0,chartContainerWidth:290,liquidityChartWidth:48,interChartPadding:0,chartHeight:164,bottomAxisHeight:28,loadedPriceChartWidth:290};var u=t(13773),p=t(53432),x=t(64330),_=t(72308),v=t(94694),h=t(51215),m=t(59553),f=t(53221),g=t(10795),b=t(20128),y=t(82663),S=t(49476),C=t(90887),j=t(19671),I=t(59793),T=t(82746),R=t(26013),P=t(25604),k=t(59068),D=t(2170),w=t(47645),$=t(84370),F=t(32292),E=t(52964),O=t(20868);const[A,L]=(0,O.I)({name:"SearchMinus",getIcon:e=>(0,n.jsx)(E.ny,{viewBox:"0 0 16 16",fill:"none",...e,children:(0,n.jsx)(E.y$,{d:"M14.3534 13.6467L11.44 10.7333C12.2066 9.81334 12.6667 8.62667 12.6667 7.33333C12.6667 4.38667 10.28 2 7.33333 2C4.38667 2 2 4.38667 2 7.33333C2 10.28 4.38667 12.6667 7.33333 12.6667C8.62667 12.6667 9.81332 12.2067 10.7333 11.44L13.6466 14.3533C13.7466 14.4533 13.8733 14.5 14 14.5C14.1267 14.5 14.2534 14.4533 14.3534 14.3533C14.5467 14.16 14.5467 13.84 14.3534 13.6467ZM9.33333 7.83333H5.33333C5.06 7.83333 4.83333 7.60667 4.83333 7.33333C4.83333 7.06 5.06 6.83333 5.33333 6.83333H9.33333C9.60667 6.83333 9.83333 7.06 9.83333 7.33333C9.83333 7.60667 9.60667 7.83333 9.33333 7.83333Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}),[W,z]=(0,O.I)({name:"SearchPlus",getIcon:e=>(0,n.jsx)(E.ny,{viewBox:"0 0 16 16",fill:"none",...e,children:(0,n.jsx)(E.y$,{d:"M14.3534 13.6467L11.44 10.7333C12.2066 9.81334 12.6667 8.62667 12.6667 7.33333C12.6667 4.38667 10.28 2 7.33333 2C4.38667 2 2 4.38667 2 7.33333C2 10.28 4.38667 12.6667 7.33333 12.6667C8.62667 12.6667 9.81332 12.2067 10.7333 11.44L13.6466 14.3533C13.7466 14.4533 13.8733 14.5 14 14.5C14.1267 14.5 14.2534 14.4533 14.3534 14.3533C14.5467 14.16 14.5467 13.84 14.3534 13.6467ZM9.33333 7.83333H7.83333V9.33333C7.83333 9.60667 7.60667 9.83333 7.33333 9.83333C7.06 9.83333 6.83333 9.60667 6.83333 9.33333V7.83333H5.33333C5.06 7.83333 4.83333 7.60667 4.83333 7.33333C4.83333 7.06 5.06 6.83333 5.33333 6.83333H6.83333V5.33333C6.83333 5.06 7.06 4.83333 7.33333 4.83333C7.60667 4.83333 7.83333 5.06 7.83333 5.33333V6.83333H9.33333C9.60667 6.83333 9.83333 7.06 9.83333 7.33333C9.83333 7.60667 9.60667 7.83333 9.33333 7.83333Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});var B=t(94839),N=t(55278);const M=({children:e,...i})=>(0,n.jsx)(C.Z,{...i,animation:"100ms",backgroundColor:"$transparent",hoverStyle:{backgroundColor:"$transparent",opacity:.8},pressStyle:{backgroundColor:"$surface3",opacity:.8},alignItems:"center",justifyContent:"center",borderColor:"$surface3",borderWidth:"$spacing1",p:"$spacing8",children:e});function H({quoteCurrency:e,baseCurrency:i,feeTier:t,tickSpacing:C,protocolVersion:E,poolId:O,hook:L,minPrice:z,maxPrice:H,setMinPrice:V,setMaxPrice:U,disableBrushInteraction:q=!1,setFallbackRangePrices:K}){var G,Q,Z,Y;const X=(0,N.getChainInfo)(e.chainId),J=(0,j.useSporeColors)(),{t:ee}=(0,y.useTranslation)(),ie=(0,g.he)(e,i,E),te=(null===(G=(0,g.EE)(i,E))||void 0===G?void 0:G.equals(ie[0]))??!1,[ne,oe]=(0,b.useState)(B.HistoryDuration.Month),re=(0,f.u)({addressOrId:O,chain:X.backendChain.chain,duration:ne,isV4:E===o.Qe.V4,isV3:E===o.Qe.V3,isV2:!1},e,E,(0,g.I3)(ie[0],E)),[ae,se]=(0,b.useState)(),[le,de]=(0,b.useState)(1),{dataMin:ce,dataMax:ue}=(0,b.useMemo)((()=>{const{min:e,max:i}=(0,x.x)(re.entries);return{dataMin:e,dataMax:i}}),[re.entries]),[pe,xe]=(0,b.useState)(),[_e,ve]=(0,b.useState)(!1);(0,b.useEffect)((()=>{var e;re.entries.length>0&&xe(null===(e=re.entries[re.entries.length-1])||void 0===e?void 0:e.value)}),[re.entries]);const he=(ue-ce)/10,{minVisiblePrice:me,maxVisiblePrice:fe}=(0,b.useMemo)((()=>{var e;if(!pe)return{minVisiblePrice:ce,maxVisiblePrice:ue};const i=null===(e=re.entries[re.entries.length-1])||void 0===e?void 0:e.value,t=2*Math.max(i-ce,ue-i)/le;return{minVisiblePrice:pe-t/2,maxVisiblePrice:pe+t/2}}),[ue,ce,pe,re.entries,le]),ge=(0,b.useRef)(null),be=(ye=null===(Q=ge.current)||void 0===Q?void 0:Q.clientWidth,l.isMobileWeb?{...c,chartContainerWidth:ye??c.chartContainerWidth,loadedPriceChartWidth:ye??c.loadedPriceChartWidth}:d);var ye;const Se=(0,b.useMemo)((()=>({data:re.entries,stale:re.dataQuality===h.x1.STALE,type:_.E4.LINE,height:be.chartHeight,color:J.accent1.val,colors:J,currentPriceLineColor:J.neutral2.val,showXAxis:!0,minVisiblePrice:me,maxVisiblePrice:fe,setBoundaryPrices:se,isReversed:te,disableExtendedTimeScale:!l.isMobileWeb,allowScrollInteractions:!1,priceScaleMargins:{top:0,bottom:0}})),[re.entries,re.dataQuality,be.chartHeight,J,me,fe,te]),{formattedData:Ce,isLoading:je}=(0,u.p)({poolId:O,currencyA:ie[0],currencyB:ie[1],invertPrices:!te,version:E,feeAmount:Number(t),tickSpacing:C,hooks:L??m.r_}),Ie=(0,b.useMemo)((()=>{if(!Ce)return;const e=new Map;return Ce.forEach((i=>{e.set(i.tick,i)})),Array.from(e.values()).sort(((e,i)=>e.price0-i.price0))}),[Ce]),Te=(0,b.useMemo)((()=>({options:[[B.HistoryDuration.Day,ee("token.priceExplorer.timeRangeLabel.day"),ee("token.priceExplorer.timeRangeLabel.day.verbose")],[B.HistoryDuration.Week,ee("token.priceExplorer.timeRangeLabel.week"),ee("token.priceExplorer.timeRangeLabel.week.verbose")],[B.HistoryDuration.Month,ee("token.priceExplorer.timeRangeLabel.month"),ee("token.priceExplorer.timeRangeLabel.month.verbose")],[B.HistoryDuration.Year,ee("token.priceExplorer.timeRangeLabel.year"),ee("token.priceExplorer.timeRangeLabel.year.verbose")],[B.HistoryDuration.Max,ee("token.priceExplorer.timeRangeLabel.all")]].map((e=>({value:e[0],display:(0,n.jsx)(I.Text,{variant:"buttonLabel3",children:e[1]}),verboseDisplay:(0,n.jsx)(I.Text,{variant:"buttonLabel3",children:e[2]??e[1]})}))),selected:ne})),[ne,ee]),[Re,Pe]=(0,b.useState)(!1),ke=!re.loading&&re.entries.length<5||!je&&!Ie||!je&&Ie&&Ie.length<5;return(0,b.useEffect)((()=>{const e=ge.current;if(e&&!q){let i=0;const t=50,n=e=>{e.preventDefault(),e.stopPropagation();const n=Date.now();n-i>=t&&(i=n,e.deltaY<0?xe((e=>e?e+he:void 0)):e.deltaY>0&&me>0&&xe((e=>e?e-he:void 0)))};return e.addEventListener("wheel",n),()=>{e.removeEventListener("wheel",n)}}}),[q,pe,me,he]),(0,b.useEffect)((()=>{ke&&!q&&void 0===z&&void 0===H&&K()}),[ke,q,z,H,K]),(0,n.jsxs)(T.Flex,{gap:"$gap8",overflow:"hidden",ref:ge,onMouseEnter:()=>{ve(!0)},onMouseLeave:()=>{ve(!1)},children:[(0,n.jsxs)(T.Flex,{height:be.chartHeight+be.bottomAxisHeight,width:be.chartContainerWidth,overflow:"hidden",children:[ke&&(0,n.jsx)(p.Z,{children:(0,n.jsx)(I.Text,{variant:"body3",color:"$neutral2",children:ee("position.setRange.inputsBelow")})}),(0,n.jsxs)(T.Flex,{width:ke?be.chartContainerWidth:be.loadedPriceChartWidth,height:be.chartHeight+be.bottomAxisHeight,overflow:"hidden",zIndex:1,children:[(re.loading||ke)&&(!re.entries||0===re.entries.length)&&(0,n.jsx)(R.Z,{height:be.chartHeight,disabled:ke,zIndex:0,children:(0,n.jsx)(w.T,{size:ke?be.chartContainerWidth:be.loadedPriceChartWidth,color:"$neutral2"})}),ke?null:(0,n.jsx)(a.kL,{Model:s.eE,params:Se,height:be.chartHeight+be.bottomAxisHeight})]}),(0,n.jsxs)(T.Flex,{width:be.chartContainerWidth,height:be.chartHeight,position:"absolute",right:0,top:0,pointerEvents:"none",zIndex:2,children:[(je||re.loading)&&(0,n.jsx)(R.Z,{position:"absolute",right:be.rightAxisWidth,top:0,overflow:"hidden",justifyContent:"flex-end",height:be.chartHeight,width:be.chartHeight,children:(0,n.jsx)(D.i,{color:"$neutral2",size:be.chartHeight})}),Ie&&!je&&!re.loading&&ae&&!ke&&(0,n.jsx)(r.o,{data:{series:Ie,current:null===(Z=re.entries[re.entries.length-1])||void 0===Z?void 0:Z.value,min:ae[0],max:ae[1]},disableBrushInteraction:q,showDiffIndicators:_e,brushDomain:z&&H?[z,H]:void 0,dimensions:{width:be.chartContainerWidth,height:be.chartHeight,contentWidth:be.liquidityChartWidth,axisLabelPaneWidth:be.rightAxisWidth},onBrushDomainChange:function(e,i){if(e[0]<0)return;!i&&void 0!==z&&void 0!==H&&z>=0&&H>=0||(V(e[0]),U(e[1]))},quoteCurrency:e,baseCurrency:i,isMobile:l.isMobileWeb})]})]}),(0,n.jsxs)("div",{className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-gap56  _justifyContent-_lg_space-betwe3241 _flexDirection-_sm_column _alignItems-_sm_flex-start",children:[(0,n.jsxs)("div",{className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-gap56  _flexDirection-_sm_column _alignItems-_sm_flex-start",children:[l.isMobileWeb?(0,n.jsx)(v.u,{containerStyle:{width:"auto"},menuLabel:(0,n.jsxs)(T.Flex,{borderRadius:"$rounded16",backgroundColor:"transparent",row:!0,centered:!0,p:"$padding8",pl:"$padding12",borderColor:"$surface3",borderWidth:"$spacing1",gap:"$gap6",...S.G,children:[null===(Y=Te.options.find((e=>e.value===Te.selected)))||void 0===Y?void 0:Y.display,(0,n.jsx)($.RotatableChevron,{direction:"down",height:16,width:16,color:"$neutral2"})]}),buttonStyle:{borderWidth:0,p:0},dropdownStyle:{width:160},hideChevron:!0,isOpen:Re,adaptToSheet:!0,toggleOpen:()=>{Pe((e=>!e))},children:Te.options.map((e=>(0,n.jsx)("div",{onClick:()=>{oe(e.value),de(1),se(void 0)},className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _width-10037 _height-32px _alignItems-center _justifyContent-flex-start _pt-t-space-pad1331704929 _pr-t-space-pad1331704929 _pb-t-space-pad1331704929 _pl-t-space-pad1331704929 ",children:e.verboseDisplay},e.value)))}):(0,n.jsx)(P.s,{options:Te.options,selectedOption:Te.selected,onSelectOption:e=>{oe(e),de(1),se(void 0)}}),(0,n.jsxs)("div",{className:"  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-center _borderTopLeftRadius-t-radius-ro1041013639 _borderTopRightRadius-t-radius-ro1041013639 _borderBottomRightRadius-t-radius-ro1041013639 _borderBottomLeftRadius-t-radius-ro1041013639 ",children:[(0,n.jsx)(M,{borderTopLeftRadius:"$roundedFull",borderBottomLeftRadius:"$roundedFull",onPress:()=>{de((e=>1.2*e))},children:(0,n.jsx)(W,{size:16,color:"$neutral1"})}),(0,n.jsx)(M,{borderTopRightRadius:"$roundedFull",borderBottomRightRadius:"$roundedFull",onPress:()=>{de((e=>e/1.2))},children:(0,n.jsx)(A,{size:16,color:"$neutral1"})})]})]}),(0,n.jsx)(k.z,{emphasis:"tertiary",size:"small",fill:!1,backgroundColor:"$transparent",onPress:()=>{var e;oe(B.HistoryDuration.Month),de(1),V(void 0),U(void 0),xe(null===(e=re.entries[re.entries.length-1])||void 0===e?void 0:e.value)},icon:l.isMobileWeb?(0,n.jsx)(F.C,{}):void 0,children:l.isMobileWeb?null:ee("common.button.reset")})]})]})}t(24252);var V=t(4410),U=t(96677),q=t(56820),K=t(19087),G=t(24928),Q=t(13549),Z=t(46433);function Y({positionInfo:e}){var i;const{t:t}=(0,y.useTranslation)(),r=(0,G.useDispatch)();return(null===(i=e)||void 0===i?void 0:i.status)!==o.H6.OUT_OF_RANGE?null:(0,n.jsx)(K.p,{isWarning:!0,errorMessage:!0,description:t("position.provide.outOfRange.description"),title:t("position.provide.outOfRange.title"),action:t("position.provide.outOfRange.closePosition"),onPress:()=>r((0,Q.i3)({name:Z.ModalName.RemoveLiquidity,initialState:e})),pressIcon:null})}var X=t(10154),J=t(90418);const ee=" _gap-t-space-gap56",ie=" _gap-t-space-spa94665591",te=" _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center  ";function ne(e,i){const[t,o]=e;return(0,b.useMemo)((()=>{var e,r,a,s;return[{value:(null===(e=t)||void 0===e?void 0:e.symbol)??"",display:(0,n.jsxs)("div",{className:(0,J.Ej)(""+(te+("small"===i?ie:ee))),children:[t&&(0,n.jsx)(X.V,{chainId:t.chainId,currencies:[t],size:"small"===i?16:20}),(0,n.jsx)(I.Text,{variant:"buttonLabel3",children:null===(r=t)||void 0===r?void 0:r.symbol})]})},{value:(null===(a=o)||void 0===a?void 0:a.symbol)??"",display:(0,n.jsxs)("div",{className:(0,J.Ej)(""+(te+("small"===i?ie:ee))),children:[o&&(0,n.jsx)(X.V,{chainId:o.chainId,currencies:[o],size:"small"===i?16:20}),(0,n.jsx)(I.Text,{variant:"buttonLabel3",children:null===(s=o)||void 0===s?void 0:s.symbol})]})}]}),[t,o,i])}t(57033);var oe=t(64935),re=t(92657),ae=t(3195),se=t(18960),le=t(60759),de=t(906),ce=t(72591),ue=t(42697),pe=t(6607),xe=t(18607),_e=t(77294),ve=t(29602);const he="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _justifyContent-space-betwe3241 ",me="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-spa94665589 ",fe="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap52 _alignItems-center  _flexDirection-_md_column _alignItems-_md_flex-start";function ge({price:e,isLoading:i}){var t,o;return(0,n.jsx)("div",{className:fe,children:i?(0,n.jsx)(I.Text,{variant:"body3",color:"$neutral2",children:(0,n.jsx)(y.Trans,{i18nKey:"common.marketPrice.fetching"})}):e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.Text,{variant:"body3",color:"$neutral2",children:(0,n.jsx)(y.Trans,{i18nKey:"common.marketPrice.label"})}),(0,n.jsx)(V.V,{price:e,base:null===(t=e)||void 0===t?void 0:t.baseCurrency,quote:null===(o=e)||void 0===o?void 0:o.quoteCurrency})]}):(0,n.jsxs)("div",{className:me,children:[(0,n.jsx)(ce.AlertTriangleFilled,{size:16,color:"$neutral2"}),(0,n.jsx)(I.Text,{variant:"body3",color:"$neutral2",children:(0,n.jsx)(y.Trans,{i18nKey:"common.marketPrice.unavailable"})})]})})}const be=()=>{var e,i,t,o,r,a,s,l,d,c;const[u,p]=(0,b.useState)(),x=(0,le.GS)(),_=(0,j.useSporeColors)(),{derivedPositionInfo:v}=(0,U.kU)(),{derivedPriceRangeInfo:h}=(0,U.$s)(),{priceRangeState:{initialPrice:m,priceInverted:f,isInitialPriceDirty:S},setPriceRangeState:C}=(0,U.$s)(),{defaultInitialPrice:R,isDefaultInitialPriceLoading:D}=v,{priceDifference:w}=h,$=(0,b.useMemo)((()=>{var e,i;return R?f?null===(e=R)||void 0===e?void 0:e.invert().toSignificant(8):null===(i=R)||void 0===i?void 0:i.toSignificant(8):""}),[R,f]);(0,b.useEffect)((()=>{$&&!S&&C((e=>({...e,initialPrice:$})))}),[$,S,C]),(0,b.useEffect)((()=>{try{const i=f?v.currencies[1]:v.currencies[0],t=f?v.currencies[0]:v.currencies[1];if(m&&i&&t){var e;const n=(0,se.U)(i,t,m);p(null===(e=n)||void 0===e?void 0:e.invert().toSignificant(8))}}catch(i){p(void 0)}}),[v.currencies,m,f]);const[F,E]=v.currencies,[O,A]=(0,g.$2)(v.currencies,f),L=ne([F,E],"large"),W=(0,b.useCallback)((e=>{var i;e===(null===(i=F)||void 0===i?void 0:i.symbol)?C((e=>({...e,priceInverted:!1,initialPrice:u??""}))):C((e=>({...e,priceInverted:!0,initialPrice:u??""})))}),[null===(e=F)||void 0===e?void 0:e.symbol,u,C]),z=(0,b.useCallback)((()=>{C((e=>({...e,initialPrice:$})))}),[$,C]);return(0,n.jsxs)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-spa1360334080 ",children:[(0,n.jsx)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-space-betwe3241 ",children:(0,n.jsxs)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-column _gap-t-space-spa94665589 ",children:[(0,n.jsx)(I.Text,{flex:1,variant:"subheading1",children:(0,n.jsx)(y.Trans,{i18nKey:"position.initialPrice.set"})}),(0,n.jsx)(I.Text,{variant:"body3",color:"$neutral2",children:(0,n.jsx)(y.Trans,{i18nKey:"position.initialPrice.info"})})]})}),(0,n.jsxs)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-spa94665589 ",children:[(0,n.jsxs)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _backgroundColor-surface2 _pt-t-space-spa1360334076 _pr-t-space-spa1360334076 _pb-t-space-spa1360334076 _pl-t-space-spa1360334076 _gap-t-space-spa94665591 _borderTopLeftRadius-t-radius-ro291586449 _borderTopRightRadius-t-radius-ro291586449 ",children:[(0,n.jsxs)("div",{className:he,children:[(0,n.jsx)(I.Text,{variant:"body3",color:"$neutral2",children:(0,n.jsx)(y.Trans,{i18nKey:"position.initialPrice"})}),x.sm&&(0,n.jsx)(P.s,{options:L,selectedOption:(null===(i=O)||void 0===i?void 0:i.symbol)??"",onSelectOption:W,size:"smallThumbnail"})]}),(0,n.jsxs)("div",{className:he,children:[(0,n.jsx)(xe.AmountInput,{backgroundColor:"$transparent",borderWidth:"$none",borderRadius:"$none",fontFamily:"$heading",color:(null===(t=w)||void 0===t?void 0:t.warning)===_e.WarningSeverity.Medium?"$statusWarning":(null===(o=w)||void 0===o?void 0:o.warning)===_e.WarningSeverity.High?"$statusCritical":"$neutral1",fontSize:ue.Rq.heading2.fontSize,fontWeight:ue.Rq.heading2.fontWeight,lineHeight:ue.Rq.heading2.lineHeight,overflow:"visible",placeholder:"0",placeholderTextColor:_.neutral3.val,px:"$none",py:"$none",value:m,onChangeText:e=>C((i=>({...i,initialPrice:e,isInitialPriceDirty:!0})))}),!x.sm&&(0,n.jsx)(P.s,{options:L,selectedOption:(null===(r=O)||void 0===r?void 0:r.symbol)??"",onSelectOption:W,size:"largeThumbnail"})]}),(0,n.jsxs)("div",{className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _justifyContent-space-betwe3241  _flexDirection-_sm_column _alignItems-_sm_flex-start",children:[(0,n.jsxs)(I.Text,{variant:"body2",color:"$neutral2",$md:{variant:"body3"},flexShrink:0,children:[null===(a=A)||void 0===a?void 0:a.symbol," = 1 ",null===(s=O)||void 0===s?void 0:s.symbol]}),(0,n.jsx)(de.M,{children:(null===(l=w)||void 0===l?void 0:l.warning)&&(0,n.jsxs)(T.Flex,{row:!0,alignItems:"center",gap:"$spacing4",animation:"fast",exitStyle:{opacity:0},enterStyle:{opacity:0},children:[(0,n.jsx)(ce.AlertTriangleFilled,{size:16,color:w.warning===_e.WarningSeverity.Medium?"$statusWarning":"$statusCritical"}),(0,n.jsx)(I.Text,{variant:"body3",color:w.warning===_e.WarningSeverity.Medium?"$statusWarning":"$statusCritical",children:w.value<0?(0,n.jsx)(y.Trans,{i18nKey:"position.initialPrice.difference.negative",values:{value:w.absoluteValue}}):(0,n.jsx)(y.Trans,{i18nKey:"position.initialPrice.difference.positive",values:{value:w.absoluteValue}})})]})})]})]}),(0,n.jsxs)("div",{className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _backgroundColor-surface2 _pt-t-space-spa1360334080 _pb-t-space-spa1360334080 _pr-t-space-spa1360334076 _pl-t-space-spa1360334076 _borderBottomLeftRadius-t-radius-ro291586449 _borderBottomRightRadius-t-radius-ro291586449 _justifyContent-space-betwe3241 _alignItems-center ",children:[(0,n.jsx)(ge,{isLoading:D,price:f?null===(d=R)||void 0===d?void 0:d.invert():R}),R&&(0,n.jsx)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",children:(0,n.jsx)(k.z,{isDisabled:(null===(c=w)||void 0===c?void 0:c.absoluteValue)?0===w.absoluteValue:!!m,variant:"default",emphasis:"secondary",size:"xxsmall",py:"$spacing12",px:"$spacing8",onPress:z,children:(0,n.jsx)(y.Trans,{i18nKey:"position.initialPrice.useMarketPrice"})})})]})]})]})};function ye({value:e,active:i}){return(0,n.jsx)(I.Text,{color:i?"$neutral1":"$neutral2",userSelect:"none",variant:"buttonLabel3",children:e})}function Se(e){return!e||xe.numericInputRegex.test(e)||"\u221e"===e}function Ce({value:e,input:i,decrement:t,increment:o,showIncrementButtons:r=!0,isInvalid:a=!1}){var s,l,d;const c=(0,j.useSporeColors)(),{t:u}=(0,y.useTranslation)(),{derivedPositionInfo:p}=(0,U.kU)(),{priceRangeState:{priceInverted:x},setPriceRangeState:_}=(0,U.$s)(),[v,h]=(0,b.useState)(""),[m,f]=(0,g.$2)(p.currencies,x),[S,T]=(0,b.useState)(!1),R=(0,b.useCallback)(((e,i)=>{_(0===e?e=>({...e,minPrice:i,fullRange:!1}):e=>({...e,maxPrice:i,fullRange:!1})),h(i),T(!0)}),[_]),P=(0,b.useCallback)((()=>{R(i,t()),T(!1)}),[t,R,i]),k=(0,b.useCallback)((()=>{R(i,o()),T(!1)}),[R,o,i]);return(0,n.jsxs)("div",{className:(0,J.Ej)(" _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-row _flexGrow-1 _position-relative _backgroundColor-surface2 _pt-t-space-spa1360334076 _pr-t-space-spa1360334076 _pb-t-space-spa1360334076 _pl-t-space-spa1360334076 _justifyContent-space-betwe3241 _overflowX-hidden _overflowY-hidden  "+(p.creatingPoolOrPair&&0===i?" _borderTopLeftRadius-t-radius-ro291586424":" _borderTopLeftRadius-t-radius-no3511")+" "+(p.creatingPoolOrPair&&1===i?" _borderTopRightRadius-t-radius-ro291586424":" _borderTopRightRadius-t-radius-no3511")+" "+(0===i?" _borderBottomRightRadius-t-radius-no3511 _borderBottomLeftRadius-t-radius-ro291586424":" _borderBottomRightRadius-t-radius-ro291586424 _borderBottomLeftRadius-t-radius-no3511")+" "+(1===i?"  _borderBottomRightRadius-_lg_t-radius-ro291586424 _borderBottomLeftRadius-_lg_t-radius-ro291586424":" ")+" "+(1!==i?"  _borderBottomRightRadius-_lg_t-radius-no3511 _borderBottomLeftRadius-_lg_t-radius-no3511":" ")),children:[(0,n.jsxs)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-1 _flexDirection-column _gap-t-space-gap52 _overflowX-hidden _overflowY-hidden _flexGrow-1 ",children:[(0,n.jsx)(I.Text,{variant:"body3",color:"$neutral2",children:u(0===i?"pool.minPrice":"pool.maxPrice")}),(0,n.jsx)(xe.AmountInput,{backgroundColor:"$transparent",borderWidth:"$none",borderRadius:"$none",color:a?"$statusCritical":"$neutral1",fontFamily:"$heading",fontSize:ue.Rq.heading3.fontSize,fontWeight:ue.Rq.heading3.fontWeight,maxDecimals:(null===(s=f)||void 0===s?void 0:s.decimals)??18,overflow:"visible",placeholder:"0",placeholderTextColor:c.neutral3.val,px:"$none",py:"$none",value:S?v:e,onChangeText:e=>R(i,e),onBlur:()=>T(!1),inputEnforcer:Se,$md:{fontSize:ue.Rq.subheading2.fontSize,fontWeight:ue.Rq.subheading2.fontWeight}}),(0,n.jsxs)(I.Text,{variant:"body3",color:"$neutral2",children:[null===(l=f)||void 0===l?void 0:l.symbol," = 1 ",null===(d=m)||void 0===d?void 0:d.symbol]})]}),r&&(0,n.jsxs)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-10px ",children:[(0,n.jsx)(C.Z,{testID:`${ve.TestID.RangeInputIncrement}-${i}`,alignItems:"center",justifyContent:"center",onPress:k,borderRadius:"$roundedFull",p:8,backgroundColor:"$surface3",hoverable:!0,hoverStyle:{backgroundColor:"$surface3Hovered"},children:(0,n.jsx)(oe.Z,{size:16})}),(0,n.jsx)(C.Z,{testID:`${ve.TestID.RangeInputDecrement}-${i}`,alignItems:"center",justifyContent:"center",onPress:P,borderRadius:"$roundedFull",p:8,backgroundColor:"$surface3",hoverable:!0,hoverStyle:{backgroundColor:"$surface3Hovered"},children:(0,n.jsx)(re.Z,{size:16})})]})]})}const je=({positionInfo:e,onContinue:i,onDisableContinue:t})=>{var r,a,s,l,d,c,u,p,x,_,v,h,m,f;const{t:S}=(0,y.useTranslation)(),{positionState:{fee:C,hook:j,initialPosition:R},derivedPositionInfo:D}=(0,U.kU)(),{priceRangeState:w,setPriceRangeState:$,derivedPriceRangeInfo:F}=(0,U.$s)(),[E,O]=D.currencies,[A,L]=(0,g.$2)(D.currencies,w.priceInverted),W=D.creatingPoolOrPair,z=ne([E,O],"small"),B=(0,b.useCallback)((e=>{var i;e===(null===(i=E)||void 0===i?void 0:i.symbol)?$((e=>({...e,priceInverted:!1}))):$((e=>({...e,priceInverted:!0})))}),[null===(r=E)||void 0===r?void 0:r.symbol,$]),{price:N}=F,{ticks:M,isSorted:V,prices:K,ticksAtLimit:G,invalidPrice:Q,invalidRange:Z,invertPrice:X}=(0,b.useMemo)((()=>F.protocolVersion===o.Qe.V2?{ticks:void 0,isSorted:!1,prices:void 0,pricesAtTicks:void 0,ticksAtLimit:[!1,!1],invalidPrice:!1,invalidRange:!1,invertPrice:!1}:F),[F]),{getDecrementLower:ee,getIncrementLower:ie,getDecrementUpper:te,getIncrementUpper:oe}=(0,ae.a6)(D.protocolVersion===o.Qe.V3?{baseCurrency:A,quoteCurrency:L,feeAmount:C.feeAmount,tickLower:null===(a=M)||void 0===a?void 0:a[0],tickUpper:null===(s=M)||void 0===s?void 0:s[1],pool:D.pool}:D.protocolVersion===o.Qe.V4?{baseCurrency:A,quoteCurrency:L,fee:C,tickLower:null===(l=M)||void 0===l?void 0:l[0],tickUpper:null===(d=M)||void 0===d?void 0:d[1],pool:D.pool}:{baseCurrency:void 0,quoteCurrency:void 0,feeAmount:void 0,tickLower:void 0,tickUpper:void 0,pool:void 0}),re=(0,b.useCallback)((e=>{var i;(null===(i=R)||void 0===i?void 0:i.isOutOfRange)||$("FULL"===e?e=>({...e,minPrice:"",maxPrice:"",fullRange:!0}):e=>({...e,minPrice:void 0,maxPrice:void 0,fullRange:!1}))}),[null===(c=R)||void 0===c?void 0:c.isOutOfRange,$]),se=[{display:(0,n.jsx)(ye,{value:S("common.fullRange"),active:w.fullRange}),value:"FULL"},{display:(0,n.jsx)(ye,{value:S("common.customRange"),active:!w.fullRange}),value:"CUSTOM"}],le=(0,b.useMemo)((()=>{var e,i,t,n,o,r,a,s,l;const d=V?null===(e=K)||void 0===e?void 0:e[0]:null===(t=K)||void 0===t||null===(i=t[1])||void 0===i?void 0:i.invert(),c=V?null===(n=K)||void 0===n?void 0:n[1]:null===(r=K)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.invert();var u,p;return(null===(a=R)||void 0===a?void 0:a.isOutOfRange)?[(null===(u=d)||void 0===u?void 0:u.toSignificant(8))??"",(null===(p=c)||void 0===p?void 0:p.toSignificant(8))??""]:[G[V?0:1]?"0":(null===(s=d)||void 0===s?void 0:s.toSignificant(8))??"",G[V?1:0]?"\u221e":(null===(l=c)||void 0===l?void 0:l.toSignificant(8))??""]}),[V,K,G,R]),de=(0,b.useCallback)(((e,i)=>{var t;w.fullRange||(null===(t=R)||void 0===t?void 0:t.isOutOfRange)||$(0===e?e=>({...e,minPrice:i,fullRange:!1}):e=>({...e,maxPrice:i,fullRange:!1}))}),[w.fullRange,null===(u=R)||void 0===u?void 0:u.isOutOfRange,$]),{rangeInputMinPrice:ue,rangeInputMaxPrice:xe}=(0,b.useMemo)((()=>{var e,i,t,n,o,r,a,s,l;return w.fullRange&&!(null===(e=R)||void 0===e?void 0:e.isOutOfRange)?{rangeInputMinPrice:void 0,rangeInputMaxPrice:void 0}:X?{rangeInputMinPrice:(null===(r=K)||void 0===r?void 0:r[1])?parseFloat(null===(a=K)||void 0===a?void 0:a[1].invert().toSignificant(8)):void 0,rangeInputMaxPrice:(null===(s=K)||void 0===s?void 0:s[0])?parseFloat(null===(l=K)||void 0===l?void 0:l[0].invert().toSignificant(8)):void 0}:{rangeInputMinPrice:(null===(i=K)||void 0===i?void 0:i[0])?parseFloat(null===(t=K)||void 0===t?void 0:t[0].toSignificant(8)):void 0,rangeInputMaxPrice:(null===(n=K)||void 0===n?void 0:n[1])?parseFloat(null===(o=K)||void 0===o?void 0:o[1].toSignificant(8)):void 0}}),[w.fullRange,K,X,R]),_e=t||Q||Z||D.creatingPoolOrPair&&(!w.initialPrice||0===w.initialPrice.length),ve=(0,b.useCallback)((()=>{var e;(null===(e=R)||void 0===e?void 0:e.isOutOfRange)||(de(0,""),de(1,""))}),[de,null===(p=R)||void 0===p?void 0:p.isOutOfRange]);if((0,b.useEffect)((()=>{w.fullRange||D.poolId||void 0!==w.minPrice||void 0!==w.maxPrice||ve()}),[w.fullRange,w.minPrice,w.maxPrice,D.poolId,ve]),D.protocolVersion===o.Qe.V2)return(0,n.jsx)(be,{});const he=null===(x=R)||void 0===x?void 0:x.isOutOfRange,me=!!D.pool&&!w.fullRange;return(0,n.jsxs)(n.Fragment,{children:[W&&(0,n.jsx)(be,{}),(0,n.jsxs)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1598 ",children:[(0,n.jsx)("div",{className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center ",children:(0,n.jsx)(I.Text,{flex:1,variant:"subheading1",children:(0,n.jsx)(y.Trans,{i18nKey:"position.setRange"})})}),!(null===(_=R)||void 0===_?void 0:_.isOutOfRange)&&(0,n.jsx)(P.s,{options:se,selectedOption:w.fullRange?"FULL":"CUSTOM",onSelectOption:re,fullWidth:!0,size:"large"}),!(null===(v=R)||void 0===v?void 0:v.isOutOfRange)&&(0,n.jsx)(I.Text,{variant:"body3",color:"$neutral2",children:D.creatingPoolOrPair?S("position.provide.liquidityDescription.creatingPool"):w.fullRange?S("position.provide.liquidityDescription"):S("position.provide.liquidityDescription.custom")}),(0,n.jsx)(Y,{positionInfo:e}),(0,n.jsx)(q.F,{}),(0,n.jsxs)("div",{className:(0,J.Ej)(" _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap52  "+(he?" _opacity-0--6":" _opacity-1")),children:[he&&(0,n.jsx)(T.Flex,{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,backgroundColor:"$surface3",cursor:he?"not-allowed":"auto",zIndex:pe.U.overlay}),A&&L&&D.poolId&&(0,n.jsxs)("div",{className:(0,J.Ej)(" _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _backgroundColor-surface2 _pt-t-space-pad1331704925 _pr-t-space-pad1331704925 _pb-t-space-pad1331704925 _pl-t-space-pad1331704925 _gap-t-space-gap1573  "+(D.poolId?" _borderTopLeftRadius-t-radius-ro291586424 _borderTopRightRadius-t-radius-ro291586424 _borderBottomRightRadius-t-radius-no3511 _borderBottomLeftRadius-t-radius-no3511":" _borderTopLeftRadius-t-radius-no3511 _borderTopRightRadius-t-radius-no3511 _borderBottomRightRadius-t-radius-ro291586424 _borderBottomLeftRadius-t-radius-ro291586424")+"  _pr-_lg_t-space-spa94665593  _pl-_lg_t-space-spa94665593"),children:[(0,n.jsxs)("div",{className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-space-betwe3241 _alignItems-center  _flexDirection-_sm_column _alignItems-_sm_flex-start _gap-_sm_t-space-gap56",children:[(0,n.jsx)(ge,{price:X?null===(h=N)||void 0===h?void 0:h.invert():N}),!W&&(0,n.jsx)(P.s,{options:z,selectedOption:(null===(m=A)||void 0===m?void 0:m.symbol)??"",onSelectOption:B,size:"smallThumbnail"})]}),(0,n.jsx)(H,{quoteCurrency:L,baseCurrency:A,feeTier:C.feeAmount,hook:j,tickSpacing:null===(f=D.pool)||void 0===f?void 0:f.tickSpacing,protocolVersion:D.protocolVersion,poolId:D.poolId,disableBrushInteraction:w.fullRange,minPrice:ue,maxPrice:xe,setMinPrice:e=>{var i;de(0,null===(i=e)||void 0===i?void 0:i.toString())},setMaxPrice:e=>{var i;de(1,null===(i=e)||void 0===i?void 0:i.toString())},setFallbackRangePrices:ve},Ie({derivedPositionInfo:D,priceRangeState:w}))]}),(0,n.jsxs)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap52  _flexDirection-_lg_column",children:[(0,n.jsx)(Ce,{input:0,decrement:V?ee:oe,increment:V?ie:te,value:le[0],showIncrementButtons:me,isInvalid:Z}),(0,n.jsx)(Ce,{input:1,decrement:V?te:ie,increment:V?oe:ee,value:le[1],showIncrementButtons:me,isInvalid:Z})]})]}),(Q||Z)&&(0,n.jsxs)("div",{className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _pr-t-space-pad1331704925 _pl-t-space-pad1331704925 _gap-t-space-gap52 ",children:[(0,n.jsx)(ce.AlertTriangleFilled,{size:"$icon.16",color:"$statusCritical"}),(0,n.jsx)(I.Text,{color:"$statusCritical",variant:"body3",children:S(Z?"position.create.invalidRange":"position.create.invalidPrice")})]})]}),i&&(0,n.jsx)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row ",children:(0,n.jsx)(k.z,{onPress:i,isDisabled:_e,children:S("common.button.continue")})})]})};function Ie({derivedPositionInfo:e,priceRangeState:i}){return`${e.poolId}-${i.fullRange}-${i.priceInverted}-${e.protocolVersion}`}t(2996)},62019:(e,i,t)=>{"use strict";t.d(i,{F:()=>a});var n=t(16467),o=t(52718),r=t(98195);function a(e,i,t){var a,s;const l=(0,r.useDynamicConfigValue)(o.DynamicConfigs.LPConfig,o.LPConfigKey.DefaultSlippage,2.5),d=(0,r.useDynamicConfigValue)(o.DynamicConfigs.LPConfig,o.LPConfigKey.V4SlippageOverride,.05),c=(null===(a=i)||void 0===a?void 0:a.isNative)||(null===(s=t)||void 0===s?void 0:s.isNative);return e===n.Qe.V4&&c?d:l}}}]);
//# sourceMappingURL=2480.88e85b93.chunk.js.map