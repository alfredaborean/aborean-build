"use strict";(self.webpackChunk_uniswap_interface=self.webpackChunk_uniswap_interface||[]).push([[9475],{98974:(i,t,e)=>{e.r(t),e.d(t,{default:()=>r});const r={}},2170:(i,t,e)=>{e.d(t,{i:()=>a});var r=e(97755),o=e(52964),n=e(20868);const[a,s]=(0,n.I)({name:"HorizontalDensityChart",getIcon:i=>(0,r.jsxs)(o.ny,{viewBox:"0 0 124 160",fill:"none",...i,children:[(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 10)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 13.75)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 17.5)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 21.25)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 25)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 28.75)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 32.5)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 36.25)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 40)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 43.75)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 47.5)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 51.25)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 55)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 58.75)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 62.5)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 66.25)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 70)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 73.75)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 77.5)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 81.25)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 85)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 88.75)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 92.5)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 96.25)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 100)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 103.75)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 107.5)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 111.25)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 115)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 118.75)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 122.5)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 126.25)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 130)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 133.75)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 137.5)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 141.25)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 145)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 148.75)",fill:"currentColor",fillOpacity:"0.6"}),(0,r.jsx)(o.UL,{width:"60",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 84 152.5)",fill:"currentColor",fillOpacity:"0.6"})]}),defaultFill:"#5E5E5E"})},47645:(i,t,e)=>{e.d(t,{T:()=>a});var r=e(97755),o=e(52964),n=e(20868);const[a,s]=(0,n.I)({name:"LoadingPriceCurve",getIcon:i=>(0,r.jsxs)(o.ny,{viewBox:"0 0 224 52",fill:"none",...i,children:[(0,r.jsxs)(o.G,{clipPath:"url(#clip0_6507_58835)",children:[(0,r.jsx)("mask",{id:"mask0_6507_58835",mask:"alpha",maskUnits:"userSpaceOnUse",x:"-1",y:"0",width:"229",height:"35",children:(0,r.jsx)(o.y$,{d:"M0 17.3223L2.27128 15.3383L4.54257 13.3855L6.81385 11.4949L9.08514 9.6961L11.3564 8.0176L13.6277 6.4859L15.899 5.125L18.1703 3.9565L20.4416 2.9988L22.7128 2.267L24.9841 1.7726L27.2554 1.5234H29.5267L31.798 1.7726L34.0693 2.267L36.3406 2.9988L38.6118 3.9565L40.8831 5.125L43.1544 6.4859L45.4257 8.0176L47.697 9.6961L49.9683 11.4949L52.2396 13.3855L54.5108 15.3383L56.7821 17.3223L59.0534 19.3064L61.3247 21.2591L63.596 23.1498L65.8673 24.9485L68.1385 26.627L70.4098 28.1588L72.6811 29.5196L74.9524 30.6881L77.2237 31.6458L79.495 32.3777L81.7663 32.872L84.0375 33.1212H86.3088L88.5801 32.872L90.8514 32.3777L93.1227 31.6458L95.394 30.6881L97.6653 29.5196L99.9365 28.1588L102.208 26.627L104.479 24.9485L106.75 23.1498L109.022 21.2591L111.293 19.3064L113.564 17.3223L115.836 15.3383L118.107 13.3855L120.378 11.4949L122.649 9.6961L124.921 8.0176L127.192 6.4859L129.463 5.125L131.735 3.9565L134.006 2.9988L136.277 2.267L138.548 1.7726L140.82 1.5234L143.091 1.5234L145.362 1.7726L147.634 2.267L149.905 2.9988L152.176 3.9565L154.447 5.125L156.719 6.4859L158.99 8.0176L161.261 9.6961L163.533 11.4949L165.804 13.3855L168.075 15.3383L170.346 17.3223L172.618 19.3064L174.889 21.2591L177.16 23.1498L179.432 24.9485L181.703 26.627L183.974 28.1588L186.245 29.5196L188.517 30.6881L190.788 31.6458L193.059 32.3777L195.331 32.872L197.602 33.1212H199.873L202.144 32.872L204.416 32.3777L206.687 31.6458L208.958 30.6881L211.229 29.5196L213.501 28.1588L215.772 26.627L218.043 24.9485L220.315 23.1498L222.586 21.2591L224.857 19.3064L227.128 17.3223",stroke:"currentColor",strokeWidth:"2"})}),(0,r.jsxs)(o.G,{mask:"url(#mask0_6507_58835)",children:[(0,r.jsx)(o.UL,{width:"224",height:"76.9609",rx:"1.2514",fill:"currentColor",fillOpacity:"0.12"}),(0,r.jsx)(o.G,{filter:"url(#filter0_f_6507_58835)",children:(0,r.jsx)(o.Cd,{cx:"-0.156054",cy:"19.1994",r:"17.676",fill:"currentColor",fillOpacity:"0.24"})})]})]}),(0,r.jsxs)(o.eP,{children:[(0,r.jsxs)("filter",{id:"filter0_f_6507_58835",x:"-20.9605",y:"-1.60505",width:"41.6085",height:"41.6085",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{result:"BackgroundImageFix",floodOpacity:"0"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"1.56425",result:"effect1_foregroundBlur_6507_58835"})]}),(0,r.jsx)(o.IN,{id:"clip0_6507_58835",children:(0,r.jsx)(o.UL,{width:"224",height:"52",fill:"currentColor"})})]})]})})},90221:(i,t,e)=>{e.d(t,{o:()=>D});var r=e(97755),o=e(85752),n=e(43170),a=e(20128),s=e(27258);const l=({axisGenerator:i,yScale:t,height:e})=>(0,r.jsx)("g",{ref:r=>{r&&(0,n.Ys)(r).call(i).call((i=>i.select(".domain").remove())).call((i=>i.selectAll("text").attr("transform",(function(i){const r=t(i);return r<5?"translate(0, 5)":r>e-5?"translate(0, -5)":""}))))}}),c=({yScale:i,offset:t=0,min:e,current:o,max:c,height:d})=>{const{formatNumber:u}=(0,s.Gb)(),h=(0,a.useMemo)((()=>{const t=e?i(e):void 0,r=c?i(c):void 0,n=o?i(o):void 0;return t&&n&&Math.abs(t-n)<5||r&&n&&Math.abs(r-n)<5?[e,c].filter(Boolean):[e,o,c].filter(Boolean)}),[o,c,e,i]);return(0,r.jsx)("g",{transform:`translate(${t}, 0)`,className:"axis-right",children:(0,r.jsx)(l,{axisGenerator:(0,n.Khx)(i).tickValues(h).tickFormat((i=>u({input:i,type:s.sw.TokenQuantityStats}))),height:d,yScale:i})})},d=i=>["M 0 0",`h ${i}`].join(" "),u=i=>["M 0 0",`m ${i/2-15} 8`,"h 30"].join(" "),h=({color:i,size:t=6})=>{const e=t/3;return(0,r.jsx)("polygon",{points:`0 0, ${t} ${t}, 0 ${t}`,transform:`translate(${e}, ${e}) rotate(-45) translate(-${e}, -${e})`,fill:i,stroke:i,strokeWidth:"4",strokeLinejoin:"round"})};var p=e(58139),v=e(82663),f=e(19671);const x=(i,t,e)=>{const r=i.map((i=>e(i).toFixed(1))),o=t.map((i=>e(i).toFixed(1)));return r.every(((i,t)=>i===o[t]))},m=(i,t)=>[t(i[1]),t(i[0])],g=(i,t)=>[t.invert(i[1]),t.invert(i[0])],y=i=>i[0]<i[1]?i:[i[1],i[0]],k=({id:i,yScale:t,interactive:e,brushExtent:o,setBrushExtent:s,hideHandles:l,width:c,height:k})=>{const L=(0,f.useSporeColors)(),_=(0,a.useRef)(null),w=(0,a.useRef)(null),{t:b}=(0,v.useTranslation)(),[C,S]=(0,a.useState)(o),j=(0,p.Z)(o),[P,I]=(0,a.useState)(!1);(0,a.useEffect)((()=>{P||S(o)}),[o,P]),(0,a.useEffect)((()=>{if(!_.current||P)return;const r=y(o),a=m(r,t);w.current=(0,n.Lae)().extent([[0,2],[c,k-2]]).handleSize(30).filter((()=>e)).filter((i=>{const t=i.target;return t.classList.contains("selection")||t.classList.contains("handle")})).on("brush",(i=>{const{selection:e}=i;if(I(!0),!e)return void S(null);const r=y(g(e,t));S(r)})).on("end",(i=>{const{selection:e,mode:o}=i;if(!e)return void S(null);const n=y(g(e,t));x(r,n,t)||s(n,o),S(n),I(!1)})),w.current((0,n.Ys)(_.current)),j&&x(r,y(j),t)&&(0,n.Ys)(_.current).transition().call(w.current.move,a),(0,n.Ys)(_.current).selectAll(".overlay").attr("cursor","default"),(0,n.Ys)(_.current).selectAll(".selection").attr("stroke","none").attr("fill-opacity","0.1").attr("fill",`url(#${i}-gradient-selection)`).attr("cursor","grab")}),[o,i,k,e,j,t,c,s,P]),(0,a.useEffect)((()=>{_.current&&w.current&&w.current.move((0,n.Ys)(_.current),y(m(o,t)))}),[o,t]);const T=y(C??o),A=t(T[1])<20,q=t(T[0])>k-20,O=T&&(t(T[0])<0||t(T[1])<0),B=T&&(t(T[0])>k||t(T[1])>k),U=T&&t(T[0])>=0&&t(T[0])<=k,V=T&&t(T[1])>=0&&t(T[1])<=k;return(0,a.useMemo)((()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:`${i}-gradient-selection`,x1:"0%",y1:"100%",x2:"100%",y2:"100%",children:[(0,r.jsx)("stop",{stopColor:L.accent1.val}),(0,r.jsx)("stop",{stopColor:L.accent1.val,offset:"1"})]}),(0,r.jsx)("clipPath",{id:`${i}-brush-clip`,children:(0,r.jsx)("rect",{x:0,y:"0",width:c,height:k})})]}),(0,r.jsx)("g",{ref:_,clipPath:`url(#${i}-brush-clip)`}),T&&!l&&(0,r.jsxs)(r.Fragment,{children:[V?(0,r.jsx)("g",{transform:`translate(0, ${Math.max(0,t(T[1]))}), scale(1, ${A?"1":"-1"})`,cursor:e?"ns-resize":"default",pointerEvents:"none",children:(0,r.jsxs)("g",{children:[(0,r.jsx)("path",{color:L.neutral2.val,stroke:L.neutral2.val,opacity:.6,d:d(c)}),(0,r.jsx)("path",{color:L.neutral2.val,stroke:L.neutral2.val,strokeWidth:4,strokeLinecap:"round",d:u(c)})]})}):null,U?(0,r.jsx)("g",{transform:`translate(0, ${t(T[0])}), scale(1, ${q?"-1":"1"})`,cursor:e?"ns-resize":"default",pointerEvents:"none",children:(0,r.jsxs)("g",{children:[(0,r.jsx)("path",{color:L.neutral2.val,stroke:L.neutral2.val,opacity:.6,d:d(c)}),(0,r.jsx)("path",{color:L.neutral2.val,stroke:L.neutral2.val,strokeWidth:4,strokeLinecap:"round",d:u(c)})]})}):null,O&&(0,r.jsxs)("g",{transform:"translate(18, 16) scale(1,-1)",children:[(0,r.jsx)(h,{color:L.accent1.val}),(0,r.jsx)("text",{x:14,y:-3,fill:L.accent1.val,fontSize:10,alignmentBaseline:"middle",transform:"scale(1,-1)",children:b("range.outOfView")})]}),B&&(0,r.jsxs)("g",{transform:`translate(18, ${k-16}) `,children:[(0,r.jsx)(h,{color:L.accent1.val}),!O&&(0,r.jsx)("text",{x:14,y:5,fill:L.accent1.val,fontSize:10,alignmentBaseline:"middle",children:b("range.outOfView")})]})]})]})),[i,L.accent1.val,L.neutral2.val,c,k,T,l,V,t,A,e,U,q,O,b,B])},L=({series:i,xScale:t,yScale:e,xValue:o,yValue:n,fill:a,brushDomain:s,selectedFill:l,containerHeight:c,containerWidth:d})=>{const u=(0,f.useSporeColors)();return(0,r.jsx)(r.Fragment,{children:i.filter((i=>{const t=e(n(i));return t>0&&t<=c})).map(((i,c)=>{const h=n(i),p=(s&&h>=s[0]&&h<=s[1]?l:a)??u.accent1.val;return(0,r.jsx)("rect",{x:t(o(i)),y:e(h),width:t(d)-t(o(i)),height:.2,fill:p,stroke:p,rx:1,ry:1},c)}))})},_=({value:i,yScale:t,width:e,containerWidth:o,lineStyle:n="dashed"})=>{const a=o-e,s=(0,f.useSporeColors)();if(isNaN(a))return null;const l="dashed"===n?"1, 4":"none";return(0,r.jsx)("line",{strokeDasharray:l,stroke:s.neutral2.val,opacity:.5,strokeWidth:1,fill:"none",y1:t(i),x1:a,y2:t(i),x2:a+e})};var w=e(30715),b=e(26459),C=e(82746),S=e(59793),j=e(63691),P=e(4545);const I="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-gap52 ",T="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap52 _alignItems-center ",A="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-space-betwe3241 _alignItems-center _gap-t-space-gap56 ";function q({hoverY:i,hoveredTick:t,currentPrice:e,currentTick:n,containerHeight:a,contentWidth:l,axisLabelPaneWidth:c,quoteCurrency:d,baseCurrency:u}){var h,p;const{formatCurrencyAmount:v,formatPercent:f}=(0,s.Gb)(),x=(0,P.useUSDCValue)((0,b.Z)(null===(h=t.amount1Locked)||void 0===h?void 0:h.toFixed(2),u)),m=(0,P.useUSDCValue)((0,b.Z)(null===(p=t.amount0Locked)||void 0===p?void 0:p.toFixed(2),d));if(!m||!x)return null;const g=i<20,y=a-i<20;return(0,r.jsxs)(C.Flex,{position:"absolute",p:"$padding8",gap:"$gap4",top:i-18,minWidth:150,right:l+c+8,borderRadius:"$rounded12",borderColor:"$surface3",borderWidth:"$spacing1",backgroundColor:"$surface2",pointerEvents:"none",transform:y?"translateY(-12px)":g?"translateY(14px)":void 0,children:[(e>=t.price0||t.tick===n)&&(0,r.jsxs)("div",{className:A,children:[(0,r.jsxs)("div",{className:T,children:[(0,r.jsx)(w.g,{currencies:[d],size:j._.icon16}),(0,r.jsx)(S.Text,{variant:"body4",children:d.symbol})]}),(0,r.jsxs)("div",{className:I,children:[(0,r.jsx)(S.Text,{variant:"body4",children:v({amount:m,type:s.sw.FiatTokenStats})}),x&&(0,r.jsx)(S.Text,{variant:"body4",color:"$neutral2",children:f(t.tick===n?new o.Percent(m.quotient,x.add(m).quotient):new o.Percent(1,1))})]})]}),(e<=t.price0||t.tick===n)&&(0,r.jsxs)("div",{className:A,children:[(0,r.jsxs)("div",{className:T,children:[(0,r.jsx)(w.g,{currencies:[u],size:j._.icon16}),(0,r.jsx)(S.Text,{variant:"body4",children:u.symbol})]}),(0,r.jsxs)("div",{className:I,children:[(0,r.jsx)(S.Text,{variant:"body4",children:v({amount:x,type:s.sw.FiatTokenStats})}),m&&(0,r.jsx)(S.Text,{variant:"body4",color:"$neutral2",children:f(t.tick===n?new o.Percent(x.quotient,m.add(x).quotient):new o.Percent(1,1))})]})]})]})}e(98974);var O=e(79582);const B=i=>i.activeLiquidity,U=i=>i.price0,V=new Map;function M(i,t){let e=0,r=i.length-1;if(!t)return null;if(V.has(t.toString()))return V.get(t.toString());for(;e<=r;){const o=Math.floor((e+r)/2);if(i[o].price0===t)return V.set(t.toString(),i[o]),i[o];i[o].price0<t?e=o+1:r=o-1}const o=i[r]??{price0:1/0},n=i[e]??{price0:1/0},a=Math.abs(o.price0-t)<=Math.abs(n.price0-t)?o:n;return a&&V.set(t.toString(),a),a}function N(i,t=18){const e=Math.pow(10,t);return Math.round(i*e)}function D({id:i="ActiveLiquidityChart2",quoteCurrency:t,baseCurrency:e,data:{series:l,current:d,min:u,max:h},dimensions:{width:p,height:v,contentWidth:x,axisLabelPaneWidth:m},brushDomain:g,onBrushDomainChange:y,disableBrush:w,disableRightAxis:b,disableBrushInteraction:j,showDiffIndicators:P,isMobile:I,barColor:T}){var A,V;const{formatPercent:D}=(0,s.Gb)(),R=(0,f.useSporeColors)(),$=(0,a.useRef)(null),[E,F]=(0,a.useState)(),{xScale:W,yScale:G}=(0,a.useMemo)((()=>{const i=u&&h?l.filter((i=>i.price0>=u&&i.price0<=h)):l;return{yScale:(0,n.BYU)().domain([u,h]).range([v,0]),xScale:(0,n.BYU)().domain([0,(0,n.Fp7)(i,B)]).range([p-m,p-m-x])}}),[u,h,l,v,p,m,x]),z=(0,a.useMemo)((()=>{if(!E||!G)return;const i=G.invert(E);return M(l,i)}),[E,l,G]),Q=(0,a.useMemo)((()=>{var i;return null===(i=M(l,d))||void 0===i?void 0:i.tick}),[d,l]);(0,a.useEffect)((()=>{if(!g){const[i,t]=G.domain();y([i+.2*(t-i),i+.8*(t-i)],void 0)}}),[g,y,G]);const H=g&&G(g[0])>=0&&G(g[0])<=v,Y=g&&G(g[1])>=0&&G(g[1])<=v;return(0,r.jsxs)(r.Fragment,{children:[E&&z?(0,r.jsx)(q,{containerHeight:v,hoverY:E,hoveredTick:z,currentTick:Q,currentPrice:d,contentWidth:x,axisLabelPaneWidth:m,quoteCurrency:t,baseCurrency:e}):null,P&&(0,r.jsxs)(r.Fragment,{children:[H&&(0,r.jsx)(C.Flex,{borderRadius:"$rounded12",backgroundColor:"$surface2",borderColor:"$surface3",borderWidth:"$spacing1",p:"$padding8",position:"absolute",left:0,top:G(g[0])-16,children:(0,r.jsx)(S.Text,{variant:"body4",children:D(new o.Percent(N(g[0]-d),N(d)))})}),Y&&(0,r.jsx)(C.Flex,{borderRadius:"$rounded12",backgroundColor:"$surface2",borderColor:"$surface3",borderWidth:"$spacing1",p:"$padding8",position:"absolute",left:0,top:G(g[1])-16,children:(0,r.jsx)(S.Text,{variant:"body4",children:D(new o.Percent(N(g[1]-d),N(d)))})})]}),(0,r.jsxs)("svg",{ref:$,width:"100%",height:"100%",viewBox:`0 0 ${p} ${v}`,onMouseMove:i=>{var t;if(!$.current)return;const e=null===(t=$.current)||void 0===t?void 0:t.getBoundingClientRect(),r=i.clientY-e.top,o=i.clientX-e.left;F(o>p-m-x?r:void 0)},onMouseLeave:()=>F(void 0),children:[(0,r.jsxs)("defs",{children:[(0,r.jsx)("clipPath",{id:`${i}-chart-clip`,children:(0,r.jsx)("rect",{x:"0",y:"0",width:p,height:v})}),g&&!w&&(0,r.jsx)("mask",{id:`${i}-chart-area-mask`,children:(0,r.jsx)("rect",{fill:"white",y:G(g[1]),x:p-m-x-1,height:G(g[0])-G(g[1]),width:x+2})}),(0,r.jsx)("style",{children:`\n              .axis-right line { display: none; }\n              .axis-right text { fill: ${R.neutral2.val}; }\n            `})]}),(0,r.jsxs)("g",{children:[(0,r.jsxs)("g",{clipPath:`url(#${i}-chart-clip)`,children:[(0,r.jsx)(L,{series:l,xScale:W,yScale:G,xValue:B,yValue:U,brushDomain:g,containerHeight:v,fill:(0,O.j)(10,g?R.neutral1.val:T??R.accent1.val),selectedFill:(0,O.j)(10,T??R.accent1.val),containerWidth:p-m}),!w&&(0,r.jsx)(_,{value:d,yScale:G,width:x+12,containerWidth:p-m}),E&&z&&Number(z.amount0Locked)+Number(z.amount1Locked)>0&&(0,r.jsx)(_,{value:G.invert(E),yScale:G,width:x+12,containerWidth:p-m,lineStyle:"solid"})]}),I||b?null:(0,r.jsx)(c,{yScale:G,offset:p-m,min:null===(A=g)||void 0===A?void 0:A[0],current:d,max:null===(V=g)||void 0===V?void 0:V[1],height:v}),!w&&(0,r.jsx)(k,{id:i,yScale:G,interactive:!j,brushExtent:g??G.domain(),hideHandles:!g,width:p-m,height:v,setBrushExtent:y})]})]})]})}},70592:(i,t,e)=>{e.d(t,{$z:()=>_,FQ:()=>S,lo:()=>P,Zm:()=>T});var r=e(25147),o=e(16467),n=e(85752),a=e(95450),s=e(32408),l=e(14237),c=e(7703),d=e(72308);class u{_data=null;_options;constructor(i){this._options=i,this._options.hoveredTick=i.activeTick}draw(i,t){i.useBitmapCoordinateSpace((i=>this._drawImpl(i,t)))}update(i,t){this._data=i,this._options={...this._options,...t}}_drawImpl(i,t){if(null===this._data||0===this._data.bars.length||null===this._data.visibleRange||null===this._options)return;const e=i.context,r=this._data.bars.map((i=>({x:i.x,y:t(i.originalData.liquidity)??0,tick:i.originalData.tick})));(0,c.XV)(r,this._data.barSpacing,i.horizontalPixelRatio,this._data.visibleRange.from,this._data.visibleRange.to);const o=t(0)??0;e.fillStyle=this._options.tokenAColor;for(let n=this._data.visibleRange.from;n<this._data.visibleRange.to;n++){const t=r[n],a=t.column,s=this._options.activeTick===t.tick,l=this._options.hoveredTick===t.tick;if(!a)return;const u=Math.min(Math.max(i.horizontalPixelRatio,a.right-a.left),this._data.barSpacing*i.horizontalPixelRatio),h=.3*u,p=u-2*h,v=(0,c.n1)(o,t.y,i.verticalPixelRatio);if(l){const i=.3*e.canvas.height,t=e.canvas.height-i;e.fillStyle=this._options.highlightColor,(0,d.Dk)(e,a.left+h,i,p,t,8),e.globalAlpha=1}else e.globalAlpha=.4;if(s?e.fillStyle=this._options.tokenBColor:void 0===this._options.activeTick?e.fillStyle=this._options.color??"white":this._options.activeTick>t.tick?e.fillStyle=this._options.tokenBColor:this._options.activeTick<t.tick&&(e.fillStyle=this._options.tokenAColor),(0,d.Dk)(e,a.left+h,v.position,p,v.length,8),e.globalAlpha=1,s&&this._options.activeTickProgress){e.globalCompositeOperation="source-atop";const i=v.length*this._options.activeTickProgress,t=v.position+(v.length-i);e.fillStyle=this._options.tokenAColor,e.beginPath(),e.fillRect(a.left,t,u,i),e.globalCompositeOperation="source-over"}}}}var h=e(70778);class p{_renderer;_tokenAColor;_tokenBColor;_highlightColor;constructor(i){this._tokenAColor=i.tokenAColor,this._renderer=new u(i),this._tokenBColor=i.tokenBColor,this._highlightColor=i.highlightColor}priceValueBuilder(i){return[0,i.liquidity]}isWhitespace(i){return!i.liquidity}renderer(){return this._renderer}update(i,t){this._renderer.update(i,t)}defaultOptions(){return{...h.Qb,tokenAColor:this._tokenAColor,tokenBColor:this._tokenBColor,highlightColor:this._highlightColor}}}var v=e(59553),f=e(41709),x=e(29422),m=e.n(x),g=e(20128),y=e(27258);function k(i,t,e,r,o,n,a){try{var s=i[n](a),l=s.value}catch(c){return void e(c)}s.done?t(l):Promise.resolve(l).then(r,o)}function L(i){return function(){var t=this,e=arguments;return new Promise((function(r,o){var n=i.apply(t,e);function a(i){k(n,r,o,a,s,"next",i)}function s(i){k(n,r,o,a,s,"throw",i)}a(void 0)}))}}class _ extends l.BH{series;activeTick;constructor(i,t){super(i,t),this.series=this.api.addCustomSeries(new p(t)),this.series.setData(this.data),this.updateOptions(t),this.fitContent()}updateOptions(i){super.updateOptions(i,{localization:{locale:i.locale},rightPriceScale:{visible:!1,borderVisible:!1,scaleMargins:{top:.35,bottom:0},autoScale:!0},timeScale:{visible:!1,fixLeftEdge:!0,fixRightEdge:!0,borderVisible:!1},crosshair:{horzLine:{visible:!1,labelVisible:!1},vertLine:{visible:!1,labelVisible:!1}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}}});const{data:t,activeTick:e}=i;this.activeTick=e,this.data!==t&&(this.data=t,this.series.setData(t),this.fitContent()),this.series.applyOptions({priceFormat:{type:"volume"},priceLineVisible:!1,lastValueVisible:!1}),this.series.applyOptions(i)}onSeriesHover(i){var t;super.onSeriesHover(i);const e={hoveredTick:(null===(t=i)||void 0===t?void 0:t.item.tick)??this.activeTick};this.series.applyOptions(e)}activeTickIndex(){return this.data.findIndex((i=>i.tick===this.activeTick))}fitContent(){const i=this.data.length,t=this.data.findIndex((i=>i.tick===this.activeTick)),e=-1!==t?t:i/2;this.api.timeScale().setVisibleLogicalRange({from:Math.max(e-50,0),to:Math.min(e+50,this.data.length)})}}const w=r.O$.from(2).pow(128).sub(1);function b(i){return n.CurrencyAmount.fromRawAmount(i,w.toString())}function C(){return(C=L((function*(i,t,e,r,o){if(o.currentTick&&o.sqrtPriceX96&&o.liquidity)try{const n=m().greaterThan(r.liquidityNet,m().BigInt(0))?r.liquidityNet:m().multiply(r.liquidityNet,m().BigInt("-1")),s=[{index:r.tick,liquidityGross:n,liquidityNet:m().multiply(r.liquidityNet,m().BigInt("-1"))},{index:r.tick+a.TICK_SPACINGS[e],liquidityGross:n,liquidityNet:r.liquidityNet}],l=new a.Pool(i,t,e,o.sqrtPriceX96,r.liquidityActive,o.currentTick,s),c=a.TickMath.getSqrtRatioAtTick(s[0].index),d=(yield l.getOutputAmount(b(i),c))[0],u=parseFloat(r.sdkPrice.invert().quote(d).toExact()),h=a.TickMath.getSqrtRatioAtTick(s[1].index),p=(yield l.getOutputAmount(b(t),h))[0];return{amount0Locked:u,amount1Locked:parseFloat(r.sdkPrice.quote(p).toExact())}}catch{return{amount0Locked:0,amount1Locked:0}}}))).apply(this,arguments)}function S(i,t,e,r){return j.apply(this,arguments)}function j(){return(j=L((function*(i,t,e,r){try{const o=a.TICK_SPACINGS[e],s=m().greaterThan(r.liquidityNet,m().BigInt(0))?r.liquidityNet:m().multiply(r.liquidityNet,m().BigInt("-1")),l=a.TickMath.getSqrtRatioAtTick(r.tick),c=[{index:r.tick,liquidityGross:s,liquidityNet:m().multiply(r.liquidityNet,m().BigInt("-1"))},{index:r.tick+a.TICK_SPACINGS[e],liquidityGross:s,liquidityNet:r.liquidityNet}],d=new a.Pool(i,t,Number(e),l,r.liquidityActive,r.tick,c),u=a.TickMath.getSqrtRatioAtTick(r.tick-o),h=n.CurrencyAmount.fromRawAmount(i,w.toString()),p=(yield d.getOutputAmount(h,u))[0],v=parseFloat(r.sdkPrice.invert().quote(p).toExact());return{amount0Locked:v,amount1Locked:parseFloat(p.toExact())}}catch{return{amount0Locked:0,amount1Locked:0}}}))).apply(this,arguments)}function P(i,t,e,r,o,n){return I.apply(this,arguments)}function I(){return(I=L((function*(i,t,e,r,o,l){try{const c=m().greaterThan(l.liquidityNet,m().BigInt(0))?l.liquidityNet:m().multiply(l.liquidityNet,m().BigInt("-1")),d=a.TickMath.getSqrtRatioAtTick(l.tick),u=[{index:l.tick,liquidityGross:c,liquidityNet:m().multiply(l.liquidityNet,m().BigInt("-1"))},{index:l.tick+a.TICK_SPACINGS[e],liquidityGross:c,liquidityNet:l.liquidityNet}],h=new s.Pool(i,t,Number(e),r,o,d,l.liquidityActive,l.tick,u),p=a.TickMath.getSqrtRatioAtTick(l.tick-r),v=n.CurrencyAmount.fromRawAmount(i,w.toString()),f=(yield h.getOutputAmount(v,p))[0],x=parseFloat(l.sdkPrice.invert().quote(f).toExact());return{amount0Locked:x,amount1Locked:parseFloat(f.toExact())}}catch{return{amount0Locked:0,amount1Locked:0}}}))).apply(this,arguments)}function T({currencyA:i,currencyB:t,feeTier:e,isReversed:r,chainId:n,version:l,tickSpacing:c,hooks:d,poolId:u}){const{formatNumber:h,formatPrice:p}=(0,y.Gb)(),x=i.wrapped,m=t.wrapped,k=(0,f.K)({currencyA:i,currencyB:t,feeAmount:e,version:l,poolId:u,chainId:n,tickSpacing:c??a.TICK_SPACINGS[e],hooks:d}),[_,w]=(0,g.useState)();return(0,g.useEffect)((()=>{function n(){return n=L((function*(){var n;const u=k.data;if(!u)return;let h,f;const g=[];for(let _=0;_<u.length;_++){const n=u[_],L=r?1e3*_:1e3*(u.length-_),w=k.activeTick===n.tick;let b=n.sdkPrice,C=n.sdkPrice.invert();w&&k.activeTick&&k.currentTick&&(f=_,h=(k.currentTick-n.tick)/a.TICK_SPACINGS[e],b=l===o.Qe.V3?(0,a.tickToPrice)(x,m,n.tick):(0,s.tickToPrice)(i,t,n.tick),C=b.invert());const{amount0Locked:j,amount1Locked:I}=yield l===o.Qe.V3?S(x,m,e,n):P(i,t,e,c??a.TICK_SPACINGS[e],d??v.r_,n);g.push({tick:n.tick,liquidity:parseFloat(n.liquidityActive.toString()),price0:p({price:b,type:y.sw.SwapDetailsAmount}),price1:p({price:C,type:y.sw.SwapDetailsAmount}),time:L,amount0Locked:j,amount1Locked:I})}null===(n=g)||void 0===n||n.map(((i,t)=>{t>0&&(g[t-1].amount0Locked=i.amount0Locked,g[t-1].amount1Locked=i.amount1Locked)}));const L=void 0!==f?g[f]:void 0;if(void 0!==f&&L){const i=yield function(i,t,e,r,o){return C.apply(this,arguments)}(x,m,e,u[f],k);g[f]={...L,...i}}r||g.reverse(),w({barData:g.filter((i=>i.liquidity>0)),activeRangeData:L,activeRangePercentage:h})})),n.apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[k,i,t,x,m,h,p,r,e,l,c,d]),{tickData:_,activeTick:k.activeTick,loading:k.isLoading||!_}}},9032:(i,t,e)=>{e.d(t,{Fh:()=>N,xx:()=>D,eE:()=>W,M:()=>z,L3:()=>H,uh:()=>G});var r=e(97755),o=e(16467),n=e(90221);class a{numbers;cache;constructor(i){this.numbers=i,this.cache=new Map}findClosestIndex(i,t){const e=`${i}:${t}`;if(this.cache.has(e))return this.cache.get(e);const r=this._performSearch(i,t);return this.cache.set(e,r),r}_performSearch(i,t){var e,r;let o=0,n=this.numbers.length-1;if(i<=(null===(e=this.numbers[0])||void 0===e?void 0:e.time))return 0;if(i>=(null===(r=this.numbers[n])||void 0===r?void 0:r.time))return n;for(;o<=n;){var a;const t=Math.floor((o+n)/2),e=null===(a=this.numbers[t])||void 0===a?void 0:a.time;if(e===i)return t;e>i?n=t-1:o=t+1}return"left"===t?o:n}}class s{_arr;_chunkSize;_cache;constructor(i,t=10){this._arr=i,this._chunkSize=t,this._cache=new Map}getMinMax(i,t){const e=`${i}:${t}`;if(e in this._cache)return this._cache.get(e);const r={lower:1/0,upper:-1/0},o=Math.floor(i/this._chunkSize),n=Math.floor(t/this._chunkSize);for(let a=o;a<=n;a++){const i=a*this._chunkSize,t=Math.min((a+1)*this._chunkSize-1,this._arr.length-1),o=`${i}:${t}`;if(o in this._cache.keys()){const i=this._cache.get(e);this._check(i,r)}else{const e={lower:1/0,upper:-1/0};for(let r=i;r<=t;r++)this._check(this._arr[r],e);this._cache.set(o,e),this._check(e,r)}}return this._cache.set(e,r),r}_check(i,t){i.lower<t.lower&&(t.lower=i.lower),i.upper>t.upper&&(t.upper=i.upper)}}function l(i){return JSON.parse(JSON.stringify(i))}class c{_chart=void 0;_series=void 0;requestUpdate(){this._requestUpdate&&this._requestUpdate()}_requestUpdate;attached({chart:i,series:t,requestUpdate:e}){this._chart=i,this._series=t,this._series.subscribeDataChanged(this._fireDataUpdated),this._requestUpdate=e,this.requestUpdate()}detached(){var i;null===(i=this._series)||void 0===i||i.unsubscribeDataChanged(this._fireDataUpdated),this._chart=void 0,this._series=void 0,this._requestUpdate=void 0}get chart(){if(!this._chart)throw new Error("Value is undefined");return this._chart}get series(){if(!this._series)throw new Error("Value is undefined");return this._series}_fireDataUpdated=i=>{this.dataUpdated&&this.dataUpdated(i)}}let d=class{_viewData;constructor(i){this._viewData=i}draw(){}drawBackground(i){const t=this._viewData.data;i.useBitmapCoordinateSpace((i=>{var e,r,o,n,a,s,l,c,d,u;const h=i.context;h.scale(i.horizontalPixelRatio,i.verticalPixelRatio),h.strokeStyle=this._viewData.options.lineColor,h.lineWidth=this._viewData.options.lineWidth,h.beginPath();const p=new Path2D,v=new Path2D;p.moveTo(null===(e=t[0])||void 0===e?void 0:e.x,null===(r=t[0])||void 0===r?void 0:r.upper),v.moveTo(null===(o=t[0])||void 0===o?void 0:o.x,null===(n=t[0])||void 0===n?void 0:n.upper);for(const _ of t){var f,x;p.lineTo(null===(f=_)||void 0===f?void 0:f.x,_.upper),v.lineTo(null===(x=_)||void 0===x?void 0:x.x,_.upper)}const m=t.length-1;p.lineTo(null===(a=t[m])||void 0===a?void 0:a.x,null===(s=t[m])||void 0===s?void 0:s.lower),v.moveTo(null===(l=t[m])||void 0===l?void 0:l.x,null===(c=t[m])||void 0===c?void 0:c.lower);for(let _=t.length-2;_>=0;_--){var g,y,k,L;p.lineTo(null===(g=t[_])||void 0===g?void 0:g.x,null===(y=t[_])||void 0===y?void 0:y.lower),v.lineTo(null===(k=t[_])||void 0===k?void 0:k.x,null===(L=t[_])||void 0===L?void 0:L.lower)}p.lineTo(null===(d=t[0])||void 0===d?void 0:d.x,null===(u=t[0])||void 0===u?void 0:u.upper),p.closePath(),h.stroke(v),h.fillStyle=this._viewData.options.fillColor,h.fill(p)}))}},u=class{_source;_data;constructor(i){this._source=i,this._data={data:[],options:this._source._options}}update(){const i=this._source.series,t=this._source.chart.timeScale();this._data.data=this._source._bandsData.map((e=>({x:t.timeToCoordinate(e.time)??-100,upper:i.priceToCoordinate(e.upper)??-100,lower:i.priceToCoordinate(e.lower)??-100})))}renderer(){return new d(this._data)}};class h extends c{_paneViews;_seriesData=[];_bandsData=[];_options;_timeIndices;_upperLower;constructor(i){super(),this._options=i,this._paneViews=[new u(this)],this._timeIndices=new a([]),this._upperLower=new s([])}updateOptions(i){this._options=i,this.dataUpdated("full")}updateAllViews(){this._paneViews.forEach((i=>i.update()))}paneViews(){return this._paneViews}attached(i){super.attached(i),this.dataUpdated("full")}dataUpdated(i){this._seriesData=l(this.series.data()),this.calculateBands(),"full"===i&&(this._timeIndices=new a(this._seriesData))}calculateBands(){const i=this._seriesData.map((i=>({upper:this._options.upperValue,lower:this._options.lowerValue,time:i.time})));this._bandsData=i,this._upperLower=new s(this._bandsData,4)}}var p=e(14237),v=e(85752);function f(i,{yCoordinate:t,xCoordinate:e}){return{position:"absolute",left:e-3,top:t-3,width:6,height:6,borderRadius:"$roundedFull",backgroundColor:i}}function x(i,t){var e,r;const o=null===(e=i)||void 0===e?void 0:e.baseCurrency;if(!o)return t;const n=Boolean(o.decimals)&&o.decimals>0?o.decimals:6,a=Number((null===(r=i.quote(v.CurrencyAmount.fromRawAmount(o,Math.pow(10,o.decimals))))||void 0===r?void 0:r.toSignificant(n))??0);return s=a,Math.abs(s)>=1e20||Math.abs(s)<=1e-20?t:a;var s}var m=e(13773),g=e(72308),y=e(64905),k=e(51215),L=e(59553),_=e(53221),w=e(70778),b=e(10795),C=e(20128),S=e(26013),j=e(19671),P=e(82746),I=e(2170),T=e(47645),A=e(79582),q=e(6607),O=e(94839),B=e(55278),U=e(55059),V=e(54254),M=e(82908);const N=52,D=224,R=28,$=40,E=120,F="\n  @keyframes pulse {\n    0% {\n      transform: scale(1);\n      opacity: 1;\n    }\n    100% {\n      transform: scale(5);\n      opacity: 0;\n    }\n  }\n";class W extends p.BH{series;rangeBandSeries;extendedData;positionRangeMin;positionRangeMax;bandIndicator;constructor(i,t){super(i,t),this.series=this.api.addAreaSeries(),this.series.setData(this.data),this.extendedData=W.generateExtendedData(this.data,t.disableExtendedTimeScale),this.rangeBandSeries=this.api.addLineSeries({priceScaleId:"right"}),this.rangeBandSeries.setData(this.extendedData),this.rangeBandSeries.applyOptions({priceLineVisible:!1,color:"transparent"}),this.calculatePositionRange(t),this.updateOptions(t),this.fitContent(),this.overrideCrosshair(t)}updateOptions(i){var t,e;this.data!==i.data&&(this.data=i.data,this.series.setData(this.data),this.extendedData=W.generateExtendedData(this.data,i.disableExtendedTimeScale),this.calculatePositionRange(i),null===(e=this.rangeBandSeries)||void 0===e||e.setData(this.extendedData),this.fitContent(),this.overrideCrosshair(i));super.updateOptions(i,{rightPriceScale:{visible:!1,autoScale:!0,borderVisible:!1,minimumWidth:$,alignLabels:!0},leftPriceScale:{visible:!1},timeScale:{visible:i.showXAxis??!1,borderVisible:!1,tickMarkFormatter:g.Kh},handleScroll:!1,handleScale:!1,localization:{priceFormatter:i=>{const t=window.navigator.languages[0];return(0,V.formatNumber)({input:i,locale:t})}},crosshair:{mode:w.rM.Hidden,vertLine:{color:"transparent"},horzLine:{color:"transparent"}}});const r=t=>{const e=t();return i.minVisiblePrice&&i.maxVisiblePrice?{...e,priceRange:{minValue:i.minVisiblePrice,maxValue:i.maxVisiblePrice}}:e},o=W.getPriceLineColor(i);this.series.applyOptions({priceLineVisible:!0,priceLineStyle:w.TD.SparseDotted,priceLineColor:i.currentPriceLineColor??o,lineType:this.data.length<20?w.SP.WithSteps:w.SP.Curved,lineWidth:2,lineColor:o,topColor:"transparent",bottomColor:"transparent",autoscaleInfoProvider:r}),this.series.priceScale().applyOptions({scaleMargins:i.priceScaleMargins??{top:p.Zz,bottom:p.J5}}),null===(t=this.rangeBandSeries)||void 0===t||t.applyOptions({autoscaleInfoProvider:r}),requestAnimationFrame((()=>{if(i.setBoundaryPrices){const t=this.series.coordinateToPrice(0),e=this.series.coordinateToPrice(i.height);i.setBoundaryPrices([e,t])}}))}static getPriceLineColor(i){if(i.color)return i.color;switch(i.positionStatus){case o.H6.OUT_OF_RANGE:return i.colors.statusCritical.val;case o.H6.IN_RANGE:return i.colors.statusSuccess.val;case o.H6.CLOSED:default:return i.colors.neutral2.val}}calculatePositionRange(i){var t;(this.positionRangeMin="number"===typeof i.positionPriceLower?i.positionPriceLower:x(i.positionPriceLower,0),this.positionRangeMax="number"===typeof i.positionPriceUpper?i.positionPriceUpper:x(i.positionPriceUpper,Number.MAX_SAFE_INTEGER),void 0!==i.positionPriceLower&&void 0!==i.positionPriceUpper)&&(this.bandIndicator?(this.bandIndicator.updateOptions({lineColor:(0,A.j)(10,i.theme.neutral1),fillColor:i.theme.surface3,lineWidth:1,upperValue:this.positionRangeMax,lowerValue:this.positionRangeMin}),this.bandIndicator.updateAllViews()):(this.bandIndicator=new h({lineColor:(0,A.j)(10,i.theme.neutral1),fillColor:i.theme.surface3,lineWidth:1,upperValue:this.positionRangeMax,lowerValue:this.positionRangeMin}),null===(t=this.rangeBandSeries)||void 0===t||t.attachPrimitive(this.bandIndicator)))}overrideCrosshair(i){const t=this.data[this.data.length-1];t&&requestAnimationFrame((()=>{var e,r;const o=this.api.timeScale().timeToCoordinate(t.time),n=this.series.priceToCoordinate(t.value);null===(e=(r=i).setCrosshairCoordinates)||void 0===e||e.call(r,{x:Number(o),y:Number(n)})}))}static generateExtendedData(i,t=!1){var e,r;if(t)return i;const o=null===(e=i[i.length-1])||void 0===e?void 0:e.time;if(!o)return i;const n=(o-(null===(r=i[0])||void 0===r?void 0:r.time))/i.length;if(0===n)return i;const a=l(i),s=a[a.length-1];for(let l=1;l<=Math.floor(i.length/10);l++){const i=o+n*l;a.push({...s,time:i})}return a}}function G({positionInfo:i,priceRangeInfo:t,pricesInverted:e,interactive:r}){var n;const{currencies:a,protocolVersion:s}=i;if(!a||!a[1]||!(null===(n=a[0])||void 0===n?void 0:n.chainId))return;const l=(0,b.he)(a[0],a[1],s),c=(0,b.cd)(i),d=t.protocolVersion===o.Qe.V2?{}:{base:l[0],priceLower:t.prices[0],priceUpper:t.prices[1]},[u,h]=(0,b.$2)([a[0],a[1]],e);return{poolAddressOrId:c,version:s,quoteCurrency:h,baseCurrency:u,chainId:a[0].chainId,priceOrdering:d,positionStatus:t.protocolVersion!==o.Qe.V2&&t.outOfRange?o.H6.OUT_OF_RANGE:o.H6.IN_RANGE,interactive:r}}function z({width:i,height:t,...e}){return(0,r.jsx)(S.Z,{height:t,width:i,position:"absolute",top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",...e,children:(0,r.jsx)(T.T,{size:{width:i,height:t},color:"$neutral2"})})}function Q({version:i,quoteCurrency:t,baseCurrency:e,poolAddressOrId:a,chainId:s,positionStatus:l,priceOrdering:c,duration:d,width:u=D,height:h=N,showXAxis:v,showYAxis:y=!1,interactive:w,tickSpacing:A,hook:V,feeTier:G,showLiquidityBars:Q,crosshairEnabled:H,showChartBorder:Y=!1}){var K,X;const Z=(0,j.useSporeColors)(),J=i===o.Qe.V2,ii=i===o.Qe.V3,ti=i===o.Qe.V4,ei=(0,B.getChainInfo)(s),ri=a?{addressOrId:a,chain:ei.backendChain.chain,duration:d??O.HistoryDuration.Month,isV4:ti,isV3:ii,isV2:J}:void 0,oi=(0,C.useMemo)((()=>(0,b.he)(t,e,i)),[t,e,i]),ni=(0,_.u)(ri,t,i,(0,b.I3)(oi[0],i)),[ai,si]=(0,C.useState)(),[li,ci]=(0,C.useState)(),di=(0,C.useMemo)((()=>({data:ni.entries,stale:ni.dataQuality===k.x1.STALE,type:g.E4.LINE,color:W.getPriceLineColor({positionStatus:l,colors:Z}),colors:Z,positionPriceLower:J?0:c.priceLower,positionPriceUpper:J?Number.MAX_SAFE_INTEGER:c.priceUpper,height:Q?h-R:h,priceScaleMargins:{top:0,bottom:0},setCrosshairCoordinates:si,setBoundaryPrices:ci,showXAxis:v,showYAxis:y,interactive:w})),[c.priceLower,c.priceUpper,ni.entries,ni.dataQuality,l,Z,J,h,Q,v,y,w]),{formattedData:ui,isLoading:hi}=(0,m.p)({poolId:a,currencyA:oi[0],currencyB:oi[1],invertPrices:t.equals(oi[0]),version:i,feeAmount:Number(G),tickSpacing:A,hooks:V??L.r_,skip:!Q}),pi=(0,C.useMemo)((()=>{if(!ui)return;const i=new Map;return ui.forEach((t=>{i.set(t.tick,t)})),Array.from(i.values()).sort(((i,t)=>i.price0-t.price0))}),[ui]),vi=hi&&ni.loading&&0===ni.entries.length,fi=0===ni.entries.length&&!hi&&!ni.loading,{ref:xi,width:mi}=(0,U.Z)(),gi=!fi&&!!mi,yi=H&&gi&&!ni.loading&&(null===(K=ai)||void 0===K?void 0:K.y)&&ai.y>5&&ai.x;return(0,r.jsxs)(P.Flex,{ref:xi,height:h,width:u,$md:{width:"100%"},overflow:"hidden",position:"relative",children:[vi&&mi&&!fi&&(0,r.jsx)(z,{width:mi-(Q?$:0),height:h}),vi&&(0,r.jsx)(T.T,{size:{width:mi??D,height:h??N},color:"$neutral2",mt:"$spacing8",ml:"$spacing4"}),gi&&(0,r.jsxs)(P.Flex,{width:Q?mi-$+2:mi,$md:{width:"100%"},zIndex:q.U.default,position:"relative",children:[Y&&(0,r.jsx)(P.Flex,{position:"absolute",left:0,top:0,width:mi-$,height:h-R,borderRightWidth:1,borderBottomWidth:1,borderColor:"$surface3"}),(0,r.jsx)(p.kL,{Model:W,params:di,height:h??N})]}),(0,r.jsx)("style",{children:F}),yi&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P.Flex,{...f(W.getPriceLineColor({positionStatus:l,colors:Z}),{xCoordinate:ai.x,yCoordinate:ai.y})}),(0,r.jsx)(P.Flex,{...f(W.getPriceLineColor({positionStatus:l,colors:Z}),{xCoordinate:ai.x,yCoordinate:ai.y}),style:{animation:"pulse 1.5s linear infinite"}})]}),Q&&mi&&pi&&!vi&&li&&(0,r.jsx)(P.Flex,{width:mi,height:h-R,position:"absolute",left:0,top:0,zIndex:q.U.mask,children:(0,r.jsx)(n.o,{barColor:Z.surface3.val,data:{series:pi,current:null===(X=ni.entries[ni.entries.length-1])||void 0===X?void 0:X.value,min:li[0],max:li[1]},brushDomain:[x(c.priceLower,0),x(c.priceUpper,Number.MAX_SAFE_INTEGER)],disableBrush:!0,disableRightAxis:!y,showDiffIndicators:!1,dimensions:{width:mi,height:h-R,contentWidth:E,axisLabelPaneWidth:$},onBrushDomainChange:()=>{},quoteCurrency:t,baseCurrency:e,isMobile:M.isMobileWeb})}),Q&&vi&&mi&&(0,r.jsx)(S.Z,{position:"absolute",right:$,top:0,alignItems:"flex-end",height:h-R,width:mi-$,children:(0,r.jsx)(I.i,{color:"$neutral2",size:h-R})})]})}function H(i){return(0,r.jsx)(y.Z,{fallback:()=>null,children:(0,r.jsx)(Q,{...i})})}},13773:(i,t,e)=>{e.d(t,{p:()=>u});var r=e(24764),o=e(16467),n=e(70592),a=e(59553),s=e(41709),l=e(20128),c=e(3009);function d(i,t,e,r,o,n,a){try{var s=i[n](a),l=s.value}catch(c){return void e(c)}s.done?t(l):Promise.resolve(l).then(r,o)}function u({poolId:i,currencyA:t,currencyB:e,feeAmount:u,invertPrices:h,version:p,chainId:v,tickSpacing:f,hooks:x,skip:m}){const{isLoading:g,error:y,data:k}=(0,s.K)({currencyA:t,currencyB:e,version:p,poolId:i,feeAmount:u,chainId:v,tickSpacing:f,hooks:x,skip:m}),L=function(){var i,r=(i=function*(){var i;if(!(null===(i=k)||void 0===i?void 0:i.length)||!t||!e||!u||!f)return null;const r=[];for(let v=0;v<k.length;v++){var s,l,c,d;const i=k[v],m=h?i.sdkPrice.invert().toSignificant(8):i.sdkPrice.toSignificant(8),{amount0Locked:g,amount1Locked:y}=yield p===o.Qe.V3?(0,n.FQ)(null===(s=t)||void 0===s?void 0:s.wrapped,null===(l=e)||void 0===l?void 0:l.wrapped,u,i):(0,n.lo)(null===(c=t)||void 0===c?void 0:c.wrapped,null===(d=e)||void 0===d?void 0:d.wrapped,u,f,x??a.r_,i),L={activeLiquidity:parseFloat(i.liquidityActive.toString()),price0:parseFloat(m),tick:i.tick,amount0Locked:h?g:y,amount1Locked:h?y:g};L.activeLiquidity>0&&r.push(L)}return r},function(){var t=this,e=arguments;return new Promise((function(r,o){var n=i.apply(t,e);function a(i){d(n,r,o,a,s,"next",i)}function s(i){d(n,r,o,a,s,"throw",i)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),{data:_}=(0,r.a)({queryKey:[c.ReactQueryCacheKey.DensityChartData,i,t,e,u,h,p,v,f,k],queryFn:L});return(0,l.useMemo)((()=>({isLoading:g||Boolean(k)&&!_,error:y,formattedData:g?void 0:_})),[k,y,_,g])}},53221:(i,t,e)=>{e.d(t,{u:()=>c});var r=e(72308),o=e(51215),n=e(10795),a=e(20128),s=e(94839),l=e(34786);function c(i,t,e,c){var d,u,h,p;const{data:v,loading:f}=(0,s.usePoolPriceHistoryQuery)({variables:i,skip:!(null===(d=i)||void 0===d?void 0:d.addressOrId)});return(0,a.useMemo)((()=>{var i,a,s,d;const{priceHistory:u}=(null===(i=v)||void 0===i?void 0:i.v2Pair)??(null===(a=v)||void 0===a?void 0:a.v3Pool)??(null===(s=v)||void 0===s?void 0:s.v4Pool)??{},h=(null===(d=u)||void 0===d?void 0:d.filter((i=>null!==i)).map((i=>{var r,o;const a=(0,l.isSameAddress)(c,(0,n.I3)(t,e))?null===(r=i)||void 0===r?void 0:r.token0Price:null===(o=i)||void 0===o?void 0:o.token1Price;return{time:i.timestamp,value:a,open:a,high:a,low:a,close:a}})))??[],p=!f&&u&&u.length?o.x1.VALID:o.x1.INVALID;return{chartType:r.oX.PRICE,entries:h,loading:f,dataQuality:p}}),[null===(u=v)||void 0===u?void 0:u.v2Pair,null===(h=v)||void 0===h?void 0:h.v3Pool,null===(p=v)||void 0===p?void 0:p.v4Pool,f,c,t,e])}},41709:(i,t,e)=>{e.d(t,{K:()=>P});var r=e(16467),o=e(85752),n=e(95450),a=e(32408),s=e(59553),l=e(29422),c=e.n(l),d=e(34910),u=e.n(d),h=e(10795),p=e(20128),v=e(70784),f=e(94839),x=e(63316),m=e(2398),g=e(74383),y=e(91972),k=e(88919),L=e(46832);const _=8;function w(i,t,e,o,s,l,d){let u={...e};if(d===r.Qe.V3&&(i.isNative||t.isNative))return[];let h=[];for(let x=s+(l?1:-1);l?x<o.length:x>=0;l?x++:x--){var p,v;const e=Number(null===(p=o[x])||void 0===p?void 0:p.tick),s=d===r.Qe.V3?(0,n.tickToPrice)(i,t,e):(0,a.tickToPrice)(i,t,e),m={liquidityActive:u.liquidityActive,tick:e,liquidityNet:c().BigInt((null===(v=o[x])||void 0===v?void 0:v.liquidityNet)??""),price0:s.toFixed(_),sdkPrice:s};var f;if(l)m.liquidityActive=c().add(u.liquidityActive,c().BigInt((null===(f=o[x])||void 0===f?void 0:f.liquidityNet)??0));else!l&&c().notEqual(u.liquidityNet,c().BigInt(0))&&(m.liquidityActive=c().subtract(u.liquidityActive,u.liquidityNet));h.push(m),u=m}return l||(h=h.reverse()),h}const b=8,C=(i,t,e)=>i&&t&&e?Math.floor(i/e)*e:void 0,S=1e3;function j({currencyA:i,currencyB:t,feeAmount:e,chainId:s,version:l,tickSpacing:c,hooks:d,precalculatedPoolId:h}){var v,x,y,L,_;const[w,b]=(0,p.useState)(0),[C,j]=(0,p.useState)([]),P=(0,p.useMemo)((()=>{var u,p;if(h)return h;const v=i&&t&&e&&l===r.Qe.V3?n.Pool.getAddress(null===(u=i)||void 0===u?void 0:u.wrapped,null===(p=t)||void 0===p?void 0:p.wrapped,e,void 0,s?o.V3_CORE_FACTORY_ADDRESSES[s]:void 0):void 0,f=l===r.Qe.V4&&i&&t&&e&&c&&d?a.Pool.getPoolId(i,t,e,c,d):void 0;return l===r.Qe.V3?v:f}),[s,i,t,e,d,h,c,l]),{data:I,error:T,loading:A}=function(i,t,e=0,o){var n;const{defaultChainId:a}=(0,m.useEnabledChains)(),s=(0,g.useSupportedChainId)(o),l=(0,f.useAllV3TicksQuery)({variables:{address:(null===(n=i)||void 0===n?void 0:n.toLowerCase())??"",chain:(0,k.toGraphQLChain)(s??a),skip:e,first:S},skip:!i||t!==r.Qe.V3,pollInterval:u()("30s")}),c=(0,f.useAllV4TicksQuery)({variables:{poolId:i??"",chain:(0,k.toGraphQLChain)(s??a),skip:e,first:S},skip:!i||t!==r.Qe.V4,pollInterval:u()("30s")});return(0,p.useMemo)((()=>t===r.Qe.V3?l:t===r.Qe.V4?c:{data:void 0,error:new Error("Invalid version"),loading:!1}),[l,c,t])}(P,l,w,s),q=(null===(x=I)||void 0===x||null===(v=x.v3Pool)||void 0===v?void 0:v.ticks)??(null===(L=I)||void 0===L||null===(y=L.v4Pool)||void 0===y?void 0:y.ticks);return(0,p.useEffect)((()=>{var i,t;(null===(i=q)||void 0===i?void 0:i.length)&&(j((i=>[...i,...q])),(null===(t=q)||void 0===t?void 0:t.length)===S&&b((i=>i+S)))}),[q]),{isLoading:A||(null===(_=q)||void 0===_?void 0:_.length)===S,error:T,ticks:C}}function P({currencyA:i,currencyB:t,feeAmount:e,chainId:o,version:l,tickSpacing:d,hooks:u,poolId:f,skip:m}){var g,k,_,S;const P=(0,v.m)().chainId??y.UniverseChainId.Mainnet,I=Boolean((0,h.vS)(l)&&i&&t&&!m),{data:T,isLoading:A}=(0,x.k)({fee:e,chainId:o??P,protocolVersions:[l],token0:(0,h.I3)(i,l),token1:(0,h.I3)(t,l),hooks:u??s.r_},I),q=(null===(g=T)||void 0===g?void 0:g.pools)&&T.pools.length>0?T.pools[0]:void 0,O=null===(k=q)||void 0===k?void 0:k.liquidity,B=null===(_=q)||void 0===_?void 0:_.sqrtPriceX96,U=null===(S=q)||void 0===S?void 0:S.tick,V=(0,p.useMemo)((()=>C(U,e,d)),[U,e,d]),{isLoading:M,error:N,ticks:D}=j({currencyA:i,currencyB:t,feeAmount:e,precalculatedPoolId:f,chainId:o??P,version:l??r.Qe.V3,tickSpacing:d,hooks:u});return(0,p.useMemo)((()=>{var e,o,d,u,h;if(!i||!t||void 0===V||!q||!D||0===D.length||M)return{isLoading:M||A,error:N,activeTick:V,data:void 0};const p=l===r.Qe.V3?null===(e=i)||void 0===e?void 0:e.wrapped:i,v=l===r.Qe.V3?null===(o=t)||void 0===o?void 0:o.wrapped:t,f=D.findIndex((i=>{var t;return(null===(t=i)||void 0===t?void 0:t.tick)&&i.tick>V}))-1;if(f<0)return L.logger.debug("usePoolTickData","usePoolActiveLiquidity","TickData pivot not found",{token0:p.isToken?p.address:s.r_,token1:v.isToken?v.address:s.r_,chainId:p.chainId}),{isLoading:M,error:N,activeTick:V,data:void 0};let x;try{x=l===r.Qe.V3?(0,n.tickToPrice)(p,v,V):(0,a.tickToPrice)(p,v,V)}catch(k){return L.logger.debug("usePoolTickData","usePoolActiveLiquidity","Error getting price",{error:k,token0:p.isToken?p.address:s.r_,token1:v.isToken?v.address:s.r_,chainId:p.chainId}),{isLoading:M,error:N,activeTick:V,data:void 0}}const m={liquidityActive:c().BigInt((null===(d=q)||void 0===d?void 0:d.liquidity)??0),tick:V,liquidityNet:Number(null===(u=D[f])||void 0===u?void 0:u.tick)===V?c().BigInt((null===(h=D[f])||void 0===h?void 0:h.liquidityNet)??0):c().BigInt(0),price0:x.toFixed(b),sdkPrice:x},g=w(p,v,m,D,f,!0,l),y=w(p,v,m,D,f,!1,l).concat(m).concat(g);return{isLoading:M,error:N,currentTick:U,activeTick:V,liquidity:c().BigInt(O??0),sqrtPriceX96:c().BigInt(B??0),data:y}}),[i,t,V,q,D,M,l,N,U,O,B,A])}},48280:(i,t,e)=>{e.d(t,{X:()=>o});var r=e(55278);function o(i){return!!i&&!(0,r.getChainInfo)(i).supportsV4}}}]);
//# sourceMappingURL=9475.cdde9c45.chunk.js.map