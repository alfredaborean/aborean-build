"use strict";(self.webpackChunk_uniswap_interface=self.webpackChunk_uniswap_interface||[]).push([[2501],{63e3:(e,n,o)=>{o.r(n),o.d(n,{default:()=>i});const i={}},65507:(e,n,o)=>{o.r(n),o.d(n,{default:()=>i});const i={}},20011:(e,n,o)=>{o.r(n),o.d(n,{default:()=>i});const i={}},1394:(e,n,o)=>{o.r(n),o.d(n,{default:()=>i});const i={}},15855:(e,n,o)=>{o.r(n),o.d(n,{default:()=>i});const i={}},92751:(e,n,o)=>{o.r(n),o.d(n,{default:()=>i});const i={}},84340:(e,n,o)=>{o.r(n),o.d(n,{default:()=>i});const i={}},3027:(e,n,o)=>{o.d(n,{Z:()=>p});var i=o(97755),t=o(82663),r=o(82746),a=o(59793),l=o(52964),s=o(20868);const[d,c]=(0,s.I)({name:"Magic",getIcon:e=>(0,i.jsx)(l.ny,{viewBox:"0 0 18 19",fill:"none",...e,children:(0,i.jsx)(l.y$,{d:"M9.01511 16.2499C8.85761 16.2499 8.7151 16.1449 8.6701 15.9949L8.1151 14.0599C7.6126 12.2824 6.22509 10.9024 4.44759 10.3999L2.50512 9.84487C2.31762 9.79237 2.2051 9.59737 2.2576 9.40987C2.2876 9.28987 2.38512 9.19987 2.50512 9.16237L4.44759 8.60736C6.22509 8.10486 7.6126 6.72486 8.1151 4.94736L8.6701 3.01237C8.7226 2.82487 8.91762 2.71237 9.11262 2.76487C9.23262 2.80237 9.32258 2.89237 9.36008 3.01237L9.91508 4.94736C10.4176 6.72486 11.8051 8.10486 13.5826 8.60736L15.5251 9.16237C15.7126 9.23737 15.8026 9.45487 15.7276 9.64237C15.6901 9.73237 15.6151 9.80737 15.5251 9.84487L13.5826 10.3999C11.8051 10.9024 10.4176 12.2899 9.91508 14.0599L9.36008 15.9949C9.31508 16.1449 9.17261 16.2499 9.01511 16.2499ZM4.38012 16.1749L4.5526 15.5899C4.7026 15.0574 5.12258 14.6449 5.65508 14.4949L6.2401 14.3299C6.3001 14.3074 6.32262 14.2399 6.30012 14.1874C6.28512 14.1574 6.2701 14.1424 6.2401 14.1274L5.65508 13.9624C5.12258 13.8124 4.7026 13.3999 4.5526 12.8674L4.38012 12.2824C4.36512 12.2224 4.30508 12.1924 4.24508 12.2074C4.20758 12.2149 4.1851 12.2449 4.1701 12.2824L4.00512 12.8674C3.85512 13.3999 3.43509 13.8124 2.90259 13.9624L2.31762 14.1274C2.25762 14.1424 2.22759 14.2024 2.24259 14.2624C2.25009 14.2999 2.28012 14.3224 2.31762 14.3374L2.90259 14.5024C3.43509 14.6524 3.85512 15.0649 4.00512 15.5974L4.1701 16.1824C4.1851 16.2424 4.24509 16.2724 4.30509 16.2574C4.34259 16.2499 4.36512 16.2199 4.38012 16.1824V16.1749ZM14.4751 5.39737L14.5876 5.00736C14.6851 4.65486 14.9626 4.37736 15.3226 4.27986L15.7126 4.16737C15.7501 4.15237 15.7651 4.10736 15.7501 4.06986C15.7426 4.05486 15.7276 4.03987 15.7126 4.03237L15.3226 3.91986C14.9701 3.82236 14.6926 3.54486 14.5876 3.19236L14.4751 2.80237C14.4676 2.76487 14.4226 2.74236 14.3851 2.75736C14.3626 2.75736 14.3476 2.77987 14.3401 2.80237L14.2276 3.19236C14.1301 3.54486 13.8526 3.82236 13.4926 3.91986L13.1026 4.03237C13.0651 4.03987 13.0426 4.08487 13.0576 4.12237C13.0576 4.14487 13.0801 4.15987 13.1026 4.16737L13.4926 4.27986C13.8451 4.37736 14.1226 4.65486 14.2276 5.00736L14.3401 5.39737C14.3476 5.43487 14.3926 5.45736 14.4301 5.44236C14.4526 5.44236 14.4676 5.41987 14.4751 5.39737Z",fill:"oklch(0.92 0.004 286.32)"})})});var u=o(32865),v=o(91972),h=o(81886);const p=function({currency0Info:e,currency1Info:n,poolApr:o,lpIncentiveRewardApr:l,totalApr:s,chainId:c=v.UniverseChainId.Mainnet}){const{t:p}=(0,t.useTranslation)(),{formatPercent:f}=(0,h.useLocalizationContext)(),y=o?f(o):"-",b=l?f(l):"-",g=s?f(s):"-";return(0,i.jsxs)(r.Flex,{flexDirection:"column",gap:"$spacing4",id:"boosted-apr-tooltip",paddingTop:"$spacing8",paddingBottom:5,px:"$spacing4",children:[(0,i.jsxs)(x,{children:[(0,i.jsx)(m,{icon:(0,i.jsx)(u.SplitLogo,{inputCurrencyInfo:e,outputCurrencyInfo:n,size:16,chainId:c}),label:p("pool.aprText")}),(0,i.jsx)(a.Text,{variant:"body4",color:"$neutral1",children:y})]}),(0,i.jsxs)(x,{children:[(0,i.jsx)(m,{icon:(0,i.jsx)("div",{className:"  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _height-14px _width-14px _borderTopLeftRadius-5037 _borderTopRightRadius-5037 _borderBottomRightRadius-5037 _borderBottomLeftRadius-5037 _backgroundColor-neutral1 _justifyContent-center ",children:(0,i.jsx)("img",{height:12,width:12,src:"/logo.svg",alt:"aborean-logo"})}),label:p("pool.rewardAPR")}),(0,i.jsx)(a.Text,{variant:"body4",color:"$neutral1",children:b})]}),(0,i.jsxs)(x,{backgroundColor:"$accent2",borderBottomLeftRadius:"$rounded6",borderBottomRightRadius:"$rounded6",children:[(0,i.jsx)(m,{icon:(0,i.jsx)(d,{size:"$icon.16",color:"$accent1"}),label:p("pool.totalAPR"),color:"$accent1"}),(0,i.jsx)(a.Text,{variant:"body4",color:"$accent1",children:g})]})]})},x=({children:e,backgroundColor:n,borderBottomLeftRadius:o,borderBottomRightRadius:t})=>(0,i.jsx)(r.Flex,{row:!0,justifyContent:"space-between",alignItems:"center",px:"$spacing8",height:"$spacing24",gap:"$spacing4",backgroundColor:n,borderBottomLeftRadius:o,borderBottomRightRadius:t,children:e}),m=({icon:e,label:n,color:o="$neutral2"})=>(0,i.jsxs)("div",{className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-spa94665591 ",children:[e,(0,i.jsx)(a.Text,{variant:"body4",color:o,children:n})]});o(63e3)},2045:(e,n,o)=>{o.d(n,{c:()=>a,r:()=>r});var i=o(91415),t=o(94839);const r=(0,i.rw)(void 0);function a({chainId:e,errorV3:n,errorV2:o}){const a=(0,i.yW)(r);(0,i.oC)(r)(),n&&e&&a({chainId:e}),o&&e&&a({chainId:e,version:t.ProtocolVersion.V2})}},12296:(e,n,o)=>{o.d(n,{j:()=>y});var i=o(44842),t=o(85752),r=o(16941),a=o(59553),l=o(14585),s=o(20856),d=o(20128);const c=JSON.parse('[{"inputs":[{"internalType":"address","name":"_factoryV2","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"PairLookupFailed","type":"error"},{"inputs":[],"name":"SameToken","type":"error"},{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"address","name":"baseToken","type":"address"},{"internalType":"uint256","name":"amountToBorrow","type":"uint256"}],"name":"batchValidate","outputs":[{"components":[{"internalType":"uint256","name":"buyFeeBps","type":"uint256"},{"internalType":"uint256","name":"sellFeeBps","type":"uint256"}],"internalType":"struct TokenFees[]","name":"fotResults","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"amount0","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"uniswapV2Call","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"baseToken","type":"address"},{"internalType":"uint256","name":"amountToBorrow","type":"uint256"}],"name":"validate","outputs":[{"components":[{"internalType":"uint256","name":"buyFeeBps","type":"uint256"},{"internalType":"uint256","name":"sellFeeBps","type":"uint256"}],"internalType":"struct TokenFees","name":"fotResult","type":"tuple"}],"stateMutability":"nonpayable","type":"function"}]');var u=o(91972),v=o(66789),h=o(46832);function p(e,n,o,i,t,r,a){try{var l=e[r](a),s=l.value}catch(d){return void o(d)}l.done?n(s):Promise.resolve(s).then(i,t)}function x(e){switch(e){case u.UniverseChainId.Mainnet:return"0x19C97dc2a25845C7f9d1d519c8C2d4809c58b43f";case u.UniverseChainId.Optimism:return"0xa7c17505B43955A474fb6AFE61E093907a7567c9";case u.UniverseChainId.Bnb:return"0x331f6D0AAB4A1F039f0d75A613a7F1593DbDE1BB";case u.UniverseChainId.Polygon:return"0x92bCCCb6c8c199AAcA38408621E38Ab6dBfA00B5";case u.UniverseChainId.Base:return"0x331f6D0AAB4A1F039f0d75A613a7F1593DbDE1BB";case u.UniverseChainId.ArbitrumOne:return"0x64CF365CC5CCf5E64380bc05Acd5df7D0618c118";case u.UniverseChainId.Celo:return"0x3dfF0145E68a5880EAbE8F56b6Bc30C4AdCF3413";case u.UniverseChainId.Avalanche:return"0xBF2B9F6A6eCc4541b31ab2dCF8156D33644Ca3F3";default:return}}const m={};function f(){var e;return e=function*(e,n,o,i){var l,s;const d=[];n&&void 0===m[n]&&d.push(n),o&&void 0===m[o]&&d.push(o);try{if(d.length){const n=yield e.callStatic.batchValidate(d,(0,r.tG)(i),1e4);d.forEach(((e,o)=>{const{sellFeeBps:i,buyFeeBps:r}=n[o],l=new t.Percent(i.toNumber(),a.PM),s=new t.Percent(r.toNumber(),a.PM);m[e]={sellTax:l,buyTax:s}}))}}catch(c){h.logger.warn("useSwapTaxes","getSwapTaxes","Failed to get swap taxes for token(s):",d,c)}return{inputTax:(n?null===(l=m[n])||void 0===l?void 0:l.sellTax:a.fI)??a.fI,outputTax:(o?null===(s=m[o])||void 0===s?void 0:s.buyTax:a.fI)??a.fI}},f=function(){var n=this,o=arguments;return new Promise((function(i,t){var r=e.apply(n,o);function a(e){p(r,i,t,a,l,"next",e)}function l(e){p(r,i,t,a,l,"throw",e)}a(void 0)}))},f.apply(this,arguments)}function y(e,n,o){const t=(0,l.m)(),r=o??t.chainId,u=function(e){const n=(0,l.m)(),o=(0,s.cq)(x(e),c,!0,e);return(0,d.useEffect)((()=>{o&&n.address&&(0,v.sendAnalyticsEvent)(i.Je.WALLET_PROVIDER_USED,{source:"useFeeOnTransferDetectorContract",contract:{name:"FeeOnTransferDetector",address:x(e)}})}),[n.address,e,o]),o}(r),[{inputTax:h,outputTax:p},m]=(0,d.useState)({inputTax:a.fI,outputTax:a.fI});return(0,d.useEffect)((()=>{u&&r&&function(e,n,o,i){return f.apply(this,arguments)}(u,e,n,r).then(m)}),[u,e,n,r]),{inputTax:h,outputTax:p}}},8537:(e,n,o)=>{o.r(n),o.d(n,{default:()=>Gn});var i=o(97755),t=o(44842),r=o(16551),a=o(56116),l=o(61162);function s(e){return(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.28516 11.9999C1.28516 6.08243 6.08194 1.28564 11.9994 1.28564C17.9169 1.28564 22.7137 6.08243 22.7137 11.9999C22.7137 17.9174 17.9169 22.7142 11.9994 22.7142C6.08194 22.7142 1.28516 17.9174 1.28516 11.9999ZM10.9816 7.49994C10.9816 6.9378 11.4373 6.48209 11.9995 6.48209C12.5616 6.48209 13.0173 6.9378 13.0173 7.49994V14.0426L15.7798 11.2802C16.1772 10.8827 16.8217 10.8827 17.2192 11.2802C17.6167 11.6777 17.6167 12.3222 17.2192 12.7197L12.7192 17.2197C12.3217 17.6172 11.6772 17.6172 11.2798 17.2197L6.77975 12.7197C6.38225 12.3222 6.38225 11.6777 6.77975 11.2802C7.17725 10.8827 7.82172 10.8827 8.21922 11.2802L10.9816 14.0426V7.49994Z",fill:e.fill||"white"})})}var d=o(94949),c=o(44467),u=o(14585),v=o(74567),h=o(44443),p=o(20128),x=o(82663),m=o(63933),f=o(60759),y=o(59068);function b(e,n,o,i,t,r,a){try{var l=e[r](a),s=l.value}catch(d){return void o(d)}l.done?n(s):Promise.resolve(s).then(i,t)}const g="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-center _gap-t-space-spa94665593 _width-10037 ";function C(){const{t:e}=(0,x.useTranslation)(),{currencyChain:n,currencyChainId:o,address:t,tokenColor:r}=(0,h.U)(),a=(0,v.o)(),C=(0,m.s0)(),j=(0,u.m)(),k=n.toLowerCase(),_=t===c.d?"ETH":t,T=!(0,f.GS)().xs,w=(0,p.useCallback)(function(){var e,n=(e=function*(e){j.chainId&&j.chainId!==o&&(yield a(o)),C(e)},function(){var n=this,o=arguments;return new Promise((function(i,t){var r=e.apply(n,o);function a(e){b(r,i,t,a,l,"next",e)}function l(e){b(r,i,t,a,l,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),[j,o,a,C]),I=[{label:e("common.buy.label"),href:`/swap/?chain=${k}&outputCurrency=${_}`,icon:(0,i.jsx)(l.c,{fill:"currentColor"})},{label:e("common.sell.label"),href:`/swap?chain=${k}&inputCurrency=${_}`,icon:(0,i.jsx)(s,{fill:"currentColor"})},{label:e("common.send.button"),href:`/send?chain=${k}&inputCurrency=${_}`,icon:(0,i.jsx)(d.v,{fill:"currentColor"})}];return(0,i.jsx)("div",{className:g,children:I.map((e=>(0,i.jsx)(y.z,{onPress:()=>w(e.href),backgroundColor:r,icon:T?e.icon:void 0,size:"medium",children:e.label},e.label)))})}o(15855);var j=o(15121),k=o(84161),_=o(2045),T=o(738),w=o(94839),I=o(2398),S=o(88919);const L=20;var $=o(56140),P=o(91415);const B="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",V=[T.ay.VolOverTvl,T.ay.RewardApr];function M({chainId:e,referenceToken:n}){const o=(0,P.Dv)(k.AY),t=(0,P.Dv)(k.$E),r=(0,p.useMemo)((()=>({sortBy:o,sortDirection:t?$.N9.Asc:$.N9.Desc})),[t,o]),{pools:a,loading:l,errorV2:s,errorV3:d,loadMore:c}=function(e,n,o){var i,t,r,a,l,s;const{defaultChainId:d}=(0,I.useEnabledChains)(),c=(0,S.toGraphQLChain)(o??d),{loading:u,error:v,data:h,fetchMore:x}=(0,w.useTopV4PoolsQuery)({variables:{first:L,tokenAddress:e,chain:c}}),{loading:m,error:f,data:y,fetchMore:b}=(0,w.useTopV3PoolsQuery)({variables:{first:L,tokenAddress:e,chain:c}}),{loading:g,error:C,data:j,fetchMore:k}=(0,w.useTopV2PairsQuery)({variables:{first:L,tokenAddress:e,chain:c},skip:!o}),_=u||m||g,$=(0,p.useRef)(!1),P=(0,p.useRef)(!1),B=(0,p.useRef)(!1),V=(0,p.useRef)(L),M=(0,p.useCallback)((({onComplete:e})=>{var n,o,i,t,r,a,l,s,d,c,u,v;$.current||P.current||B.current||($.current=!0,P.current=!0,B.current=!0,V.current+=L,x({variables:{cursor:null===(t=h)||void 0===t||null===(i=t.topV4Pools)||void 0===i||null===(o=i[h.topV4Pools.length-1])||void 0===o||null===(n=o.totalLiquidity)||void 0===n?void 0:n.value},updateQuery:(n,{fetchMoreResult:o})=>{if(!o||!n||!Object.keys(n).length)return $.current=!1,n;var i;P.current||B.current||null===(i=e)||void 0===i||i();const t={topV4Pools:[...(n.topV4Pools??[]).slice(),...(o.topV4Pools??[]).slice()]};return $.current=!1,t}}),b({variables:{cursor:null===(s=y)||void 0===s||null===(l=s.topV3Pools)||void 0===l||null===(a=l[y.topV3Pools.length-1])||void 0===a||null===(r=a.totalLiquidity)||void 0===r?void 0:r.value},updateQuery:(n,{fetchMoreResult:o})=>{if(!o||!n||!Object.keys(n).length)return P.current=!1,n;var i;B.current||$.current||null===(i=e)||void 0===i||i();const t={topV3Pools:[...(n.topV3Pools??[]).slice(),...(o.topV3Pools??[]).slice()]};return P.current=!1,t}}),k({variables:{cursor:null===(v=j)||void 0===v||null===(u=v.topV2Pairs)||void 0===u||null===(c=u[j.topV2Pairs.length-1])||void 0===c||null===(d=c.totalLiquidity)||void 0===d?void 0:d.value},updateQuery:(n,{fetchMoreResult:o})=>{if(!o||!n||!Object.keys(n).length)return B.current=!1,n;var i;P.current||$.current||null===(i=e)||void 0===i||i();const t={topV2Pairs:[...(n.topV2Pairs??[]).slice(),...(o.topV2Pairs??[]).slice()]};return B.current=!1,t}}))}),[null===(i=j)||void 0===i?void 0:i.topV2Pairs,null===(t=y)||void 0===t?void 0:t.topV3Pools,null===(r=h)||void 0===r?void 0:r.topV4Pools,k,b,x]);return(0,p.useMemo)((()=>{var e,o,i,t,r,a;const l=(null===(o=h)||void 0===o||null===(e=o.topV4Pools)||void 0===e?void 0:e.map((e=>{var n,o,i,t,r,a,l,s;return{hash:e.poolId,token0:e.token0,token1:e.token1,tvl:null===(n=e.totalLiquidity)||void 0===n?void 0:n.value,volume24h:null===(o=e.volume24h)||void 0===o?void 0:o.value,volume30d:null===(i=e.volume30d)||void 0===i?void 0:i.value,volOverTvl:(0,T.DF)(null===(t=e.volume24h)||void 0===t?void 0:t.value,null===(r=e.totalLiquidity)||void 0===r?void 0:r.value),apr:(0,T.r6)(null===(a=e.volume24h)||void 0===a?void 0:a.value,null===(l=e.totalLiquidity)||void 0===l?void 0:l.value,e.feeTier),feeTier:e.feeTier,protocolVersion:e.protocolVersion,hookAddress:null===(s=e.hook)||void 0===s?void 0:s.address}})))??[],s=(null===(t=y)||void 0===t||null===(i=t.topV3Pools)||void 0===i?void 0:i.map((e=>{var n,o,i,t,r,a,l;return{hash:e.address,token0:e.token0,token1:e.token1,tvl:null===(n=e.totalLiquidity)||void 0===n?void 0:n.value,volume24h:null===(o=e.volume24h)||void 0===o?void 0:o.value,volume30d:null===(i=e.volume30d)||void 0===i?void 0:i.value,volOverTvl:(0,T.DF)(null===(t=e.volume24h)||void 0===t?void 0:t.value,null===(r=e.totalLiquidity)||void 0===r?void 0:r.value),apr:(0,T.r6)(null===(a=e.volume24h)||void 0===a?void 0:a.value,null===(l=e.totalLiquidity)||void 0===l?void 0:l.value,e.feeTier),feeTier:e.feeTier,protocolVersion:e.protocolVersion}})))??[],d=(null===(a=j)||void 0===a||null===(r=a.topV2Pairs)||void 0===r?void 0:r.map((e=>{var n,o,i,t,r,a,l;return{hash:e.address,token0:e.token0,token1:e.token1,tvl:null===(n=e.totalLiquidity)||void 0===n?void 0:n.value,volume24h:null===(o=e.volume24h)||void 0===o?void 0:o.value,volume30d:null===(i=e.volume30d)||void 0===i?void 0:i.value,volOverTvl:(0,T.DF)(null===(t=e.volume24h)||void 0===t?void 0:t.value,null===(r=e.totalLiquidity)||void 0===r?void 0:r.value),apr:(0,T.r6)(null===(a=e.volume24h)||void 0===a?void 0:a.value,null===(l=e.totalLiquidity)||void 0===l?void 0:l.value,T.y9),feeTier:T.y9,protocolVersion:e.protocolVersion}})))??[],c=(0,T.s$)([...l,...s,...d],n).slice(0,V.current);return{loading:_,errorV2:C,errorV3:f,errorV4:v,pools:c,loadMore:M}}),[null===(a=j)||void 0===a?void 0:a.topV2Pairs,null===(l=y)||void 0===l?void 0:l.topV3Pools,null===(s=h)||void 0===s?void 0:s.topV4Pools,C,f,v,M,_,n])}(n.address,r,e),u=s&&d?new j.cA({errorMessage:`Could not retrieve V2 and V3 Pools for token ${n.address} on chain: ${e}`}):void 0,v=l&&!a.length;(0,_.c)({chainId:e,errorV3:d,errorV2:s});const h=(0,P.oC)(k.AY),x=(0,P.oC)(k.$E);return(0,p.useEffect)((()=>{h(),x()}),[x,h]),(0,i.jsx)("div",{"data-testid":`tdp-pools-table-${n.address.toLowerCase()}`,className:B,children:(0,i.jsx)(k.NE,{pools:a,loading:v,error:u,maxHeight:600,hiddenColumns:V,loadMore:c,forcePinning:!0})})}o(65507);var E=o(27060),A=o(67130),N=o(90588),F=o(49009),z=o(53894),R=(e=>(e.BUY="Buy",e.SELL="Sell",e))(R||{});const D=25;var O=o(74456),H=o(82746),U=o(59793),W=o(29455),Q=o(7539),K=o(34786),Z=o(27258);const q="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap52 _justifyContent-flex-end ",G="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap56 _justifyContent-flex-end _alignItems-center ",Y="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap52 _alignItems-center ",J=(0,O.z)(H.Flex,{position:"relative",minHeight:158});function X({chainId:e,referenceToken:n}){const o=(0,W.useAppFiatCurrency)(),{formatNumber:t,formatFiatPrice:r}=(0,Z.Gb)(),[a,l]=(0,p.useReducer)((e=>!e),!1),s=(0,p.useRef)(null),[d,c]=(0,p.useState)([R.BUY,R.SELL]),{transactions:u,loading:v,loadMore:h,errorV2:m,errorV3:y}=function(e,n,o=["Buy","Sell"]){var i,t,r,a,l,s,d,c,u,v,h,x;const{defaultChainId:m}=(0,I.useEnabledChains)(),{data:f,loading:y,fetchMore:b,error:g}=(0,w.useV4TokenTransactionsQuery)({variables:{address:e.toLowerCase(),chain:(0,S.toGraphQLChain)(n??m),first:D}}),{data:C,loading:j,fetchMore:k,error:_}=(0,w.useV3TokenTransactionsQuery)({variables:{address:e.toLowerCase(),chain:(0,S.toGraphQLChain)(n??m),first:D}}),{data:T,loading:L,error:$,fetchMore:P}=(0,w.useV2TokenTransactionsQuery)({variables:{address:e.toLowerCase(),first:D,chain:(0,S.toGraphQLChain)(n)}}),B=(0,p.useRef)(!1),V=(0,p.useRef)(!1),M=(0,p.useRef)(!1),E=(0,p.useRef)(D),A=(0,p.useCallback)((({onComplete:e})=>{var n,o,i,t,r,a,l,s,d,c,u,v,h,p,x;B.current||V.current||M.current||(B.current=!0,V.current=!0,M.current=!0,E.current+=D,b({variables:{cursor:null===(r=f)||void 0===r||null===(t=r.token)||void 0===t||null===(i=t.v4Transactions)||void 0===i||null===(n=i[(null===(o=f.token)||void 0===o?void 0:o.v4Transactions.length)-1])||void 0===n?void 0:n.timestamp},updateQuery:(n,{fetchMoreResult:o})=>{var i,t,r,a,l,s,d;if(!o)return B.current=!1,n;V.current||M.current||null===(d=e)||void 0===d||d();const c={token:{...n.token,id:(null===(t=n)||void 0===t||null===(i=t.token)||void 0===i?void 0:i.id)??"",chain:(null===(a=n)||void 0===a||null===(r=a.token)||void 0===r?void 0:r.chain)??w.Chain.Ethereum,v4Transactions:[...(null===(l=n.token)||void 0===l?void 0:l.v4Transactions)??[],...(null===(s=o.token)||void 0===s?void 0:s.v4Transactions)??[]]}};return B.current=!1,c}}),k({variables:{cursor:null===(c=C)||void 0===c||null===(d=c.token)||void 0===d||null===(s=d.v3Transactions)||void 0===s||null===(a=s[(null===(l=C.token)||void 0===l?void 0:l.v3Transactions.length)-1])||void 0===a?void 0:a.timestamp},updateQuery:(n,{fetchMoreResult:o})=>{var i,t,r,a,l,s,d;if(!o)return V.current=!1,n;M.current||B.current||null===(d=e)||void 0===d||d();const c={token:{...n.token,id:(null===(t=n)||void 0===t||null===(i=t.token)||void 0===i?void 0:i.id)??"",chain:(null===(a=n)||void 0===a||null===(r=a.token)||void 0===r?void 0:r.chain)??w.Chain.Ethereum,v3Transactions:[...(null===(l=n.token)||void 0===l?void 0:l.v3Transactions)??[],...(null===(s=o.token)||void 0===s?void 0:s.v3Transactions)??[]]}};return V.current=!1,c}}),P({variables:{cursor:null===(x=T)||void 0===x||null===(p=x.token)||void 0===p||null===(h=p.v2Transactions)||void 0===h||null===(u=h[(null===(v=T.token)||void 0===v?void 0:v.v2Transactions.length)-1])||void 0===u?void 0:u.timestamp},updateQuery:(n,{fetchMoreResult:o})=>{var i,t,r,a,l,s,d;if(!o)return M.current=!1,n;V.current||B.current||null===(d=e)||void 0===d||d();const c={token:{...n.token,id:(null===(t=n)||void 0===t||null===(i=t.token)||void 0===i?void 0:i.id)??"",chain:(null===(a=n)||void 0===a||null===(r=a.token)||void 0===r?void 0:r.chain)??w.Chain.Ethereum,v2Transactions:[...(null===(l=n.token)||void 0===l?void 0:l.v2Transactions)??[],...(null===(s=o.token)||void 0===s?void 0:s.v2Transactions)??[]]}};return M.current=!1,c}}))}),[null===(t=T)||void 0===t||null===(i=t.token)||void 0===i?void 0:i.v2Transactions,null===(a=C)||void 0===a||null===(r=a.token)||void 0===r?void 0:r.v3Transactions,null===(s=f)||void 0===s||null===(l=s.token)||void 0===l?void 0:l.v4Transactions,P,k,b]),N=(0,p.useCallback)((n=>{var i;if(!n)return!1;const t=(null===(i=(parseFloat(n.token0Quantity)>0?n.token0:n.token1).address)||void 0===i?void 0:i.toLowerCase())===e.toLowerCase();return n.type===w.PoolTransactionType.Swap&&o.includes(t?"Sell":"Buy")}),[e,o]),F=(0,p.useMemo)((()=>{var e,n,o,i,t,r;return[...(null===(n=f)||void 0===n||null===(e=n.token)||void 0===e?void 0:e.v4Transactions)??[],...(null===(i=C)||void 0===i||null===(o=i.token)||void 0===o?void 0:o.v3Transactions)??[],...(null===(r=T)||void 0===r||null===(t=r.token)||void 0===t?void 0:t.v2Transactions)??[]].filter(N).sort(((e,n)=>{var o,i,t;return(null===(o=e)||void 0===o?void 0:o.timestamp)&&(null===(i=n)||void 0===i?void 0:i.timestamp)?n.timestamp-e.timestamp:null===(null===(t=e)||void 0===t?void 0:t.timestamp)?-1:1})).slice(0,E.current)}),[null===(c=T)||void 0===c||null===(d=c.token)||void 0===d?void 0:d.v2Transactions,null===(v=C)||void 0===v||null===(u=v.token)||void 0===u?void 0:u.v3Transactions,null===(x=f)||void 0===x||null===(h=x.token)||void 0===h?void 0:h.v4Transactions,N]);return(0,p.useMemo)((()=>({transactions:F,loading:y||j||L,loadMore:A,errorV2:$,errorV3:_,errorV4:g})),[F,y,j,L,A,$,_,g])}(n.address,e,d),b=m&&y?new j.cA({errorMessage:`Could not retrieve V2 and V3 Transactions for token: ${n.address} on chain: ${e}`}):void 0,g=v&&!u.length;(0,_.c)({chainId:e,errorV3:y,errorV2:m});const C=(0,$.vR)(e,n),k=(0,p.useMemo)((()=>u.map((e=>{const n={address:e.token0.address,symbol:e.token0.symbol,amount:parseFloat(e.token0Quantity),token:e.token0},o={address:e.token1.address,symbol:e.token1.symbol,amount:parseFloat(e.token1Quantity),token:e.token1},i=parseFloat(e.token0Quantity)>0;return{hash:e.hash,timestamp:e.timestamp,input:i?n:o,output:i?o:n,usdValue:e.usdValue.value,makerAddress:e.account}}))),[u]),T=(0,f.GS)(),L=g||!!b,P=(0,p.useMemo)((()=>{const u=(0,E.Cl)();return[u.accessor((e=>e),{id:"timestamp",maxSize:80,header:()=>(0,i.jsx)(z.qN,{justifyContent:"flex-start",grow:!0,children:(0,i.jsx)("div",{className:Y,children:(0,i.jsx)(U.Text,{variant:"body3",color:"$neutral2",children:(0,i.jsx)(x.Trans,{i18nKey:"common.time"})})})}),cell:n=>{var o,t,r,a;return(0,i.jsx)(N.b,{loading:L,justifyContent:"flex-start",grow:!0,children:(0,i.jsx)(z._q,{timestamp:Number(null===(o=(t=n).getValue)||void 0===o?void 0:o.call(t).timestamp),link:(0,Q.getExplorerLink)(e,null===(r=(a=n).getValue)||void 0===r?void 0:r.call(a).hash,Q.ExplorerDataType.TRANSACTION)})})}}),u.accessor((e=>e.output.address),{id:"swap-type",maxSize:80,header:()=>(0,i.jsx)(z.qN,{justifyContent:"flex-start",grow:!0,children:(0,i.jsxs)(z.j4,{clickable:a,onPress:a?void 0:l,alignItems:"center",ref:s,children:[(0,i.jsx)(F.w,{allFilters:Object.values(R),activeFilter:d,setFilters:c,isOpen:a,toggleFilterModal:l,anchorRef:s}),(0,i.jsx)(U.Text,{variant:"body3",color:"$neutral2",children:(0,i.jsx)(x.Trans,{i18nKey:"common.type.label"})})]})}),cell:e=>{var o,t;const r=String(null===(o=(t=e).getValue)||void 0===o?void 0:o.call(t)).toLowerCase()===n.address.toLowerCase();return(0,i.jsx)(N.b,{loading:L,justifyContent:"flex-start",grow:!0,children:(0,i.jsx)(z.cE,{color:r?"$statusSuccess":"$statusCritical",children:r?(0,i.jsx)(x.Trans,{i18nKey:"common.buy.label"}):(0,i.jsx)(x.Trans,{i18nKey:"common.sell.label"})})})}}),u.accessor((e=>{var o;return(null===(o=e.input.address)||void 0===o?void 0:o.toLowerCase())===n.address.toLowerCase()?e.input.amount:e.output.amount}),{id:"reference-amount",maxSize:80,header:()=>(0,i.jsx)(z.qN,{justifyContent:"flex-end",children:(0,i.jsxs)(U.Text,{variant:"body3",color:"$neutral2",children:["$",C.symbol]})}),cell:e=>{var n,o;return(0,i.jsx)(N.b,{loading:L,justifyContent:"flex-end",children:(0,i.jsx)(z.cE,{children:t({input:Math.abs(null===(n=(o=e).getValue)||void 0===n?void 0:n.call(o))||0})})})}}),u.accessor((e=>{var o;const r=(null===(o=e.input.address)||void 0===o?void 0:o.toLowerCase())===n.address.toLowerCase()?e.output:e.input;return(0,i.jsxs)("div",{className:G,children:[(0,i.jsx)(z.Dd,{maxWidth:75,children:t({input:Math.abs(r.amount)||0,type:Z.sw.TokenQuantityStats})}),(0,i.jsx)(z.Jn,{token:r.token})]})}),{id:"non-reference-amount",maxSize:160,header:()=>(0,i.jsx)(z.qN,{justifyContent:"flex-end",children:(0,i.jsx)(U.Text,{variant:"body3",color:"$neutral2",children:(0,i.jsx)(x.Trans,{i18nKey:"common.for"})})}),cell:e=>{var n,o;return(0,i.jsx)(N.b,{loading:L,justifyContent:"flex-end",children:(0,i.jsx)(z.cE,{children:null===(n=(o=e).getValue)||void 0===n?void 0:n.call(o)})})}}),u.accessor((e=>e.usdValue),{id:"fiat-value",maxSize:100,header:()=>(0,i.jsx)(z.qN,{justifyContent:"flex-end",children:(0,i.jsx)("div",{className:q,children:(0,i.jsx)(z.Hu,{children:o})})}),cell:e=>{var n,o;return(0,i.jsx)(N.b,{loading:L,justifyContent:"flex-end",children:(0,i.jsx)(z.cE,{children:r({price:null===(n=(o=e).getValue)||void 0===n?void 0:n.call(o)})})})}}),u.accessor((e=>e.makerAddress),{id:"maker-address",maxSize:130,header:()=>(0,i.jsx)(z.qN,{justifyContent:"flex-end",children:(0,i.jsx)(U.Text,{variant:"body3",color:"$neutral2",children:(0,i.jsx)(x.Trans,{i18nKey:"common.wallet.label"})})}),cell:n=>{var o,t,r,a;return(0,i.jsx)(N.b,{loading:L,justifyContent:"flex-end",children:(0,i.jsx)(z.Bq,{href:(0,Q.getExplorerLink)(e,null===(o=(t=n).getValue)||void 0===o?void 0:o.call(t),Q.ExplorerDataType.ADDRESS),children:(0,i.jsx)(z.cE,{children:(0,K.shortenAddress)(null===(r=(a=n).getValue)||void 0===r?void 0:r.call(a))})})})}})]}),[L,e,a,d,n.address,C.symbol,t,o,r]);return(0,i.jsx)(J,{children:(0,i.jsx)(A.i,{columns:P,data:k,loading:g,error:b,loadMore:h,maxHeight:600,defaultPinnedColumns:["timestamp","swap-type"],forcePinning:T.xxl})})}o(84340);var ee=o(49476);const ne=(0,O.z)(H.Flex,{width:"100%"}),oe=(0,O.z)(U.Text,{color:"$neutral1",variant:"heading3",...ee.G});function ie(){const{wrapped:e,chainId:n}=(0,h.U)().currency,[o,t]=(0,p.useState)(0);return e?(0,i.jsxs)(ne,{"data-testid":"token-details-activity-section",children:[(0,i.jsxs)(H.Flex,{row:!0,gap:"$spacing24",mb:"$spacing24",id:"activity-header",children:[(0,i.jsx)(oe,{color:0===o?"$neutral1":"$neutral2",onPress:()=>t(0),children:(0,i.jsx)(x.Trans,{i18nKey:"common.transactions"})}),(0,i.jsx)(oe,{color:1===o?"$neutral1":"$neutral2",onPress:()=>t(1),children:(0,i.jsx)(x.Trans,{i18nKey:"common.pools"})})]}),0===o&&(0,i.jsx)(X,{chainId:n,referenceToken:e}),1===o&&(0,i.jsx)(M,{chainId:n,referenceToken:e})]}):null}var te=o(10154),re=o(96296),ae=o(99695),le=o(44876),se=o(91972);const de=re.ZP.div`
  color: ${({theme:e})=>e.neutral1};
  display: flex;
  flex-direction: column;
  gap: 24px;
  height: fit-content;
  width: 100%;

  @media screen and (min-width: ${le.A.lg}px) {
    display: flex;
  }
`,ce=re.ZP.div`
  height: fit-content;
  width: 100%;
`,ue=re.ZP.div`
  align-items: center;
  display: flex;
  flex-direction: row;
  margin-top: 12px;
`,ve=re.ZP.div`
  display: flex;
  align-items: center;
`,he=re.ZP.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  margin-left: 12px;
  ${({$alignLeft:e})=>e&&"\n    justify-content: start;\n    gap: 8px;\n  "}
`,pe=({currency:e,chainId:n=se.UniverseChainId.Mainnet,gqlBalance:o,alignLeft:t=!1,onClick:r})=>{var a,l,s,d,c,u;const{formatNumber:v}=(0,Z.Gb)(),h=(0,p.useMemo)((()=>[e]),[e]),x=v({input:null===(a=o)||void 0===a?void 0:a.quantity,type:Z.sw.TokenNonTx}),m=v({input:null===(s=o)||void 0===s||null===(l=s.denominatedValue)||void 0===l?void 0:l.value,type:Z.sw.PortfolioBalance});return(0,i.jsxs)(ue,{onClick:r,children:[(0,i.jsx)(te.V,{currencies:h,chainId:n,images:[null===(u=o)||void 0===u||null===(c=u.token)||void 0===c||null===(d=c.project)||void 0===d?void 0:d.logoUrl],size:32}),(0,i.jsxs)(he,{$alignLeft:t,children:[(0,i.jsx)(ve,{children:(0,i.jsx)(ae.T.BodyPrimary,{children:m})}),(0,i.jsx)(ve,{children:(0,i.jsx)(ae.T.BodySecondary,{children:x})})]})]})},xe=({pageChainBalance:e,alignLeft:n=!1})=>{var o;if(!e||!e.token)return null;const t=(0,$.Pc)(e.token);return(0,i.jsxs)(ce,{children:[(0,i.jsx)(ae.T.HeadlineSmall,{color:"neutral1",children:(0,i.jsx)(x.Trans,{i18nKey:"tdp.balanceSummary.title"})}),(0,i.jsx)(pe,{currency:t,chainId:null===(o=t)||void 0===o?void 0:o.chainId,gqlBalance:e,alignLeft:n})]})},me=({otherChainBalances:e,hasPageChainBalance:n})=>{const o=(0,m.s0)(),{defaultChainId:t}=(0,I.useEnabledChains)();return e.length?(0,i.jsxs)(ce,{children:[n?(0,i.jsx)(ae.T.SubHeaderSmall,{children:(0,i.jsx)(x.Trans,{i18nKey:"tdp.balanceSummary.otherNetworks",children:"On other networks"})}):(0,i.jsx)(ae.T.HeadlineSmall,{children:(0,i.jsx)(x.Trans,{i18nKey:"tdp.balanceSummary.otherNetworksBalance",children:"Balance on other networks"})}),e.map((e=>{const n=e.token&&(0,$.Pc)(e.token),r=(e.token&&(0,$.Tz)(e.token.chain))??t;return(0,i.jsx)(pe,{currency:n,chainId:r,gqlBalance:e,onClick:()=>{var n,i;return o((0,$.dG)({address:null===(n=e.token)||void 0===n?void 0:n.address,chain:(null===(i=e.token)||void 0===i?void 0:i.chain)??w.Chain.Ethereum}))}},e.id)}))]}):null};function fe(){var e;const n=(0,u.m)(),{currencyChain:o,multiChainMap:t}=(0,h.U)(),r=null===(e=t[o])||void 0===e?void 0:e.balance,a=[];for(const[i,d]of Object.entries(t)){var l;i!==o&&void 0!==(null===(l=d)||void 0===l?void 0:l.balance)&&a.push(d.balance)}const s=r||Boolean(a.length);return n.isConnected&&s?(0,i.jsxs)(de,{children:[(0,i.jsx)(xe,{pageChainBalance:r}),(0,i.jsx)(me,{otherChainBalances:a,hasPageChainBalance:!!r})]}):null}var ye=o(59818),be=o(136),ge=o(73139),Ce=o(31726);const je=e=>(0,i.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"transparent",...e,children:(0,i.jsx)("path",{d:"M5.12245 9.5625C5.23495 11.8725 6.01495 14.2275 7.37245 16.32C4.19245 15.615 1.76996 12.8925 1.52246 9.5625H5.12245ZM7.37245 1.67999C4.19245 2.38499 1.76996 5.1075 1.52246 8.4375H5.12245C5.23495 6.1275 6.01495 3.77249 7.37245 1.67999ZM9.14997 1.5H8.84995L8.62496 1.82249C7.19996 3.84749 6.36745 6.1725 6.24745 8.4375H11.7525C11.6325 6.1725 10.8 3.84749 9.37496 1.82249L9.14997 1.5ZM6.24745 9.5625C6.36745 11.8275 7.19996 14.1525 8.62496 16.1775L8.84995 16.5H9.14997L9.37496 16.1775C10.8 14.1525 11.6325 11.8275 11.7525 9.5625H6.24745ZM12.8775 9.5625C12.765 11.8725 11.985 14.2275 10.6275 16.32C13.8075 15.615 16.23 12.8925 16.4775 9.5625H12.8775ZM16.4775 8.4375C16.23 5.1075 13.8075 2.38499 10.6275 1.67999C11.985 3.77249 12.765 6.1275 12.8775 8.4375H16.4775Z",fill:e.fill??"#607BEE"})});var ke=o(89667),_e=o(75596),Te=o(24547),we=o(32333),Ie=o(92717),Se=o(12296),Le=o(17041),$e=o(71949),Pe=o(55675),Be=o(44110),Ve=o(86706);const Me="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap56 ",Ee=(0,O.z)(H.Flex,{gap:"$gap16",width:"100%",$xl:{gap:24}}),Ae=(0,O.z)(H.Flex,{row:!0,gap:"$gap8",width:"100%"}),Ne=(0,O.z)(Ae,{flexWrap:"wrap"}),Fe=(0,O.z)(U.Text,{variant:"buttonLabel3",display:"flex",flexDirection:"row",alignItems:"center",gap:"$gap4",py:"$padding8",px:"$padding12",borderRadius:"$rounded20",backgroundColor:"$surface2",width:"max-content",...ee.G,color:"$neutral1"}),ze=(0,O.z)(U.Text,{variant:"body1",color:"$neutral1",maxWidth:"100%",maxHeight:"fit-content",...Be.w,whiteSpace:"pre-wrap",lineHeight:24}),Re=(0,O.z)(Ve.n,{fontWeight:"$book",variants:{visible:{true:{display:"inline"},false:{display:"none"}}}}),De=200;function Oe(){var e,n;const{t:o}=(0,x.useTranslation)(),{address:t,currency:r,tokenQuery:a}=(0,h.U)(),{neutral1:l}=(0,Le.useTheme)(),{description:s,homepageUrl:d,twitterName:c}=(null===(n=a.data)||void 0===n||null===(e=n.token)||void 0===e?void 0:e.project)??{},u=(0,Q.getExplorerLink)(r.chainId,t,r.isNative?Q.ExplorerDataType.NATIVE:Q.ExplorerDataType.TOKEN),[v,m]=(0,Ie.Z)(),f=(0,p.useCallback)((()=>{m(t)}),[t,m]),[y,b]=(0,p.useReducer)((e=>!e),!0),g=(0,_e.Nt)(s??"",De),C=!!s&&s.length>De,j=C&&y,{inputTax:k,outputTax:_}=(0,Se.j)(t,t,r.chainId),{formatPercent:T}=(0,Z.Gb)(),{sellFeeString:w,buyFeeString:I}={sellFeeString:T(k),buyFeeString:T(_)},S=Boolean(parseFloat(w))||Boolean(parseFloat(_.toFixed(2))),L=w===I;return(0,i.jsxs)(Ee,{"data-testid":"token-details-info-section",children:[(0,i.jsx)(U.Text,{variant:"heading3",children:(0,i.jsx)(x.Trans,{i18nKey:"common.info.label"})}),(0,i.jsxs)(Ne,{"data-testid":"token-details-info-links",children:[!r.isNative&&(0,i.jsx)(Te.ud,{disabled:!0,placement:"bottom",size:Te.Oz.Max,forceShow:v,text:o("common.copied"),children:(0,i.jsxs)(Fe,{onPress:f,children:[(0,i.jsx)($e.Z,{width:"18px",height:"18px",color:l}),(0,K.shortenAddress)(r.address)]})}),(0,i.jsx)(Pe.d,{href:u,children:(0,i.jsxs)(Fe,{children:[(0,i.jsx)(Ce.P,{width:"18px",height:"18px",fill:l}),r.chainId===se.UniverseChainId.Mainnet?(0,i.jsx)(x.Trans,{i18nKey:"common.etherscan"}):(0,i.jsx)(x.Trans,{i18nKey:"common.explorer"})]})}),d&&(0,i.jsx)(Pe.d,{href:d,children:(0,i.jsxs)(Fe,{children:[(0,i.jsx)(je,{width:"18px",height:"18px",fill:l}),(0,i.jsx)(x.Trans,{i18nKey:"common.website"})]})}),c&&(0,i.jsx)(Pe.d,{href:`https://x.com/${c}`,children:(0,i.jsxs)(Fe,{children:[(0,i.jsx)(ke.E,{width:"18px",height:"18px",fill:l}),(0,i.jsx)(x.Trans,{i18nKey:"common.twitter"})]})})]}),(0,i.jsxs)(ze,{children:[!s&&(0,i.jsx)(_e.aZ,{children:(0,i.jsx)(x.Trans,{i18nKey:"tdp.noInfoAvailable"})}),s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Re,{"data-testid":"token-description-full",visible:!j,children:s}),(0,i.jsx)(Re,{"data-testid":"token-description-truncated",visible:j,children:g})]}),C&&(0,i.jsx)(U.Text,{display:"flex",color:"neutral2",fontWeight:"485",variant:"body2",pt:"0.5em",$sm:{mb:"2rem"},onPress:b,...ee.G,"data-testid":"token-description-show-more-button",children:y?(0,i.jsx)(x.Trans,{i18nKey:"common.showMore.button"}):(0,i.jsx)(x.Trans,{i18nKey:"common.hide.button"})})]}),S&&(0,i.jsx)(Te.ud,{placement:"left",size:Te.Oz.Small,text:(0,i.jsx)(ae.T.Caption,{color:"neutral2",children:(0,i.jsx)(we.gE,{})}),children:(0,i.jsx)("div",{className:Me,children:L?(0,i.jsxs)(ae.T.BodyPrimary,{children:[r.symbol,"\xa0",(0,i.jsx)(x.Trans,{i18nKey:"token.fee.label"}),":\xa0",w]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(ae.T.BodyPrimary,{children:[r.symbol,"\xa0",(0,i.jsx)(x.Trans,{i18nKey:"token.fee.buy.label"}),":\xa0",I]})," ",(0,i.jsxs)(ae.T.BodyPrimary,{children:[r.symbol,"\xa0",(0,i.jsx)(x.Trans,{i18nKey:"token.fee.sell.label"}),":\xa0",w]})," "]})})})]})}o(1394);var He=o(99088),Ue=o(81656),We=o(10029),Qe=o(63445),Ke=o(88378),Ze=o.n(Ke);function qe(){return qe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},qe.apply(this,arguments)}function Ge(e,n){if(null==e)return{};var o,i,t=function(e,n){if(null==e)return{};var o,i,t={},r=Object.keys(e);for(i=0;i<r.length;i++)o=r[i],n.indexOf(o)>=0||(t[o]=e[o]);return t}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)o=r[i],n.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}var Ye=(0,p.forwardRef)((function(e,n){var o=e.color,i=void 0===o?"currentColor":o,t=e.size,r=void 0===t?24:t,a=Ge(e,["color","size"]);return p.createElement("svg",qe({ref:n,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),p.createElement("circle",{cx:"12",cy:"12",r:"1"}),p.createElement("circle",{cx:"19",cy:"12",r:"1"}),p.createElement("circle",{cx:"5",cy:"12",r:"1"}))}));Ye.propTypes={color:Ze().string,size:Ze().oneOfType([Ze().string,Ze().number])},Ye.displayName="MoreHorizontal";const Je=Ye;var Xe=o(86683),en=o(19671),nn=o(90887),on=o(19275),tn=o(92124);const rn="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap56 _alignItems-center ",an=()=>{var e,n,o,t;const{address:r,currency:a,tokenQuery:l}=(0,h.U)(),{t:s}=(0,x.useTranslation)(),d=(0,en.useSporeColors)(),c=(0,f.GS)().sm,[u,v]=(0,p.useState)(!1),m=a.symbol??s("tdp.symbolNotFound"),y=(0,Q.getExplorerLink)(a.chainId,r,a.isNative?Q.ExplorerDataType.NATIVE:Q.ExplorerDataType.TOKEN),{homepageUrl:b,twitterName:g}=(null===(n=l.data)||void 0===n||null===(e=n.token)||void 0===e?void 0:e.project)??{},C=g&&`https://x.com/${g}`,[j]=(0,Xe.useSearchParams)(),k=`${j.size>0?"&":"?"}utm_source=share-tdp&utm_medium=${c?"mobile":"web"}`,_=window.location.href+k,T=a.name&&a.symbol?`${a.name} (${a.symbol})`:(null===(o=a)||void 0===o?void 0:o.name)||(null===(t=a)||void 0===t?void 0:t.symbol)||"",[w,I]=(0,Ie.Z)(),S=(0,p.useMemo)((()=>[{title:s("common.explorer"),icon:a.chainId===se.UniverseChainId.Mainnet?(0,i.jsx)(Ce.P,{width:"18px",height:"18px",fill:d.neutral1.val}):(0,i.jsx)(He.J,{width:"18px",height:"18px",fill:d.neutral1.val}),onPress:()=>window.open(y,"_blank"),show:!!y},{title:s("common.website"),icon:(0,i.jsx)(je,{width:"18px",height:"18px",fill:d.neutral1.val}),onPress:()=>window.open(b,"_blank"),show:!!b},{title:s("common.twitter"),icon:(0,i.jsx)(ke.E,{width:"18px",height:"18px",fill:d.neutral1.val}),onPress:()=>window.open(C,"_blank"),show:!!C},{title:s(w?"common.copied":"common.copyLink.button"),icon:w?(0,i.jsx)(tn.Check,{size:16,p:1,color:d.statusSuccess.val}):(0,i.jsx)(Qe.Z,{size:18,color:d.neutral1.val}),onPress:()=>I(_),show:c},{title:s("common.share.shareToTwitter"),icon:(0,i.jsx)(Ue.m,{fill:d.neutral1.val,width:18,height:18}),onPress:()=>(0,We.D)(T),show:c}]),[s,a.chainId,d.neutral1.val,d.statusSuccess.val,y,b,C,w,c,I,_,T]);return(0,i.jsxs)(H.Flex,{row:!0,alignItems:"center",justifyContent:"space-between",width:"100%",mb:"$spacing20",$sm:{mb:"$spacing8",alignItems:"flex-start"},animation:"quick","data-testid":"token-info-container",children:[(0,i.jsxs)("div",{className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-gap1569  _alignItems-_sm_flex-start _flexDirection-_sm_column",children:[(0,i.jsx)(te.V,{currencies:[a],chainId:a.chainId,size:32}),(0,i.jsxs)("div",{className:rn,children:[(0,i.jsx)(U.Text,{variant:"heading3",minWidth:40,...Be.w,children:a.name??s("tdp.nameNotFound")}),(0,i.jsx)(U.Text,{variant:"heading3",textTransform:"uppercase",color:"$neutral2",$sm:{display:"none"},children:m})]})]}),c?(0,i.jsx)(ln,{mobileSheetOpen:u,toggleMobileSheet:v,HeaderActions:S}):(0,i.jsx)(sn,{HeaderActions:S,twitterShareName:T})]})};function ln({mobileSheetOpen:e,toggleMobileSheet:n,HeaderActions:o}){const t=(0,en.useSporeColors)();return(0,i.jsxs)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",children:[(0,i.jsx)(nn.Z,{height:32,onPress:()=>n(!0),..._e.TX,children:(0,i.jsx)(Je,{size:"$icon.20",color:t.neutral2.val})}),(0,i.jsx)(on.WebBottomSheet,{isOpen:e,onClose:()=>n(!1),children:(0,i.jsx)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-spa94665593 _mb-t-space-spa1360334076 ",children:o.map((e=>e.show&&(0,i.jsxs)("div",{onClick:()=>{n(!1),e.onPress()},className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _width-10037 _gap-t-space-spa1360334080 _pr-t-space-spa94665593 _pl-t-space-spa94665593 _pt-10px _pb-10px _alignItems-center _cursor-pointer _borderTopLeftRadius-t-radius-ro840690002 _borderTopRightRadius-t-radius-ro840690002 _borderBottomRightRadius-t-radius-ro840690002 _borderBottomLeftRadius-t-radius-ro840690002 _backgroundColor-0hover-surface3 ",children:[e.icon,(0,i.jsx)(U.Text,{variant:"body2",children:e.title})]},e.title)))})})]})}function sn({HeaderActions:e,twitterShareName:n}){return(0,i.jsxs)("div",{className:rn,children:[e.map((e=>e.show&&(0,i.jsx)(Te.ud,{text:e.title,placement:"top",size:Te.Oz.Max,children:(0,i.jsx)(U.Text,{onPress:e.onPress,..._e.TX,children:e.icon})},e.title))),(0,i.jsx)(We.Z,{name:n,utmSource:"share-tdp"})]})}o(92751);var dn=o(22085),cn=o(26276),un=o(50281),vn=o(58426),hn=o(6267),pn=o(81849),xn=o(36532),mn=o(27754),fn=o(88974),yn=o(25090),bn=o(18753),gn=o(23907),Cn=o(19601),jn=o(94539),kn=o(21020),_n=o(55278);var Tn=o(90418);const wn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",In=" _display-none",Sn=" _display-flex",Ln=" _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column  ",$n="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _mt-t-space-spa1360333989 ",Pn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1569 ",Bn=(0,re.ZP)(_e.Hr)`
  margin-top: 40px;
  margin-bottom: 40px;
  @media screen and (max-width: ${({theme:e})=>e.breakpoint.md}px) {
    opacity: 0;
    margin-bottom: 0;
  }
`;function Vn(){const{address:e,currency:n,currencyChain:o}=(0,h.U)();return(0,i.jsxs)(r.zG,{"aria-label":"breadcrumb-nav",children:[(0,i.jsxs)(r.yY,{to:`/explore/${o.toLowerCase()}`,children:[(0,i.jsx)(x.Trans,{i18nKey:"common.explore"})," ",(0,i.jsx)(vn.Z,{size:14})]}),(0,i.jsxs)(r.yY,{to:`/explore/tokens/${o.toLowerCase()}`,children:[(0,i.jsx)(x.Trans,{i18nKey:"common.tokens"})," ",(0,i.jsx)(vn.Z,{size:14})]}),(0,i.jsx)(r.f3,{address:e,currency:n})]})}function Mn(e){return e?e.isToken?e.address:c.d:""}function En(){const{address:e,currency:n,currencyChainId:o,tokenColor:t}=(0,h.U)(),r=(0,m.s0)(),a=(0,bn.useCurrencyInfo)((0,gn.currencyId)(n)),l=(0,p.useCallback)(((n,i)=>{var t,a;const l=Mn(n.inputCurrency),s=Mn(n.outputCurrency),d=(0,Cn.K)(l,e)&&(null===(t=n.inputCurrency)||void 0===t?void 0:t.chainId)===o,c=(0,Cn.K)(s,e)&&(null===(a=n.outputCurrency)||void 0===a?void 0:a.chainId)===o;if(d||c||i)return;const u=n.outputCurrency??n.inputCurrency;if(!u)return;const v=function(e,n,o){const i=(0,se.isUniverseChainId)(n)?(0,_n.getChainInfo)(n).assetRepoNetworkName??"ethereum":"ethereum",t=(0,K.isAddress)(e);return n&&(0,kn.isCelo)(n)&&e===(0,kn.nativeOnChain)(n).wrapped.address?jn.CELO_LOGO:t?`https://raw.githubusercontent.com/Uniswap/assets/master/blockchains/${i}/assets/${t}/logo.png`:o??void 0}(u.wrapped.address,u.chainId),h=(0,$.dG)({address:u.isNative?null:u.address,chain:(0,S.toGraphQLChain)((0,se.isUniverseChainId)(u.chainId)?u.chainId:o),inputAddress:n.inputCurrency&&n.inputCurrency!==u?l:null});r(h,{state:{preloadedLogoSrc:v}})}),[e,o,r]),s=function(){const{currency:e}=(0,h.U)(),{useParsedQueryString:n}=(0,xn.useUrlContext)(),o=n(),i=(0,p.useMemo)((()=>"string"===typeof o.inputCurrency?o.inputCurrency:e.isNative?void 0:(0,pn.getNativeAddress)(e.chainId)),[e.chainId,e.isNative,o.inputCurrency]);return(0,dn.U8)(i,e.chainId)}(),d=(0,gn.areCurrenciesEqual)(s,n),[c,u]=(0,p.useState)(!1),v=(0,p.useCallback)((()=>u(!1)),[]);return(0,i.jsxs)("div",{className:Pn,children:[(0,i.jsx)(un.H,{syncTabToUrl:!1,chainId:n.chainId,initialInputCurrency:s,initialOutputCurrency:d?void 0:n,onCurrencyChange:l,tokenColor:t}),(0,i.jsx)(fn.TokenWarningCard,{currencyInfo:a,onPress:()=>u(!0)}),a&&(0,i.jsx)(yn.default,{currencyInfo0:a,isInfoOnlyWarning:!0,isVisible:c,closeModalOnly:v,onAcknowledge:v})]})}function An({children:e}){const{address:n,currency:o}=(0,h.U)();return(0,i.jsx)(mn.default,{logImpression:!0,page:t.yJ.TOKEN_DETAILS_PAGE,properties:{tokenAddress:n,tokenSymbol:o.symbol,tokenName:o.name,chainId:o.chainId},children:e})}function Nn(){var e,n;const{address:o,currency:t,tokenQuery:r,currencyChain:l,multiChainMap:s}=(0,h.U)(),d=null===(e=r.data)||void 0===e?void 0:e.token,c=null===(n=s[l])||void 0===n?void 0:n.balance,u=!(0,f.GS)().xl,{direction:v}=(0,cn.v)(),p=(0,hn.Y)();return(0,i.jsx)(An,{children:(0,i.jsxs)(be.Gy,{children:[(0,i.jsxs)(be.WQ,{children:[(0,i.jsx)(Vn,{}),(0,i.jsx)(an,{}),(0,i.jsx)(ye.ZP,{}),!u&&!!c&&(0,i.jsx)("div",{className:$n,children:(0,i.jsx)(xe,{pageChainBalance:c,alignLeft:!0})}),(0,i.jsx)(ge.ZP,{chainId:t.chainId,address:o,tokenQueryData:d}),(0,i.jsx)(Bn,{}),(0,i.jsx)(ie,{})]}),(0,i.jsxs)(be.QN,{children:[(0,i.jsxs)("div",{className:(0,Tn.Ej)(""+(Ln+(u?Sn:In))),children:[(0,i.jsx)(En,{}),(0,i.jsx)(fe,{})]}),(0,i.jsx)(Oe,{})]}),(0,i.jsx)(a.t,{hide:p&&v===cn.I.DOWN,children:(0,i.jsx)("div",{"data-testid":"tdp-mobile-bottom-bar",className:wn,children:(0,i.jsx)(C,{})})})]})})}o(20011);var Fn=o(66630),zn=o(76),Rn=o(76995);function Dn(e,n,o){var i,t;const r=null===(i=n)||void 0===i?void 0:i.name,a=null===(t=n)||void 0===t?void 0:t.symbol,l=e("common.buyAndSell");if(!r&&!a)return l;const s=o&&o!==se.UniverseChainId.Mainnet?` on ${(0,S.getChainLabel)(o)}`:"";return!r&&a?`${a}${s}: ${l}`:r&&!a?`${r}${s}: ${l}`:`${r} (${a})${s}: ${l}`}const On=(e,n)=>{var o,i,t,r,a,l;return`Buy, sell, and swap ${(null===(o=e)||void 0===o?void 0:o.name)&&(null===(i=e)||void 0===i?void 0:i.symbol)?`${null===(t=e)||void 0===t?void 0:t.name} (${null===(r=e)||void 0===r?void 0:r.symbol})`:(null===(a=e)||void 0===a?void 0:a.name)??(null===(l=e)||void 0===l?void 0:l.symbol)??"tokens"}${n&&n!==se.UniverseChainId.Mainnet?` on ${(0,S.getChainLabel)(n)}`:""}. Real-time prices, charts, transaction data, and more.`};var Hn=o(82943),Un=o(41284);var Wn=o(19359),Qn=o(31230),Kn=o(47481);function Zn(e,n,o,i){var t;const{chainId:r}=(0,u.m)(),a=r??se.UniverseChainId.Mainnet,l=(0,p.useMemo)((()=>{var n;return i?(0,kn.nativeOnChain)(o):(null===(n=e.data)||void 0===n?void 0:n.token)?(0,$.Pc)(e.data.token):void 0}),[i,o,null===(t=e.data)||void 0===t?void 0:t.token]),s=Boolean(l)||o!==a,d=function(e,n,o){var i;const t=(0,dn.U8)(o?void 0:e,n);return o||!e||t&&(null===(i=t)||void 0===i?void 0:i.symbol)===c.e?void 0:t}(n,o,s);return{currency:l??d,currencyWasFetchedOnChain:!l}}function qn(){var e,n,o,i,t,r,a,l;const{tokenAddress:s}=(0,m.UO)();if(!s)throw new Error("Invalid token details route: token address URL param is undefined");const d=(0,_n.getChainInfo)((0,Qn._4)()??se.UniverseChainId.Mainnet),u=s===c.d,v=u?(0,Kn.P)(d.backendChain.chain):s,h=(0,w.useTokenWebQuery)({variables:{address:v,chain:d.backendChain.chain},errorPolicy:"all"}),x=(0,ye.Gn)(v,d.backendChain.chain),f=function(e){var n,o,i,t;const{data:r}=(0,Fn.vv)();return(0,p.useMemo)((()=>{var n,o,i,t,a,l;const s=null===(i=r)||void 0===i||null===(o=i.portfolios)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.tokenBalances,d=null===(l=e.data)||void 0===l||null===(a=l.token)||void 0===a||null===(t=a.project)||void 0===t?void 0:t.tokens;return d?d.reduce(((e,n)=>{if(n){var o;e[n.chain]||(e[n.chain]={});const i=e[n.chain]??{};i.address=n.address,i.balance=null===(o=s)||void 0===o?void 0:o.find((e=>{var o,i;return(null===(i=e)||void 0===i||null===(o=i.token)||void 0===o?void 0:o.id)===n.id})),e[n.chain]=i}return e}),{}):{}}),[null===(n=r)||void 0===n?void 0:n.portfolios,null===(t=e.data)||void 0===t||null===(i=t.token)||void 0===i||null===(o=i.project)||void 0===o?void 0:o.tokens])}(h),{currency:y,currencyWasFetchedOnChain:b}=Zn(h,s,d.id,u),g=(0,en.useSporeColors)(),{preloadedLogoSrc:C}=(0,m.TH)().state??{},j=(null===(o=h.data)||void 0===o||null===(n=o.token)||void 0===n||null===(e=n.project)||void 0===e?void 0:e.logoUrl)??C,k=(0,zn.H)(j,(null===(t=h.data)||void 0===t||null===(i=t.token)||void 0===i?void 0:i.name)??(null===(l=h.data)||void 0===l||null===(a=l.token)||void 0===a||null===(r=a.project)||void 0===r?void 0:r.name),g.surface2.val).tokenColor??void 0;return(0,p.useMemo)((()=>{var e,n;return{currency:y,currencyChain:d.backendChain.chain,currencyChainId:d.id,address:((null===(e=y)||void 0===e?void 0:e.isNative)?c.d:null===(n=y)||void 0===n?void 0:n.address)??s,currencyWasFetchedOnChain:b,tokenQuery:h,chartState:x,multiChainMap:f,tokenColor:k}}),[y,d.backendChain.chain,d.id,s,b,h,x,f,k])}function Gn(){var e,n,o;const{t:t}=(0,x.useTranslation)(),r=qn(),{address:a,currency:l,currencyChain:s,currencyChainId:d,tokenQuery:c}=r,u=(0,m.s0)(),v=null===(e=c.data)||void 0===e?void 0:e.token,f=(0,p.useMemo)((()=>{var e,n,o,i,t;return{title:(i=null===(e=v)||void 0===e?void 0:e.symbol,t=null===(n=v)||void 0===n?void 0:n.name,i?"Get "+i+" on Aborean":t?"Get "+t+" on Aborean":"View Token on Aborean"),image:window.location.origin+"/api/image/tokens/"+s.toLowerCase()+"/"+((null===(o=l)||void 0===o?void 0:o.isNative)?(0,Kn.P)(s):a),url:window.location.href,description:On(l,d)}}),[a,l,s,d,null===(n=v)||void 0===n?void 0:n.name,null===(o=v)||void 0===o?void 0:o.symbol]),y=(0,Hn.X)(f);return(0,p.useEffect)((()=>{c.loading||l||u(`/explore?type=${Rn.g.Tokens}&result=${Wn.ModalName.NotFound}`)}),[l,c.loading,u]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(Un.Helmet,{children:[(0,i.jsx)("title",{children:Dn(t,l,d)}),y.map(((e,n)=>(0,i.jsx)("meta",{...e},n)))]}),c.loading||!l?(0,i.jsx)(be.lJ,{}):(0,i.jsx)(h.A,{contextValue:r,children:(0,i.jsx)(Nn,{})})]})}}}]);
//# sourceMappingURL=2501.3c1dde0a.chunk.js.map