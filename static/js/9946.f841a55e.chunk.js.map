{"version":3,"file":"static/js/9946.f841a55e.chunk.js","mappings":"gJAAO,MCADA,EAAQC,GAAKA,EAAIC,SAAS,IAAIC,SAAS,EAAE,KAAwIC,EAAkB,IAAI,oBAAoBC,OAAlKC,KAAM,MAAMC,EAAI,IAAIC,YAAYF,GAAK,IAAI,GAAG,OAAOD,OAAOI,OAAOC,gBAAgBH,GAAKI,MAAMC,KAAKL,EAAIP,GAASa,KAAK,KAAsDC,CAAW,KAAI,IAAKC,MAAMC,UAAUd,SAAS,ICAlM,MAAMe,GCAlF,IAAIC,EAAwnBC,EDAxhBF,EAAiBG,YAAY,CAACC,EAAOC,KAAS,CAAEC,GAAGnB,IAAoBiB,OAAOA,EAAOC,OAAOA,EAAOE,IAAI,CAACC,WFApL,WEAkNR,EAAiBS,aAAa,CAACH,EAAGI,EAAKC,KAAU,CAAEL,GAAGA,EAAGM,SAAQ,EAAGD,QAAQA,EAAQD,KAAKA,IAAOV,EAAiBa,kBAAkB,CAACP,EAAGQ,EAAMH,KAAU,CAAEL,GAAGA,EAAGM,SAAQ,EAAGE,MAAMA,EAAMH,QAAQA,ICA3Z,SAASV,GAASA,EAAQc,iBAAiB,mBAAmBd,EAAQe,QAAQ,UAAUf,EAAQgB,aAAa,eAAehB,EAAQiB,YAAY,cAAcjB,EAAQkB,kBAAkB,oBAAoBlB,EAAQmB,gBAAgB,kBAAkBnB,EAAQoB,YAAY,cAAcpB,EAAQqB,iBAAiB,mBAAmBrB,EAAQsB,mBAAmB,qBAAqBtB,EAAQuB,qBAAqB,uBAAuBvB,EAAQwB,mBAAmB,qBAAqBxB,EAAQyB,sBAAsB,wBAAwBzB,EAAQ0B,0BAA0B,2BAA2B,CAA3kB,CAA6kB1B,IAAUA,EAAQ,CAAC,IAAkC,SAASC,GAAmBA,EAAkBuB,mBAAmB,oBAAoB,CAArF,CAAuFvB,IAAoBA,EAAkB,CAAC,ICAyzB,QAAzhD,MAA8B,WAAA0B,CAAYC,EAAe,KAAKC,GAAU,GAAIC,KAAKF,eAAe,KAAKE,KAAKC,UAAU,IAAIC,IAAIF,KAAKD,WAAU,EAAGC,KAAKG,SAAS,oBAAoB9C,OAAO2C,KAAKI,eAAe,EAAEC,OAAOA,EAAO1B,KAAKA,EAAK2B,OAAOA,MAAW,MAAMC,GAAkB5B,EAAK6B,GAAkBR,KAAKG,UAAUG,IAASjD,OAAOoD,OAAOC,OAAmB,IAAS/B,EAAKC,SAAS+B,SAAShC,EAAKC,QAAQgC,MAAM,KAAK,IAAIC,EAAkB,iBAAiBH,GAAoBA,GAAoB,EAAE,IAAII,GAAY,EAAG,OAAOnD,MAAMoD,QAAQf,KAAKF,kBAAkBgB,OAAY,IAASd,KAAKF,eAAekB,MAAMC,GAAQA,EAAOC,KAAKb,OAAYE,GAAkBC,GAAkBK,GAAmBC,GAAad,KAAKmB,mBAAmBC,IAAMC,QAAQC,KAAK,wDAAwDF,EAAIf,WAAWe,EAAIzC,OAAOqB,KAAKuB,gBAAgBH,IAAMpB,KAAKI,eAAegB,KAAOpB,KAAKD,WAAWC,KAAKmB,mBAAmBC,GAAKpB,KAAKwB,sBAAsBJ,EAAIzC,QAAQqB,KAAKwB,sBAAsBC,IAAU,MAAMlD,GAAGA,GAAIkD,EAAQC,EAAG1B,KAAKC,UAAU0B,IAAIpD,GAAImD,IAAKA,EAAGD,GAASzB,KAAKC,UAAU2B,OAAOrD,KAAMyB,KAAK6B,KAAK,CAACxD,EAAOC,KAAU,MAAMwD,EAAQ7D,EAAiBG,YAAYC,EAAOC,GAAQ,GAAG0B,KAAKG,SAAS,MAAM,IAAI4B,MAAM,wBAAwB,OAAO1E,OAAOoD,OAAOuB,YAAYF,EAAQ,KAAK,IAAIG,SAAQ,CAAEC,EAAQC,KAAUnC,KAAKC,UAAUmC,IAAIN,EAAQvD,IAAI8D,IAAWA,EAASxD,QAAQqD,EAAQG,GAAUF,EAAO,IAAIJ,MAAMM,EAAStD,OAAQ,GAAG,KAAIiB,KAAKF,eAAeA,EAAeE,KAAKD,UAAUA,EAAUC,KAAKG,UAAU9C,OAAOiF,iBAAiB,UAAUtC,KAAKuB,gBAAgB,GCA9jDgB,EAAwBC,GAAK,iBAAiBA,GAAK,MAAMA,GAAK,WAAWA,GAAK,UAAUA,GAAK,YAAYA,E,SCAd,MAAMC,EAAI,WAAA5C,CAAY6C,GAAc1C,KAAK0C,aAAaA,CAAY,CAAC,qBAAMC,CAAgBC,GAAY,IAAIA,EAAW,MAAM,IAAIb,MAAM,sBAAsB,aAAa/B,KAAK0C,aAAab,KAAK3D,EAAQkB,kBAAkB,CAACwD,WAAWA,KAAcjE,IAAI,CAAC,iBAAMW,CAAYuD,GAAS,MAAMC,EAAe,CAACD,QAAQA,GAAS,aAAa7C,KAAK0C,aAAab,KAAK3D,EAAQoB,YAAYwD,IAAiBnE,IAAI,CAAC,sBAAMY,CAAiBwD,GAAW,IAAIR,EAAwBQ,GAAW,MAAM,IAAIhB,MAAM,sBAAsB,aAAa/B,KAAK0C,aAAab,KAAK3D,EAAQqB,iBAAiB,CAACwD,UAAUA,KAAapE,IAAI,CAAC,UAAMkD,EAAMmB,IAAIA,EAAI1E,OAAOA,IAAS,IAAI0E,IAAMA,EAAIC,OAAO,MAAM,IAAIlB,MAAM,+BAA+B,MAAMe,EAAe,CAACE,IAAIA,EAAI1E,OAAOA,GAAQ,aAAa0B,KAAK0C,aAAab,KAAK3D,EAAQc,iBAAiB8D,IAAiBnE,IAAI,ECAx5B,MAAMuE,EAAoB,WAApBA,EAA4C,eAA5CA,EAAuE,cAAvEA,EAAoG,iBAApGA,EAAiI,cAAjIA,EAAkK,qBAAlKA,EAA4M,uBAA5MA,EAAoP,mBAApPA,EAAgS,2BAAhSA,EAAqV,4BAArVA,EAAyY,0BAAzYA,EAAmb,kBAAnbA,EAAsd,mBCAjYC,EAAgB,CAACC,kBAAkB,CAACC,EAAI,WAAWA,EAAIC,wBAAwB,CAACD,GAAI,IAAKA,EAAIE,iBAAiBF,GAAKG,OAAOC,UAAUJ,GAAK,KAAKA,EAAInG,SAAS,MAAMmG,GAAK,MAAMK,EAAI,WAAA7D,CAAY6C,GAAc1C,KAAK0C,aAAaA,EAAa1C,KAAK2D,KAAK3D,KAAK4D,aAAa,CAACD,KAAKT,EAAmBW,WAAW,CAAC,KAAKV,EAAgBC,qBAAqBpD,KAAK8D,WAAW9D,KAAK4D,aAAa,CAACD,KAAKT,EAAyBW,WAAW,CAAC,KAAKV,EAAgBC,qBAAqBpD,KAAK+D,QAAQ/D,KAAK4D,aAAa,CAACD,KAAKT,EAAsBW,WAAW,CAAC,KAAKV,EAAgBC,qBAAqBpD,KAAKgE,aAAahE,KAAK4D,aAAa,CAACD,KAAKT,EAA2BW,WAAW,CAAC,KAAKV,EAAgBI,iBAAiBJ,EAAgBC,qBAAqBpD,KAAKiE,YAAYjE,KAAK4D,aAAa,CAACD,KAAKT,IAAwBlD,KAAKkE,eAAelE,KAAK4D,aAAa,CAACD,KAAKT,EAA6BW,WAAW,CAAC,KAAKV,EAAgBG,2BAA2BtD,KAAKmE,iBAAiBnE,KAAK4D,aAAa,CAACD,KAAKT,EAA+BW,WAAW,CAACV,EAAgBI,iBAAiBJ,EAAgBG,2BAA2BtD,KAAKoE,qBAAqBpE,KAAK4D,aAAa,CAACD,KAAKT,IAAqClD,KAAKqE,sBAAsBrE,KAAK4D,aAAa,CAACD,KAAKT,IAAsClD,KAAKsE,oBAAoBtE,KAAK4D,aAAa,CAACD,KAAKT,EAAkCW,WAAW,CAAC,KAAKV,EAAgBC,qBAAqBpD,KAAKuE,YAAYvE,KAAK4D,aAAa,CAACD,KAAKT,IAAyBlD,KAAKwE,eAAeC,GAAazE,KAAK4D,aAAa,CAACD,KAAKT,GAAxBlD,CAAoD,CAACyE,IAAczE,KAAK0E,gBAAgB1E,KAAK4D,aAAa,CAACD,KAAKT,GAA4B,CAAC,YAAAU,CAAae,GAAM,MAAMhB,KAAKA,EAAKE,WAAWA,GAAYc,EAAK,OAAOC,UAAef,GAAYlG,MAAMoD,QAAQzC,IAASuF,EAAWgB,SAAQ,CAAEC,EAAUC,KAAKD,IAAYxG,EAAOyG,GAAGD,EAAUxG,EAAOyG,IAAK,IAAG,MAAMtD,EAAQ,CAACkC,KAAKA,EAAKrF,OAAOA,GAAQ,IAAI,aAAa0B,KAAK0C,aAAab,KAAK3D,EAAQe,QAAQwC,IAAU9C,KAAK,E,oCCAxgE,MCAaqG,EAA6B,KAAY,MAAMC,UAAyBlD,MAAM,WAAAlC,CAAYgD,EAAQqC,EAAKvG,GAAMwG,MAAMtC,GAAS7C,KAAKkF,KAAKA,EAAKlF,KAAKrB,KAAKA,EAAKyG,OAAOC,eAAerF,KAAKiF,EAAiBK,UAAU,ECAvE,MAAMC,EAAO,WAAA1F,CAAY6C,GAAc1C,KAAK0C,aAAaA,CAAY,CAAC,oBAAM8C,GAAiB,aAAaxF,KAAK0C,aAAab,KAAK3D,EAAQyB,2BAAsB,IAAShB,IAAI,CAAC,wBAAM8G,CAAmBC,GAAa,IAAI1F,KAAK2F,yBAAyBD,GAAa,MAAM,IAAIT,EAAiB,iCAAiCD,GAA8B,IAAI,aAAahF,KAAK0C,aAAab,KAAK3D,EAAQ0B,0BAA0B8F,IAAc/G,IAAI,CAAC,MAAM,MAAM,IAAIsG,EAAiB,uBAAuBD,EAA6B,CAAC,CAAC,wBAAAW,CAAyBD,GAAa,OAAOA,EAAYE,OAAOC,GAAI,iBAAiBA,GAAIT,OAAOU,KAAKD,GAAID,OAAOvH,KAAU+G,OAAOW,OAAO5H,GAAmB6H,SAAS3H,MAAW,ECA3tB,MAAM4H,EAAc,CAACC,EAASR,IAAcA,EAAYS,MAAMC,GAAYA,EAAWC,mBAAmBH,IAAwhB,EAA3f,IAAI,CAACI,EAAEC,EAAYC,KAAc,MAAMC,EAAeD,EAAWE,MAAM,OAAOF,EAAWE,MAAM9B,iBAAiB,MAAM+B,EAAO,IAAIpB,EAAOvF,KAAK0C,cAAc,IAAIkE,QAAyBD,EAAOnB,iBAAiB,GAAGS,EAAcM,EAAYK,KAAsBA,QAAyBD,EAAOlB,mBAAmB,CAAC,CAAC,CAACc,GAAa,CAAC,OAAON,EAAcM,EAAYK,GAAoB,MAAM,IAAI3B,EAAiB,uBAAuBD,GAA8B,OAAOyB,EAAeI,MAAM7G,KAAK,EAAEwG,GCA9uB,IAAIM,EAAkC,SAASC,EAAWC,EAAOC,EAAIC,GAAM,IAAIC,EAAEC,EAAEC,UAAUpE,OAAOqE,EAAEF,EAAE,EAAEJ,EAAO,OAAOE,EAAKA,EAAK9B,OAAOmC,yBAAyBP,EAAOC,GAAKC,EAAK,GAAG,iBAAiBM,SAAS,mBAAmBA,QAAQC,SAASH,EAAEE,QAAQC,SAASV,EAAWC,EAAOC,EAAIC,QAAW,IAAI,IAAInC,EAAEgC,EAAW9D,OAAO,EAAE8B,GAAG,EAAEA,KAAKoC,EAAEJ,EAAWhC,MAAMuC,GAAGF,EAAE,EAAED,EAAEG,GAAGF,EAAE,EAAED,EAAEH,EAAOC,EAAIK,GAAGH,EAAEH,EAAOC,KAAOK,GAAG,OAAOF,EAAE,GAAGE,GAAGlC,OAAOsC,eAAeV,EAAOC,EAAIK,GAAGA,CAAC,EAAkV,MAAMK,EAAK,WAAA9H,CAAY6C,GAAc1C,KAAK0C,aAAaA,CAAY,CAAC,kBAAMxD,GAAe,aAAac,KAAK0C,aAAab,KAAK3D,EAAQgB,kBAAa,IAASP,IAAI,CAAC,aAAMiJ,GAAU,aAAa5H,KAAK0C,aAAab,KAAK3D,EAAQiB,iBAAY,IAASR,IAAI,CAAC,8BAAMkJ,EAA0BC,SAASA,EAAS,OAAO,CAAC,GAAG,aAAa9H,KAAK0C,aAAab,KAAK3D,EAAQmB,gBAAgB,CAACyI,SAASA,KAAYnJ,IAAI,CAAC,wBAAMoJ,CAAmBC,EAAYC,EAAU,MAAM,MAAMC,QAAelI,KAAK4H,UAAUO,GAA4B,EAAAC,EAAA,GAAmB,CAACC,IAAI,CAAC,CAACC,UAAS,EAAGC,OAAO,CAAC,CAACC,KAAK,YAAYC,KAAK,WAAW,CAACD,KAAK,aAAaC,KAAK,UAAUD,KAAK,mBAAmBE,QAAQ,CAAC,CAACF,KAAK,GAAGC,KAAK,WAAWE,SAAQ,EAAGC,gBAAgB,aAAaH,KAAK,aAAaI,aAAa,mBAAmBlE,KAAK,CAACqD,EAAYC,KAAaxG,EAAQ,CAACkC,KAAKT,EAAmB5E,OAAO,CAAC,CAACwK,GAAGZ,EAASa,YAAYpK,KAAKwJ,GAA6B,WAAW,IAAI,MJAjqD,sBIA8qDnI,KAAK0C,aAAab,KAAK3D,EAAQe,QAAQwC,IAAU9C,KAAKqK,MAAM,EAAE,IAAIC,aAA2B,CAAC,MAAMC,GAAK,OAAM,CAAE,CAAC,CAAC,6BAAMC,CAAwBnB,EAAYC,EAAU,MAAM,MAAMC,QAAelI,KAAK4H,UAAUO,GAA4B,EAAAC,EAAA,GAAmB,CAACC,IAAI,CAAC,CAACC,UAAS,EAAGC,OAAO,CAAC,CAACC,KAAK,QAAQC,KAAK,SAAS,CAACD,KAAK,aAAaC,KAAK,UAAUD,KAAK,mBAAmBE,QAAQ,CAAC,CAACF,KAAK,GAAGC,KAAK,WAAWE,SAAQ,EAAGC,gBAAgB,aAAaH,KAAK,aAAaI,aAAa,mBAAmBlE,KAAK,CAACqD,EAAYC,KAAaxG,EAAQ,CAACkC,KAAKT,EAAmB5E,OAAO,CAAC,CAACwK,GAAGZ,EAASa,YAAYpK,KAAKwJ,GAA6B,WAAW,IAAI,MJA9wE,sBIA2xEnI,KAAK0C,aAAab,KAAK3D,EAAQe,QAAQwC,IAAU9C,KAAKqK,MAAM,EAAE,IAAIC,aAAiC,CAAC,MAAMC,GAAK,OAAM,CAAE,CAAC,CAAC,oBAAAE,CAAqBvG,GAAS,OAAO,EAAAwG,EAAA,GAAYxG,EAAQ,CAAC,yBAAAyG,CAA0BC,GAAc,MAAMC,EAAQ,iBAAiBD,EAAaE,OAAOD,QAAQD,EAAaE,OAAOD,QAAQE,WAAWlG,OAAO+F,EAAaE,OAAOD,SAAS,IAAIG,EAAYJ,EAAaI,YAAY,IAAIA,EAAY,CAAC,MAAMC,EAAOxE,OAAOW,OAAOwD,EAAaM,OAAOC,EAAa1E,OAAOU,KAAKyD,EAAaM,OAAOE,QAAQC,GAAUJ,EAAOhE,OAAOqE,GAAWA,EAAUrE,OAAM,EAAG6C,KAAKA,KAAQA,EAAKyB,QAAQ,IAAI,IAAIA,QAAQ,IAAI,MAAMF,QAAe,GAAG,IAAIF,EAAa7G,QAAQ6G,EAAa7G,OAAO,EAAE,MAAM,IAAIlB,MAAM,8BAA8B4H,EAAYG,EAAa,EAAE,CAAC,OAAO,EAAAK,EAAA,IAAc,CAACtH,QAAQ0G,EAAa1G,QAAQ4G,OAAO,IAAIF,EAAaE,OAAOD,QAAQA,EAAQY,kBAAkBb,EAAaE,OAAOW,kBAAkBC,KAAKd,EAAaE,OAAOY,MAAMR,MAAMN,EAAaM,MAAMF,YAAYA,GAAa,CAAC,0BAAMlK,CAAqBuI,GAAa,aAAahI,KAAK0C,aAAab,KAAK3D,EAAQuB,qBAAqBuI,IAAcrJ,IAAI,CAAC,qBAAM2L,CAAgBzH,EAAQoF,EAAU,MAAM,IAAIsC,EAAM,GAAG,iBAAiB1H,IAAU0H,EAAM3F,UAAU,MAAMoD,EAAYhI,KAAKoJ,qBAAqBvG,GAAS,aAAa7C,KAAKwK,oBAAoBxC,EAAYC,KAAa1F,EAAwBM,KAAW0H,EAAM3F,UAAU,MAAMoD,EAAYhI,KAAKsJ,0BAA0BzG,GAAS,aAAa7C,KAAKwK,oBAAoBxC,EAAYC,KAAasC,EAAO,aAAaA,IAAQ,MAAM,IAAIxI,MAAM,uBAAuB,CAAC,yBAAMyI,CAAoBxC,EAAYC,EAAU,MAAM,MAAMwC,EAAO,CAACzK,KAAK+H,mBAAmB2C,KAAK1K,MAAMA,KAAKmJ,wBAAwBuB,KAAK1K,OAAO,IAAI,MAAMuK,KAASE,EAAQ,SAASF,EAAMvC,EAAYC,GAAW,OAAM,EAAG,OAAM,CAAE,CAAC,wBAAMzI,GAAqB,aAAaQ,KAAK0C,aAAab,KAAK3D,EAAQsB,wBAAmB,IAASb,IAAI,CAAC,wBAAMe,GAAqB,aAAaM,KAAK0C,aAAab,KAAK3D,EAAQwB,wBAAmB,IAASf,IAAI,EAAEmI,EAAW,CAAC,KAAqBa,EAAKrC,UAAU,qBAAqB,MCAv2H,MCA1e,EDA0K,MAAkB,WAAAzF,CAAY8K,EAAK,CAAC,GAAG,MAAMC,eAAeA,EAAe,KAAKC,MAAMA,GAAM,GAAIF,EAAK3K,KAAK0C,aAAa,IAAI,EAAsBkI,EAAeC,GAAO7K,KAAK8K,IAAI,IAAIpH,EAAI1D,KAAK0C,cAAc1C,KAAKgD,IAAI,IAAIP,EAAIzC,KAAK0C,cAAc1C,KAAK+K,KAAK,IAAIpD,EAAK3H,KAAK0C,cAAc1C,KAAK2G,OAAO,IAAIpB,EAAOvF,KAAK0C,aAAa,E","sources":["../node_modules/@safe-global/safe-apps-sdk/dist/esm/version.js","../node_modules/@safe-global/safe-apps-sdk/dist/esm/communication/utils.js","../node_modules/@safe-global/safe-apps-sdk/dist/esm/communication/messageFormatter.js","../node_modules/@safe-global/safe-apps-sdk/dist/esm/communication/methods.js","../node_modules/@safe-global/safe-apps-sdk/dist/esm/communication/index.js","../node_modules/@safe-global/safe-apps-sdk/dist/esm/types/sdk.js","../node_modules/@safe-global/safe-apps-sdk/dist/esm/txs/index.js","../node_modules/@safe-global/safe-apps-sdk/dist/esm/eth/constants.js","../node_modules/@safe-global/safe-apps-sdk/dist/esm/eth/index.js","../node_modules/@safe-global/safe-apps-sdk/dist/esm/safe/signatures.js","../node_modules/@safe-global/safe-apps-sdk/dist/esm/types/permissions.js","../node_modules/@safe-global/safe-apps-sdk/dist/esm/wallet/index.js","../node_modules/@safe-global/safe-apps-sdk/dist/esm/decorators/requirePermissions.js","../node_modules/@safe-global/safe-apps-sdk/dist/esm/safe/index.js","../node_modules/@safe-global/safe-apps-sdk/dist/esm/sdk.js","../node_modules/@safe-global/safe-apps-sdk/dist/esm/index.js"],"sourcesContent":["export const getSDKVersion=()=>\"9.1.0\";","const dec2hex=dec=>dec.toString(16).padStart(2,\"0\"),generateId=len=>{const arr=new Uint8Array((len||40)/2);return window.crypto.getRandomValues(arr),Array.from(arr,dec2hex).join(\"\")},generateRequestId=()=>\"undefined\"!=typeof window?generateId(10):(new Date).getTime().toString(36);export{generateRequestId};","import{getSDKVersion}from\"../version.js\";import{generateRequestId}from\"./utils.js\";class MessageFormatter{}MessageFormatter.makeRequest=(method,params)=>({id:generateRequestId(),method:method,params:params,env:{sdkVersion:getSDKVersion()}}),MessageFormatter.makeResponse=(id,data,version)=>({id:id,success:!0,version:version,data:data}),MessageFormatter.makeErrorResponse=(id,error,version)=>({id:id,success:!1,error:error,version:version});export{MessageFormatter};","export var Methods;!function(Methods){Methods.sendTransactions=\"sendTransactions\",Methods.rpcCall=\"rpcCall\",Methods.getChainInfo=\"getChainInfo\",Methods.getSafeInfo=\"getSafeInfo\",Methods.getTxBySafeTxHash=\"getTxBySafeTxHash\",Methods.getSafeBalances=\"getSafeBalances\",Methods.signMessage=\"signMessage\",Methods.signTypedMessage=\"signTypedMessage\",Methods.getEnvironmentInfo=\"getEnvironmentInfo\",Methods.getOffChainSignature=\"getOffChainSignature\",Methods.requestAddressBook=\"requestAddressBook\",Methods.wallet_getPermissions=\"wallet_getPermissions\",Methods.wallet_requestPermissions=\"wallet_requestPermissions\"}(Methods||(Methods={}));export var RestrictedMethods;!function(RestrictedMethods){RestrictedMethods.requestAddressBook=\"requestAddressBook\"}(RestrictedMethods||(RestrictedMethods={}));","import{MessageFormatter}from\"./messageFormatter.js\";class PostMessageCommunicator{constructor(allowedOrigins=null,debugMode=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer=\"undefined\"==typeof window,this.isValidMessage=({origin:origin,data:data,source:source})=>{const emptyOrMalformed=!data,sentFromParentEl=!this.isServer&&source===window.parent,majorVersionNumber=void 0!==data.version&&parseInt(data.version.split(\".\")[0]),allowedSDKVersion=\"number\"==typeof majorVersionNumber&&majorVersionNumber>=1;let validOrigin=!0;return Array.isArray(this.allowedOrigins)&&(validOrigin=void 0!==this.allowedOrigins.find((regExp=>regExp.test(origin)))),!emptyOrMalformed&&sentFromParentEl&&allowedSDKVersion&&validOrigin},this.logIncomingMessage=msg=>{console.info(`Safe Apps SDK v1: A message was received from origin ${msg.origin}. `,msg.data)},this.onParentMessage=msg=>{this.isValidMessage(msg)&&(this.debugMode&&this.logIncomingMessage(msg),this.handleIncomingMessage(msg.data))},this.handleIncomingMessage=payload=>{const{id:id}=payload,cb=this.callbacks.get(id);cb&&(cb(payload),this.callbacks.delete(id))},this.send=(method,params)=>{const request=MessageFormatter.makeRequest(method,params);if(this.isServer)throw new Error(\"Window doesn't exist\");return window.parent.postMessage(request,\"*\"),new Promise(((resolve,reject)=>{this.callbacks.set(request.id,(response=>{response.success?resolve(response):reject(new Error(response.error))}))}))},this.allowedOrigins=allowedOrigins,this.debugMode=debugMode,this.isServer||window.addEventListener(\"message\",this.onParentMessage)}}export default PostMessageCommunicator;export*from\"./methods.js\";","export const isObjectEIP712TypedData=obj=>\"object\"==typeof obj&&null!=obj&&\"domain\"in obj&&\"types\"in obj&&\"message\"in obj;","import{Methods}from\"../communication/methods.js\";import{isObjectEIP712TypedData}from\"../types/index.js\";class TXs{constructor(communicator){this.communicator=communicator}async getBySafeTxHash(safeTxHash){if(!safeTxHash)throw new Error(\"Invalid safeTxHash\");return(await this.communicator.send(Methods.getTxBySafeTxHash,{safeTxHash:safeTxHash})).data}async signMessage(message){const messagePayload={message:message};return(await this.communicator.send(Methods.signMessage,messagePayload)).data}async signTypedMessage(typedData){if(!isObjectEIP712TypedData(typedData))throw new Error(\"Invalid typed data\");return(await this.communicator.send(Methods.signTypedMessage,{typedData:typedData})).data}async send({txs:txs,params:params}){if(!txs||!txs.length)throw new Error(\"No transactions were passed\");const messagePayload={txs:txs,params:params};return(await this.communicator.send(Methods.sendTransactions,messagePayload)).data}}export{TXs};","export const RPC_CALLS={eth_call:\"eth_call\",eth_gasPrice:\"eth_gasPrice\",eth_getLogs:\"eth_getLogs\",eth_getBalance:\"eth_getBalance\",eth_getCode:\"eth_getCode\",eth_getBlockByHash:\"eth_getBlockByHash\",eth_getBlockByNumber:\"eth_getBlockByNumber\",eth_getStorageAt:\"eth_getStorageAt\",eth_getTransactionByHash:\"eth_getTransactionByHash\",eth_getTransactionReceipt:\"eth_getTransactionReceipt\",eth_getTransactionCount:\"eth_getTransactionCount\",eth_estimateGas:\"eth_estimateGas\",safe_setSettings:\"safe_setSettings\"};","import{RPC_CALLS}from\"../eth/constants.js\";import{Methods}from\"../communication/methods.js\";const inputFormatters={defaultBlockParam:(arg=\"latest\")=>arg,returnFullTxObjectParam:(arg=!1)=>arg,blockNumberToHex:arg=>Number.isInteger(arg)?`0x${arg.toString(16)}`:arg};class Eth{constructor(communicator){this.communicator=communicator,this.call=this.buildRequest({call:RPC_CALLS.eth_call,formatters:[null,inputFormatters.defaultBlockParam]}),this.getBalance=this.buildRequest({call:RPC_CALLS.eth_getBalance,formatters:[null,inputFormatters.defaultBlockParam]}),this.getCode=this.buildRequest({call:RPC_CALLS.eth_getCode,formatters:[null,inputFormatters.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:RPC_CALLS.eth_getStorageAt,formatters:[null,inputFormatters.blockNumberToHex,inputFormatters.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:RPC_CALLS.eth_getBlockByHash,formatters:[null,inputFormatters.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:RPC_CALLS.eth_getBlockByNumber,formatters:[inputFormatters.blockNumberToHex,inputFormatters.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:RPC_CALLS.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:RPC_CALLS.eth_getTransactionCount,formatters:[null,inputFormatters.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:RPC_CALLS.eth_gasPrice}),this.getEstimateGas=transaction=>this.buildRequest({call:RPC_CALLS.eth_estimateGas})([transaction]),this.setSafeSettings=this.buildRequest({call:RPC_CALLS.safe_setSettings})}buildRequest(args){const{call:call,formatters:formatters}=args;return async params=>{formatters&&Array.isArray(params)&&formatters.forEach(((formatter,i)=>{formatter&&(params[i]=formatter(params[i]))}));const payload={call:call,params:params||[]};return(await this.communicator.send(Methods.rpcCall,payload)).data}}}export{Eth};","const MAGIC_VALUE=\"0x1626ba7e\",MAGIC_VALUE_BYTES=\"0x20c13b0b\";export{MAGIC_VALUE,MAGIC_VALUE_BYTES};","export const PERMISSIONS_REQUEST_REJECTED=4001;export class PermissionsError extends Error{constructor(message,code,data){super(message),this.code=code,this.data=data,Object.setPrototypeOf(this,PermissionsError.prototype)}}","import{Methods,RestrictedMethods}from\"../communication/methods.js\";import{PermissionsError,PERMISSIONS_REQUEST_REJECTED}from\"../types/permissions.js\";class Wallet{constructor(communicator){this.communicator=communicator}async getPermissions(){return(await this.communicator.send(Methods.wallet_getPermissions,void 0)).data}async requestPermissions(permissions){if(!this.isPermissionRequestValid(permissions))throw new PermissionsError(\"Permissions request is invalid\",PERMISSIONS_REQUEST_REJECTED);try{return(await this.communicator.send(Methods.wallet_requestPermissions,permissions)).data}catch{throw new PermissionsError(\"Permissions rejected\",PERMISSIONS_REQUEST_REJECTED)}}isPermissionRequestValid(permissions){return permissions.every((pr=>\"object\"==typeof pr&&Object.keys(pr).every((method=>!!Object.values(RestrictedMethods).includes(method)))))}}export{Wallet};","import{Wallet}from\"../wallet/index.js\";import{PermissionsError,PERMISSIONS_REQUEST_REJECTED}from\"../types/permissions.js\";const hasPermission=(required,permissions)=>permissions.some((permission=>permission.parentCapability===required)),requirePermission=()=>(_,propertyKey,descriptor)=>{const originalMethod=descriptor.value;return descriptor.value=async function(){const wallet=new Wallet(this.communicator);let currentPermissions=await wallet.getPermissions();if(hasPermission(propertyKey,currentPermissions)||(currentPermissions=await wallet.requestPermissions([{[propertyKey]:{}}])),!hasPermission(propertyKey,currentPermissions))throw new PermissionsError(\"Permissions rejected\",PERMISSIONS_REQUEST_REJECTED);return originalMethod.apply(this)},descriptor};export default requirePermission;","var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};import{encodeFunctionData,hashMessage,hashTypedData}from\"viem\";import{MAGIC_VALUE_BYTES,MAGIC_VALUE}from\"./signatures.js\";import{Methods}from\"../communication/methods.js\";import{RPC_CALLS}from\"../eth/constants.js\";import{isObjectEIP712TypedData}from\"../types/index.js\";import requirePermission from\"../decorators/requirePermissions.js\";class Safe{constructor(communicator){this.communicator=communicator}async getChainInfo(){return(await this.communicator.send(Methods.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(Methods.getSafeInfo,void 0)).data}async experimental_getBalances({currency:currency=\"usd\"}={}){return(await this.communicator.send(Methods.getSafeBalances,{currency:currency})).data}async check1271Signature(messageHash,signature=\"0x\"){const safeInfo=await this.getInfo(),encodedIsValidSignatureCall=encodeFunctionData({abi:[{constant:!1,inputs:[{name:\"_dataHash\",type:\"bytes32\"},{name:\"_signature\",type:\"bytes\"}],name:\"isValidSignature\",outputs:[{name:\"\",type:\"bytes4\"}],payable:!1,stateMutability:\"nonpayable\",type:\"function\"}],functionName:\"isValidSignature\",args:[messageHash,signature]}),payload={call:RPC_CALLS.eth_call,params:[{to:safeInfo.safeAddress,data:encodedIsValidSignatureCall},\"latest\"]};try{return(await this.communicator.send(Methods.rpcCall,payload)).data.slice(0,10).toLowerCase()===MAGIC_VALUE}catch(err){return!1}}async check1271SignatureBytes(messageHash,signature=\"0x\"){const safeInfo=await this.getInfo(),encodedIsValidSignatureCall=encodeFunctionData({abi:[{constant:!1,inputs:[{name:\"_data\",type:\"bytes\"},{name:\"_signature\",type:\"bytes\"}],name:\"isValidSignature\",outputs:[{name:\"\",type:\"bytes4\"}],payable:!1,stateMutability:\"nonpayable\",type:\"function\"}],functionName:\"isValidSignature\",args:[messageHash,signature]}),payload={call:RPC_CALLS.eth_call,params:[{to:safeInfo.safeAddress,data:encodedIsValidSignatureCall},\"latest\"]};try{return(await this.communicator.send(Methods.rpcCall,payload)).data.slice(0,10).toLowerCase()===MAGIC_VALUE_BYTES}catch(err){return!1}}calculateMessageHash(message){return hashMessage(message)}calculateTypedMessageHash(typedMessage){const chainId=\"object\"==typeof typedMessage.domain.chainId?typedMessage.domain.chainId.toNumber():Number(typedMessage.domain.chainId);let primaryType=typedMessage.primaryType;if(!primaryType){const fields=Object.values(typedMessage.types),primaryTypes=Object.keys(typedMessage.types).filter((typeName=>fields.every((dataTypes=>dataTypes.every((({type:type})=>type.replace(\"[\",\"\").replace(\"]\",\"\")!==typeName))))));if(0===primaryTypes.length||primaryTypes.length>1)throw new Error(\"Please specify primaryType\");primaryType=primaryTypes[0]}return hashTypedData({message:typedMessage.message,domain:{...typedMessage.domain,chainId:chainId,verifyingContract:typedMessage.domain.verifyingContract,salt:typedMessage.domain.salt},types:typedMessage.types,primaryType:primaryType})}async getOffChainSignature(messageHash){return(await this.communicator.send(Methods.getOffChainSignature,messageHash)).data}async isMessageSigned(message,signature=\"0x\"){let check;if(\"string\"==typeof message&&(check=async()=>{const messageHash=this.calculateMessageHash(message);return await this.isMessageHashSigned(messageHash,signature)}),isObjectEIP712TypedData(message)&&(check=async()=>{const messageHash=this.calculateTypedMessageHash(message);return await this.isMessageHashSigned(messageHash,signature)}),check){return await check()}throw new Error(\"Invalid message type\")}async isMessageHashSigned(messageHash,signature=\"0x\"){const checks=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const check of checks){if(await check(messageHash,signature))return!0}return!1}async getEnvironmentInfo(){return(await this.communicator.send(Methods.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(Methods.requestAddressBook,void 0)).data}}__decorate([requirePermission()],Safe.prototype,\"requestAddressBook\",null);export{Safe};","import InterfaceCommunicator from\"./communication/index.js\";import{TXs}from\"./txs/index.js\";import{Eth}from\"./eth/index.js\";import{Safe}from\"./safe/index.js\";import{Wallet}from\"./wallet/index.js\";class SafeAppsSDK{constructor(opts={}){const{allowedDomains:allowedDomains=null,debug:debug=!1}=opts;this.communicator=new InterfaceCommunicator(allowedDomains,debug),this.eth=new Eth(this.communicator),this.txs=new TXs(this.communicator),this.safe=new Safe(this.communicator),this.wallet=new Wallet(this.communicator)}}export default SafeAppsSDK;","import SDK from\"./sdk.js\";export default SDK;export*from\"./sdk.js\";export*from\"./types/index.js\";export*from\"./communication/methods.js\";export*from\"./communication/messageFormatter.js\";export{getSDKVersion}from\"./version.js\";export*from\"./eth/constants.js\";"],"names":["dec2hex","dec","toString","padStart","generateRequestId","window","len","arr","Uint8Array","crypto","getRandomValues","Array","from","join","generateId","Date","getTime","MessageFormatter","Methods","RestrictedMethods","makeRequest","method","params","id","env","sdkVersion","makeResponse","data","version","success","makeErrorResponse","error","sendTransactions","rpcCall","getChainInfo","getSafeInfo","getTxBySafeTxHash","getSafeBalances","signMessage","signTypedMessage","getEnvironmentInfo","getOffChainSignature","requestAddressBook","wallet_getPermissions","wallet_requestPermissions","constructor","allowedOrigins","debugMode","this","callbacks","Map","isServer","isValidMessage","origin","source","emptyOrMalformed","sentFromParentEl","parent","majorVersionNumber","parseInt","split","allowedSDKVersion","validOrigin","isArray","find","regExp","test","logIncomingMessage","msg","console","info","onParentMessage","handleIncomingMessage","payload","cb","get","delete","send","request","Error","postMessage","Promise","resolve","reject","set","response","addEventListener","isObjectEIP712TypedData","obj","TXs","communicator","getBySafeTxHash","safeTxHash","message","messagePayload","typedData","txs","length","RPC_CALLS","inputFormatters","defaultBlockParam","arg","returnFullTxObjectParam","blockNumberToHex","Number","isInteger","Eth","call","buildRequest","formatters","getBalance","getCode","getStorageAt","getPastLogs","getBlockByHash","getBlockByNumber","getTransactionByHash","getTransactionReceipt","getTransactionCount","getGasPrice","getEstimateGas","transaction","setSafeSettings","args","async","forEach","formatter","i","PERMISSIONS_REQUEST_REJECTED","PermissionsError","code","super","Object","setPrototypeOf","prototype","Wallet","getPermissions","requestPermissions","permissions","isPermissionRequestValid","every","pr","keys","values","includes","hasPermission","required","some","permission","parentCapability","_","propertyKey","descriptor","originalMethod","value","wallet","currentPermissions","apply","__decorate","decorators","target","key","desc","d","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Safe","getInfo","experimental_getBalances","currency","check1271Signature","messageHash","signature","safeInfo","encodedIsValidSignatureCall","encodeFunctionData","abi","constant","inputs","name","type","outputs","payable","stateMutability","functionName","to","safeAddress","slice","toLowerCase","err","check1271SignatureBytes","calculateMessageHash","hashMessage","calculateTypedMessageHash","typedMessage","chainId","domain","toNumber","primaryType","fields","types","primaryTypes","filter","typeName","dataTypes","replace","hashTypedData","verifyingContract","salt","isMessageSigned","check","isMessageHashSigned","checks","bind","opts","allowedDomains","debug","eth","safe"],"sourceRoot":""}