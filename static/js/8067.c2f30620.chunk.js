(self.webpackChunk_uniswap_interface=self.webpackChunk_uniswap_interface||[]).push([[8067],{27281:(e,i,t)=>{var r=t(4638);i.F=function(e){var i=e.params,t=e.headers,r=(0,n.default)(e,d),u=[c.ReactQueryCacheKey.TradingApi,s.uniswapUrls.tradingApiPaths.lpApproval,i];return(0,a.useQuery)(Object.assign({queryKey:u,queryFn:function(){var e=(0,o.default)((function*(){if(!i)throw{name:"Params are required"};return yield(0,l.checkLpApproval)(i,t)}));return function(){return e.apply(this,arguments)}}()},r))};var o=r(t(79283)),n=r(t(70692)),a=t(78225),s=t(68016),l=t(72310),c=t(3009),d=["params","headers"]},85048:(e,i,t)=>{var r=t(4638);i.E=function(e){var i=e.params,t=e.deadlineInMinutes,r=(0,n.default)(e,u),p=[d.ReactQueryCacheKey.TradingApi,s.uniswapUrls.tradingApiPaths.decreaseLp,i],x=(0,c.getTradeSettingsDeadline)(t),v=Object.assign({},i,{deadline:x});return(0,a.useQuery)(Object.assign({queryKey:p,queryFn:function(){var e=(0,o.default)((function*(){if(!i)throw{name:"Params are required"};return yield(0,l.decreaseLpPosition)(v)}));return function(){return e.apply(this,arguments)}}()},r))};var o=r(t(79283)),n=r(t(70692)),a=t(78225),s=t(68016),l=t(72310),c=t(10982),d=t(3009),u=["params","deadlineInMinutes"]},6957:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>r});const r={}},94412:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>r});const r={}},69393:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>r});const r={}},40330:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>r});const r={}},44470:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>r});const r={}},97032:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>r});const r={}},32292:(e,i,t)=>{"use strict";t.d(i,{C:()=>a});var r=t(97755),o=t(52964),n=t(20868);const[a,s]=(0,n.I)({name:"RotateLeft",getIcon:e=>(0,r.jsx)(o.ny,{viewBox:"0 0 16 16",fill:"none",...e,children:(0,r.jsx)(o.y$,{d:"M14.6667 8C14.6667 11.676 11.676 14.6667 8.00004 14.6667C5.45204 14.6667 3.16399 13.248 2.02999 10.9634C1.86599 10.6334 2.00077 10.2333 2.33077 10.07C2.65944 9.90532 3.06067 10.0413 3.224 10.3706C4.13133 12.1986 5.96137 13.334 8.00004 13.334C10.9407 13.334 13.3334 10.9413 13.3334 8.00065C13.3334 5.05998 10.9407 2.66732 8.00004 2.66732C6.07537 2.66732 4.33143 3.71065 3.39343 5.33398H5.33337C5.70204 5.33398 6.00004 5.63265 6.00004 6.00065C6.00004 6.36865 5.70204 6.66732 5.33337 6.66732H2.00004C1.63137 6.66732 1.33337 6.36865 1.33337 6.00065V2.66732C1.33337 2.29932 1.63137 2.00065 2.00004 2.00065C2.36871 2.00065 2.66671 2.29932 2.66671 2.66732V4.00602C3.90204 2.35736 5.86471 1.33398 8.00004 1.33398C11.676 1.33332 14.6667 4.324 14.6667 8Z",fill:"currentColor"})})})},19087:(e,i,t)=>{"use strict";t.d(i,{p:()=>y});var r=t(97755),o=t(82663),n=t(49476),a=t(59793),s=t(90887),l=t(72591),c=t(32292),d=t(90418);const u="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap52 ",p="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexDirection-column _alignItems-flex-start _flexWrap-wrap _flexShrink-1 _gap-t-space-gap52 ",x=" _backgroundColor-statusCriti3045924",v=" _backgroundColor-statusWarni108953",m=" _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _pt-t-space-pad1331704929 _pr-t-space-pad1331704929 _pb-t-space-pad1331704929 _pl-t-space-pad1331704929 _borderTopLeftRadius-t-radius-ro291586453 _borderTopRightRadius-t-radius-ro291586453 _borderBottomRightRadius-t-radius-ro291586453 _borderBottomLeftRadius-t-radius-ro291586453 _alignSelf-flex-start  ",_="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-spa1360334080 _backgroundColor-surface2 _borderTopLeftRadius-t-radius-ro291586449 _borderTopRightRadius-t-radius-ro291586449 _borderBottomRightRadius-t-radius-ro291586449 _borderBottomLeftRadius-t-radius-ro291586449 _pt-t-space-pad1331704929 _pr-t-space-pad1331704929 _pb-t-space-pad1331704929 _pl-t-space-pad1331704929 ";function y({errorMessage:e,description:i,title:t,isWarning:y=!1,action:h,pressIcon:f=(0,r.jsx)(c.C,{size:"$icon.16",color:"$neutral1"}),onPress:g}){const{t:b}=(0,o.useTranslation)();return e?(0,r.jsxs)("div",{className:_,children:[(0,r.jsx)("div",{className:(0,d.Ej)(""+(m+(y?v:x))),children:(0,r.jsx)(l.AlertTriangleFilled,{color:y?"$statusWarning":"$statusCritical",size:"$icon.20"})}),(0,r.jsxs)("div",{className:p,children:[(0,r.jsx)(a.Text,{color:y?"$statusWarning":"$statusCritical",variant:"body3",children:t||b("common.card.error.description")}),(0,r.jsx)(a.Text,{variant:"body3",color:"$neutral2",children:i||b("pool.liquidity.data.error.message")}),!0!==e&&(0,r.jsxs)(a.Text,{variant:"body3",color:"$neutral3",children:[b("common.error.label"),": ",e]}),Boolean(g)&&(0,r.jsx)(s.Z,{...n.G,onPress:g,mt:"$spacing2",children:(0,r.jsxs)("div",{className:u,children:[f,(0,r.jsx)(a.Text,{variant:"buttonLabel3",children:h||b("common.button.tryAgain")})]})})]})]}):null}t(69393)},34483:(e,i,t)=>{"use strict";t.d(i,{V:()=>m});var r=t(97755),o=t(47072),n=t(22085),a=t(82663),s=t(59793),l=t(63691),c=t(87065),d=t(89099),u=t(81886),p=t(61463);const x="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap52 _alignItems-center ",v="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _pr-t-space-pad1331704925 _pl-t-space-pad1331704925 _gap-t-space-gap56 ";function m({currency0Amount:e,currency1Amount:i,networkCost:t}){var m,_;const{formatCurrencyAmount:y}=(0,u.useLocalizationContext)(),h=(0,n.J3)(null===(m=e)||void 0===m?void 0:m.currency),f=(0,n.J3)(null===(_=i)||void 0===_?void 0:_.currency);return(0,r.jsxs)("div",{className:v,children:[(0,r.jsx)(o.O,{LineItem:{Label:()=>{var i;return(0,r.jsx)(s.Text,{variant:"body3",color:"$neutral2",children:(0,r.jsx)(a.Trans,{i18nKey:"pool.specificPosition",values:{symbol:null===(i=e)||void 0===i?void 0:i.currency.symbol}})})},Value:()=>{var i;return(0,r.jsxs)("div",{className:x,children:[(0,r.jsx)(c.CurrencyLogo,{currencyInfo:h,size:l._.icon16}),(0,r.jsxs)(s.Text,{variant:"body3",color:"$neutral1",children:[y({value:e,type:p.NumberType.TokenNonTx})," ",null===(i=e)||void 0===i?void 0:i.currency.symbol]})]})}}}),(0,r.jsx)(o.O,{LineItem:{Label:()=>{var e;return(0,r.jsx)(s.Text,{variant:"body3",color:"$neutral2",children:(0,r.jsx)(a.Trans,{i18nKey:"pool.specificPosition",values:{symbol:null===(e=i)||void 0===e?void 0:e.currency.symbol}})})},Value:()=>{var e;return(0,r.jsxs)("div",{className:x,children:[(0,r.jsx)(c.CurrencyLogo,{currencyInfo:f,size:l._.icon16}),(0,r.jsxs)(s.Text,{variant:"body3",color:"$neutral1",children:[y({value:i,type:p.NumberType.TokenNonTx})," ",null===(e=i)||void 0===e?void 0:e.currency.symbol]})]})}}}),Boolean(t)&&!!e&&(0,r.jsx)(o.O,{LineItem:{Label:()=>(0,r.jsx)(s.Text,{variant:"body3",color:"$neutral2",children:(0,r.jsx)(a.Trans,{i18nKey:"common.networkCost"})}),Value:()=>(0,r.jsxs)("div",{className:x,children:[(0,r.jsx)(d.NetworkLogo,{chainId:e.currency.chainId,size:l._.icon16,shape:"square"}),(0,r.jsx)(s.Text,{variant:"body3",color:"$neutral1",children:y({value:t,type:p.NumberType.FiatGasPrice})})]})}})]})}t(94412)},88906:(e,i,t)=>{"use strict";t.d(i,{w:()=>m});var r=t(97755),o=t(20128),n=t(82663),a=t(19275),s=t(90887),l=t(59793),c=t(85193),d=t(36847),u=t(1305),p=t(68127);const x="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _position-absolute _top-0 _right-0 _pt-t-space-spa94665589 _pr-t-space-spa94665589 _pb-t-space-spa94665589 _pl-t-space-spa94665589 ",v="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-space-betwe3241 _alignItems-center _gap-t-space-spa94665589 _width-10037 ";function m({title:e,closeModal:i,goBack:t}){const{t:m}=(0,n.useTranslation)(),_=(0,o.useMemo)((()=>(0,r.jsx)(a.ModalCloseIcon,{testId:"LiquidityModalHeader-close",onClose:i})),[i]);return(0,r.jsxs)("div",{className:v,children:[t?(0,r.jsx)(s.Z,{onPress:t,children:(0,r.jsx)(c.BackArrow,{color:"$neutral1",size:"$icon.24"})}):_,(0,r.jsx)(l.Text,{variant:"body2",flexGrow:1,textAlign:"center",pr:24,children:e}),t?(0,r.jsx)("div",{className:x,children:_}):(0,r.jsx)(d.SwapFormSettings,{adjustTopAlignment:!1,settings:[p.Slippage,u.o],defaultTitle:m("pool.positions.transaction.settings")})]})}t(97032)},24476:(e,i,t)=>{"use strict";t.d(i,{s:()=>v});var r=t(97755),o=t(16467),n=t(88963),a=t(10795),s=t(59793),l=t(63691),c=t(81886),d=t(90327),u=t(61463);const p="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _flexGrow-1 ",x="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center ";function v({currencyAmount:e,currencyUSDAmount:i,isMigrating:t=!1}){var v,m,_;const{formatCurrencyAmount:y}=(0,c.useLocalizationContext)(),h=t?(0,a.Ct)(null===(v=e)||void 0===v?void 0:v.currency,o.Qe.V4):null===(m=e)||void 0===m?void 0:m.currency;return(0,r.jsxs)("div",{className:x,children:[(0,r.jsxs)("div",{className:p,children:[(0,r.jsxs)(s.Text,{variant:"heading2",children:[y({value:e,type:u.NumberType.TokenNonTx})," ",(0,d.getSymbolDisplayText)(null===(_=h)||void 0===_?void 0:_.symbol)]}),(0,r.jsx)(s.Text,{variant:"body3",color:"$neutral2",children:y({value:i,type:u.NumberType.FiatStandard})})]}),(0,r.jsx)(n.Z,{currency:h,size:l._.icon36})]})}t(40330)},86733:(e,i,t)=>{"use strict";t.d(i,{Y:()=>u});var r=t(97755),o=t(87382),n=t(34979),a=t(20128),s=t(17041),l=t(87584);const c=(0,a.forwardRef)((({value:e,onUserInput:i,placeholder:t,testId:n,maxDecimals:a=2,...s},c)=>{const d=`^\\d*(\\.\\d{0,${a}})?$`,u="^\\d*$",p=RegExp(d),x=RegExp(u),v=(0,l.useCurrentLocale)(),m=(e=>{const[i,t]=(0,o.Cb)(v)?[/\./g,","]:[/,/g,"."];return e.toString().replace(i,t)})(e);return(0,r.jsx)(o.Fy,{minLength:1,maxLength:a+2,...s,ref:c,value:m,"data-testid":n,onChange:e=>{(e=>{const t=e.replace(/,/g,".");(""===t||(a<=0?x:p).test(t))&&i(t)})(e.target.value)},inputMode:"numeric",autoComplete:"off",autoCorrect:"off",type:"text",pattern:a<=0?u:d,placeholder:t||"0",spellCheck:"false"})}));c.displayName="Input";const d=a.memo(c),u=(0,s.default)(d).withConfig({displayName:"PercentInput__StyledPercentInput",componentId:"sc-61c0c1e2-0"})`
  max-height: 84px;
  max-width: 100%;
  width: ${({$width:e})=>`${e??43}px`}; // this value is from the size of a 0 which is the default value
  ${n.Wm}

  ::placeholder {
    opacity: 1;
  }
`},62019:(e,i,t)=>{"use strict";t.d(i,{F:()=>a});var r=t(16467),o=t(52718),n=t(98195);function a(e,i,t){var a,s;const l=(0,n.useDynamicConfigValue)(o.DynamicConfigs.LPConfig,o.LPConfigKey.DefaultSlippage,2.5),c=(0,n.useDynamicConfigValue)(o.DynamicConfigs.LPConfig,o.LPConfigKey.V4SlippageOverride,.05),d=(null===(a=i)||void 0===a?void 0:a.isNative)||(null===(s=t)||void 0===s?void 0:s.isNative);return e===r.Qe.V4&&d?c:l}},36309:(e,i,t)=>{"use strict";t.r(i),t.d(i,{RemoveLiquidityModal:()=>Oe});var r=t(97755),o=t(88906),n=t(52435),a=t(20128),s=(e=>(e[e.Input=0]="Input",e[e.Review=1]="Review",e))(s||{});const l=(0,a.createContext)({step:0,setStep:()=>null,percent:"",setPercent:()=>null,percentInvalid:!0,unwrapNativeCurrency:!0,setUnwrapNativeCurrency:()=>null,currentTransactionStep:void 0,setCurrentTransactionStep:()=>null});function c({children:e}){const[i,t]=(0,a.useState)(0),[o,s]=(0,a.useState)(!0),[c,d]=(0,a.useState)(""),[u,p]=(0,a.useState)(),x=(0,n.i4)(),v="0"===c||""===c||!c,m=(0,a.useMemo)((()=>({percent:c,setPercent:d,step:i,setStep:t,positionInfo:x,percentInvalid:v,unwrapNativeCurrency:o,setUnwrapNativeCurrency:s,currentTransactionStep:u,setCurrentTransactionStep:p})),[c,i,x,v,o,s,u]);return(0,r.jsx)(l.Provider,{value:m,children:e})}function d(){const e=(0,a.useContext)(l);if(void 0===e)throw new Error("`useRemoveLiquidityTxContext` must be used inside of `RemoveLiquidityTxContextProvider`");return e}var u=t(16467),p=t(85752),x=t(24476),v=t(28912),m=t(48426),_=t(59553),y=t(29422),h=t.n(y),f=t(10795),g=t(27281),b=t(85048),T=t(22323),S=t(88919),j=t(68915),C=t(46433),w=t(66789),k=t(58146),I=t(70850),A=t(96881),L=t(46832),N=t(13052);var R=t(39770),q=t(41611),D=t(98195),B=t(88495),$=t(93312),z=t(96807);const P=(0,a.createContext)(void 0);function V({children:e}){var i,t,o,s;const l=(0,R.useAccountMeta)(),{positionInfo:c,percent:x,unwrapNativeCurrency:v}=d(),y=function({account:e}){var i,t,r,o,s,l,c,p,x,v,y,R,q,D,B,$;const{positionInfo:z,percent:P,percentInvalid:V,unwrapNativeCurrency:W,currentTransactionStep:F}=d(),{customDeadline:M,customSlippageTolerance:U}=(0,I.useTransactionSettingsContext)(),[H,E]=(0,a.useState)(!1),O=(0,f.Q2)({currency:null===(i=z)||void 0===i?void 0:i.currency0Amount.currency,shouldUnwrap:W&&(null===(t=z)||void 0===t?void 0:t.version)!==u.Qe.V4}),Q=(0,f.Q2)({currency:null===(r=z)||void 0===r?void 0:r.currency1Amount.currency,shouldUnwrap:W&&(null===(o=z)||void 0===o?void 0:o.version)!==u.Qe.V4}),K=(0,a.useMemo)((()=>{if(z&&z.liquidityToken&&!V&&z.liquidityAmount)return{protocol:T.ProtocolItems.V2,walletAddress:e,chainId:z.liquidityToken.chainId,positionToken:z.liquidityToken.address,positionAmount:z.liquidityAmount.multiply(h().BigInt(P)).divide(h().BigInt(100)).quotient.toString()}}),[z,P,e,V]),{data:G,isLoading:Z,error:J,refetch:Y}=(0,g.F)({params:K,staleTime:5*N.ONE_SECOND_MS,enabled:Boolean(K)});J&&L.logger.info("RemoveLiquidityTxAndGasInfo","RemoveLiquidityTxAndGasInfo",(0,k.parseErrorMessageTitle)(J,{defaultTitle:"unkown CheckLpApprovalQuery"}),{error:JSON.stringify(J),v2LpTokenApprovalQueryParams:JSON.stringify(K)});const X=(0,j.useUSDCurrencyAmountOfGasFee)(null===(l=z)||void 0===l||null===(s=l.liquidityToken)||void 0===s?void 0:s.chainId,null===(c=G)||void 0===c?void 0:c.gasFeePositionTokenApproval)??void 0,ee=Boolean(G),{feeValue0:ie,feeValue1:te}=(0,n.rZ)(z),re=(0,a.useMemo)((()=>{var i,t,r,o,n,a;const s=(0,m.WF)(null===(i=z)||void 0===i?void 0:i.version);if(z&&s&&e&&!V&&O&&Q)return{simulateTransaction:!ee,protocol:s,tokenId:z.tokenId?Number(z.tokenId):void 0,chainId:z.currency0Amount.currency.chainId,walletAddress:e,liquidityPercentageToDecrease:Number(P),liquidity0:z.version===u.Qe.V2?z.currency0Amount.quotient.toString():void 0,liquidity1:z.version===u.Qe.V2?z.currency1Amount.quotient.toString():void 0,positionLiquidity:z.version===u.Qe.V2?null===(t=z.liquidityAmount)||void 0===t?void 0:t.quotient.toString():z.liquidity,expectedTokenOwed0RawAmount:z.version!==u.Qe.V4?null===(r=ie)||void 0===r?void 0:r.quotient.toString():void 0,expectedTokenOwed1RawAmount:z.version!==u.Qe.V4?null===(o=te)||void 0===o?void 0:o.quotient.toString():void 0,position:{tickLower:z.tickLower?Number(z.tickLower):void 0,tickUpper:z.tickUpper?Number(z.tickUpper):void 0,pool:{token0:O.isNative?_.r_:O.address,token1:Q.isNative?_.r_:Q.address,fee:z.feeTier?Number(z.feeTier):void 0,tickSpacing:(null===(n=z)||void 0===n?void 0:n.tickSpacing)?Number(null===(a=z)||void 0===a?void 0:a.tickSpacing):void 0,hooks:z.v4hook}},slippageTolerance:U}}),[z,e,V,O,Q,ee,P,null===(p=ie)||void 0===p?void 0:p.quotient,null===(x=te)||void 0===x?void 0:x.quotient,U]),oe=(null===(v=F)||void 0===v?void 0:v.step.type)===A.TransactionStepType.DecreasePositionTransaction,{data:ne,isLoading:ae,error:se,refetch:le}=(0,b.E)({params:re,deadlineInMinutes:M,refetchInterval:!H&&5*N.ONE_SECOND_MS,retry:!1,enabled:!oe&&!!re&&(!V&&!K||!Z&&!J&&Boolean(G))});if((0,a.useEffect)((()=>{E(!!se)}),[se,re]),se){const e=(0,k.parseErrorMessageTitle)(se,{defaultTitle:"DecreaseLpPositionCalldataQuery"});L.logger.error(e,{tags:{file:"RemoveLiquidityTxAndGasInfo",function:"useEffect"}}),(0,w.sendAnalyticsEvent)(C.InterfaceEventNameLocal.DecreaseLiquidityFailed,{message:e})}const{value:ce}=(0,j.useTransactionGasFee)(null===(y=ne)||void 0===y?void 0:y.decrease,!!(null===(R=ne)||void 0===R?void 0:R.gasFee)),de=(0,j.useUSDCurrencyAmountOfGasFee)((0,S.toSupportedChainId)(null===(D=ne)||void 0===D||null===(q=D.decrease)||void 0===q?void 0:q.chainId)??void 0,(null===(B=ne)||void 0===B?void 0:B.gasFee)||ce)??void 0;return{gasFeeEstimateUSD:X?null===($=de)||void 0===$?void 0:$.add(X):de,decreaseCalldataLoading:ae,decreaseCalldata:ne,v2LpTokenApproval:G,approvalLoading:Z,error:(0,k.getErrorMessageToDisplay)({approvalError:J,calldataError:se}),refetch:J?Y:se?le:void 0}}({account:null===(i=l)||void 0===i?void 0:i.address}),{approvalLoading:V,decreaseCalldataLoading:W,decreaseCalldata:F,error:M,refetch:U}=y,H=(0,D.useFeatureFlag)(q.FeatureFlags.Datadog);(0,a.useEffect)((()=>{(0,z.logContextUpdate)("RemoveLiquidityTxContext",y,H)}),[y,H]);const E=(0,f.Q2)({currency:null===(t=c)||void 0===t?void 0:t.currency0Amount.currency,shouldUnwrap:v}),O=(0,f.Q2)({currency:null===(o=c)||void 0===o?void 0:o.currency1Amount.currency,shouldUnwrap:v}),Q=(0,a.useMemo)((()=>{var e;if(!c||V||W||!F||!E||!O)return;const i=(0,$.validateTransactionRequest)(null===(e=y.v2LpTokenApproval)||void 0===e?void 0:e.positionTokenApproval),t=(0,$.validateTransactionRequest)(F.decrease);if(!t)return;const{currency0Amount:r,currency1Amount:o}=c,n=p.CurrencyAmount.fromRawAmount(E,r.quotient),a=p.CurrencyAmount.fromRawAmount(O,o.quotient),s=n.multiply(x).divide(100),l=a.multiply(x).divide(100);return{type:B.LiquidityTransactionType.Decrease,protocolVersion:c.version,action:{type:B.LiquidityTransactionType.Decrease,currency0Amount:s,currency1Amount:l,liquidityToken:c.liquidityToken},approvePositionTokenRequest:i,txRequest:t,approveToken0Request:void 0,approveToken1Request:void 0,revokeToken0Request:void 0,revokeToken1Request:void 0,token0PermitTransaction:void 0,token1PermitTransaction:void 0,permit:void 0}}),[c,V,W,F,E,O,null===(s=y.v2LpTokenApproval)||void 0===s?void 0:s.positionTokenApproval,x]);return(0,r.jsx)(P.Provider,{value:{...y,txContext:Q,error:M,refetch:U},children:e})}const W=()=>{const e=(0,a.useContext)(P);if(void 0===e)throw new Error("`useRemoveLiquidityTxContext` must be used inside of `RemoveLiquidityTxContextProvider`");return e};var F=t(47072),M=t(22085),U=t(14585),H=t(71484),E=t(82663),O=t(24928),Q=t(62504),K=t(59793),G=t(59068),Z=t(63691),J=t(64955),Y=t(87065),X=t(89099),ee=t(8729),ie=t(81886),te=t(4545),re=t(90327),oe=t(61463),ne=t(70943);const ae="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row ",se="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap52 _alignItems-center ",le="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap52 ",ce="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap56 _pr-t-space-pad1331704925 _pl-t-space-pad1331704925 ",de="  is_Separator _display-flex _alignItems-stretch _flexDirection-column _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _borderTopColor-surface3 _borderRightColor-surface3 _borderBottomColor-surface3 _borderLeftColor-surface3 _flexShrink-1 _borderTopWidth-0px _borderRightWidth-0px _borderBottomWidth-1px _borderLeftWidth-0px _flexGrow-1 _height-0px _maxHeight-0px _mr-t-space-pad1331704925 _ml-t-space-pad1331704925 _borderBottomStyle-solid _borderTopStyle-solid _borderLeftStyle-solid _borderRightStyle-solid ",ue="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _gap-t-space-spa94665589 ",pe="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap56 _alignItems-center ",xe="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _justifyContent-space-betwe3241 ",ve="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _pt-t-space-spa1360334076 _pr-t-space-spa1360334076 _pb-t-space-spa1360334076 _pl-t-space-spa1360334076 _gap-t-space-gap1569 _background-surface2 _borderTopLeftRadius-t-radius-ro291586453 _borderTopRightRadius-t-radius-ro291586453 _borderBottomRightRadius-t-radius-ro291586453 _borderBottomLeftRadius-t-radius-ro291586453 ",me="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1573 _pr-t-space-pad1331704925 _pl-t-space-pad1331704925 ",_e="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1573 ";function ye({onClose:e}){var i,t,o,s,l,c;const{t:m}=(0,E.useTranslation)(),{percent:_,positionInfo:y,unwrapNativeCurrency:h,currentTransactionStep:g,setCurrentTransactionStep:b}=d(),[T,S]=(0,a.useState)([]),j=W(),{formatCurrencyAmount:C,formatPercent:w}=(0,ie.useLocalizationContext)(),k=(0,te.useUSDCValue)(null===(i=y)||void 0===i?void 0:i.currency0Amount)??void 0,I=(0,te.useUSDCValue)(null===(t=y)||void 0===t?void 0:t.currency1Amount)??void 0,A=(0,H.Z)(),L=(0,U.m)().chainId,N=(0,R.useAccountMeta)(),q=(0,O.useDispatch)(),D=(0,ne.useTrace)(),{txContext:$,gasFeeEstimateUSD:z}=j,P=()=>{S([]),b(void 0),e()},V=()=>{b(void 0)};if(!y)throw new Error("RemoveLiquidityModal must have an initial state when opening");const{feeValue0:ye,feeValue1:he,fiatFeeValue0:fe,fiatFeeValue1:ge}=(0,n.rZ)(y),{currency0Amount:be,currency1Amount:Te,chainId:Se,feeTier:je,version:Ce,poolId:we}=y,ke=(0,n.K_)(y),Ie=(0,f.Q2)({currency:null===(o=y)||void 0===o?void 0:o.currency0Amount.currency,shouldUnwrap:h}),Ae=(0,f.Q2)({currency:null===(s=y)||void 0===s?void 0:s.currency1Amount.currency,shouldUnwrap:h}),{unwrappedCurrency0AmountToRemove:Le,unwrappedCurrency1AmountToRemove:Ne,currency0AmountToRemove:Re,currency1AmountToRemove:qe}=(0,a.useMemo)((()=>({unwrappedCurrency0AmountToRemove:p.CurrencyAmount.fromRawAmount(Ie,be.quotient).multiply(_).divide(100),unwrappedCurrency1AmountToRemove:p.CurrencyAmount.fromRawAmount(Ae,Te.quotient).multiply(_).divide(100),currency0AmountToRemove:be.multiply(_).divide(100),currency1AmountToRemove:Te.multiply(_).divide(100)})),[be,Ie,Te,Ae,_]),De=(0,te.useUSDCValue)(Le),Be=(0,te.useUSDCValue)(Ne),$e=be.subtract(Re),ze=Te.subtract(qe),Pe=(0,te.useUSDCValue)($e),Ve=(0,te.useUSDCValue)(ze),We=(0,n.qz)(y),Fe=(0,M.J3)(be.currency),Me=(0,M.J3)(Te.currency);return(0,r.jsxs)("div",{className:_e,children:[(0,r.jsxs)("div",{className:me,children:[(0,r.jsx)(x.s,{currencyAmount:Le,currencyUSDAmount:null===(l=k)||void 0===l?void 0:l.multiply(_).divide(100)}),(0,r.jsx)(K.Text,{variant:"body3",color:"$neutral2",children:m("common.and")}),(0,r.jsx)(x.s,{currencyAmount:Ne,currencyUSDAmount:null===(c=I)||void 0===c?void 0:c.multiply(_).divide(100)}),y.version!==u.Qe.V2&&(0,r.jsxs)("div",{className:ve,children:[(0,r.jsx)(K.Text,{variant:"body4",color:"$neutral2",children:m("fee.uncollected")}),(0,r.jsxs)("div",{className:xe,children:[(0,r.jsxs)("div",{className:pe,children:[(0,r.jsx)(Y.CurrencyLogo,{currencyInfo:Fe,size:24}),(0,r.jsxs)(K.Text,{variant:"body3",children:[be.currency.symbol," fees"]})]}),(0,r.jsxs)("div",{className:ue,children:[(0,r.jsx)(K.Text,{variant:"body3",children:C({value:ye})})," ",(0,r.jsxs)(K.Text,{variant:"body3",color:"$neutral2",children:["(",C({value:fe,type:oe.NumberType.FiatTokenPrice}),")"]})]})]}),(0,r.jsxs)("div",{className:xe,children:[(0,r.jsxs)("div",{className:pe,children:[(0,r.jsx)(Y.CurrencyLogo,{currencyInfo:Me,size:24}),(0,r.jsxs)(K.Text,{variant:"body3",children:[Te.currency.symbol," fees"]})]}),(0,r.jsxs)("div",{className:ue,children:[(0,r.jsx)(K.Text,{variant:"body3",children:C({value:he})})," ",(0,r.jsxs)(K.Text,{variant:"body3",color:"$neutral2",children:["(",C({value:ge,type:oe.NumberType.FiatTokenPrice}),")"]})]})]})]})]}),g?(0,r.jsx)(J.ProgressIndicator,{steps:T,currentStep:g}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:de}),(0,r.jsxs)("div",{className:ce,children:[(0,r.jsx)(F.O,{LineItem:{Label:()=>(0,r.jsx)(K.Text,{variant:"body3",color:"$neutral2",children:m("common.rate")}),Value:()=>{var e,i,t;return(0,r.jsx)(K.Text,{variant:"body3",children:`1 ${null===(e=ke)||void 0===e?void 0:e.baseCurrency.symbol} = ${null===(i=ke)||void 0===i?void 0:i.toFixed()} ${null===(t=ke)||void 0===t?void 0:t.quoteCurrency.symbol}`})}}}),(0,r.jsx)(F.O,{LineItem:{Label:()=>(0,r.jsx)(K.Text,{variant:"body3",color:"$neutral2",children:(0,r.jsx)(E.Trans,{i18nKey:"pool.newSpecificPosition",values:{symbol:be.currency.symbol}})}),Value:()=>{var e;return(0,r.jsxs)("div",{className:le,children:[(0,r.jsxs)(K.Text,{variant:"body3",children:[C({value:$e,type:oe.NumberType.TokenNonTx})," ",(0,re.getSymbolDisplayText)(null===(e=$e)||void 0===e?void 0:e.currency.symbol)]}),(0,r.jsx)(K.Text,{variant:"body3",color:"$neutral2",children:`(${C({value:Pe,type:oe.NumberType.FiatStandard})})`})]})}}}),(0,r.jsx)(F.O,{LineItem:{Label:()=>(0,r.jsx)(K.Text,{variant:"body3",color:"$neutral2",children:(0,r.jsx)(E.Trans,{i18nKey:"pool.newSpecificPosition",values:{symbol:Te.currency.symbol}})}),Value:()=>{var e;return(0,r.jsxs)("div",{className:le,children:[(0,r.jsxs)(K.Text,{variant:"body3",children:[C({value:ze,type:oe.NumberType.TokenNonTx})," ",(0,re.getSymbolDisplayText)(null===(e=ze)||void 0===e?void 0:e.currency.symbol)]}),(0,r.jsx)(K.Text,{variant:"body3",color:"$neutral2",children:`(${C({value:Ve,type:oe.NumberType.FiatStandard})})`})]})}}}),We?(0,r.jsx)(F.O,{LineItem:{Label:()=>(0,r.jsx)(K.Text,{variant:"body3",color:"$neutral2",children:m("addLiquidity.shareOfPool")}),Value:()=>(0,r.jsx)(K.Text,{variant:"body3",children:w(We.toFixed())})}}):null,(0,r.jsx)(F.O,{LineItem:{Label:()=>(0,r.jsx)(K.Text,{variant:"body3",color:"$neutral2",children:m("common.networkCost")}),Value:()=>(0,r.jsxs)("div",{className:se,children:[(0,r.jsx)(X.NetworkLogo,{chainId:Se,size:Z._.icon16,shape:"square"}),(0,r.jsx)(K.Text,{variant:"body3",children:C({value:z,type:oe.NumberType.FiatGasPrice})})]})}})]}),(0,r.jsx)("div",{className:ae,children:(0,r.jsx)(G.z,{size:"large",onPress:()=>{var e,i,t;const r=(0,B.isValidLiquidityTxContext)($);N&&(null===(e=N)||void 0===e?void 0:e.type)===ee.AccountType.SignerMnemonic&&r&&y&&q(Q.h.actions.trigger({selectChain:A,startChainId:L,account:N,liquidityTxContext:$,setCurrentStep:b,setSteps:S,onSuccess:P,onFailure:V,analytics:{...(0,v.l)({trace:D,fee:je,poolId:we,currency0:Ie,currency1:Ae,currency0AmountUsd:De,currency1AmountUsd:Be,version:Ce}),expectedAmountBaseRaw:(null===(i=Le)||void 0===i?void 0:i.quotient.toString())??"-",expectedAmountQuoteRaw:(null===(t=Ne)||void 0===t?void 0:t.quotient.toString())??"-",closePosition:"100"===_}}))},children:m("common.confirm")})})]})]})}t(6957);var he=t(18015),fe=t(62019),ge=t(19087),be=t(34483),Te=t(73248),Se=t(86733),je=t(25360),Ce=t(34979),we=t(19671),ke=t(42990),Ie=t(21020),Ae=t(55059),Le=t(90418);const Ne="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row ",Re="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _gap-t-space-gap56 _width-10037 _justifyContent-center ",qe="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _justifyContent-center _width-10037 ",De="  _borderBottomLeftRadius-t-radius-ro291586453 _borderBottomRightRadius-t-radius-ro291586453",Be=" _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _backgroundColor-surface2 _borderTopLeftRadius-t-radius-ro291586453 _borderTopRightRadius-t-radius-ro291586453 _pt-t-space-pad1331704925 _pr-t-space-pad1331704925 _pb-t-space-pad1331704925 _pl-t-space-pad1331704925 _gap-t-space-gap1569  ",$e="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap52 ",ze="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _width-10037 _justifyContent-flex-start ",Pe="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1602 ",Ve="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _backgroundColor-surface2 _borderBottomLeftRadius-t-radius-ro291586453 _borderBottomRightRadius-t-radius-ro291586453 _justifyContent-space-betwe3241 _alignItems-center _pt-t-space-pad95589114 _pb-t-space-pad95589114 _pr-t-space-pad1331704925 _pl-t-space-pad1331704925 ",We=e=>{const i=Number(e);return!isNaN(i)&&i<=100};function Fe(){var e,i;const t=(0,Ae.Z)(),{t:o}=(0,E.useTranslation)(),n=(0,we.useSporeColors)(),{percent:l,positionInfo:c,setPercent:u,setStep:p,percentInvalid:x,unwrapNativeCurrency:v,setUnwrapNativeCurrency:m}=d(),{gasFeeEstimateUSD:_,txContext:y,error:h,refetch:g}=W();if(!c)throw new Error("RemoveLiquidityModal must have an initial state when opening");const{currency0Amount:b,currency1Amount:T}=c,S=(0,f.GM)(b.currency,c.version),j=(0,f.GM)(T.currency,c.version),C=(0,Ie.nativeOnChain)(c.chainId),w=S||j,k=(0,a.useMemo)((()=>w?(0,r.jsxs)("div",{className:Ve,children:[(0,r.jsx)(K.Text,{variant:"body3",color:"$neutral2",children:(0,r.jsx)(E.Trans,{i18nKey:"pool.withdrawAs",values:{nativeWrappedSymbol:C.symbol}})}),(0,r.jsx)(ke.r,{id:"add-as-weth",checked:v,onCheckedChange:()=>m((e=>!e)),variant:"branded"})]}):null),[w,C,v,m]);return(0,r.jsxs)("div",{className:Pe,children:[(0,r.jsx)("div",{className:ze,children:(0,r.jsx)(Te.U,{positionInfo:c})}),(0,r.jsxs)("div",{className:$e,children:[(0,r.jsxs)("div",{className:(0,Le.Ej)(""+(Be+(w?" ":De))),children:[(0,r.jsx)(K.Text,{variant:"body3",color:"$neutral2",children:(0,r.jsx)(E.Trans,{i18nKey:"common.withdrawal.amount"})}),(0,r.jsx)("div",{className:qe,children:(0,r.jsxs)(Ce.DV,{width:"100%",children:[(0,r.jsx)(Se.Y,{value:l,onUserInput:e=>{We(e)&&u(e)},placeholder:"0",$width:l&&t.width?t.width+1:void 0,maxDecimals:0,maxLength:3}),(0,r.jsx)(Ce.zu,{showPlaceholder:!l,children:"%"}),(0,r.jsx)(Ce.gt,{ref:t.ref,children:l})]})}),(0,r.jsx)("div",{className:Re,children:[25,50,75,100].map((e=>{const i=l===e.toString(),t=!1;return(0,r.jsx)(je.q,{onPress:()=>{u(e.toString())},$disabled:t,$active:i,customBorderColor:n.surface3.val,foregroundColor:n[i?"neutral1":"neutral2"].val,label:e<100?e+"%":o("swap.button.max"),px:"$spacing16",textVariant:"buttonLabel2"},e)}))})]}),k]}),(0,r.jsx)(be.V,{currency0Amount:b,currency1Amount:T,networkCost:_}),(0,r.jsx)(ge.p,{errorMessage:h,onPress:g}),(0,r.jsx)("div",{className:Ne,children:(0,r.jsx)(G.z,{isDisabled:x||!(null===(e=y)||void 0===e?void 0:e.txRequest),onPress:()=>p(s.Review),loading:!h&&!x&&!(null===(i=y)||void 0===i?void 0:i.txRequest),variant:"branded",size:"large",children:o("common.button.remove")},"LoaderButton-animation-RemoveLiquidity-continue")})]})}t(44470);var Me=t(24807),Ue=t(95336),He=t(63797);function Ee(){var e,i,t;const{closeModal:n}=(0,he.X)(C.ModalName.RemoveLiquidity),{t:a}=(0,E.useTranslation)(),{step:l,setStep:c,positionInfo:u}=d(),p=(0,fe.F)(null===(e=u)||void 0===e?void 0:e.version,null===(i=u)||void 0===i?void 0:i.currency0Amount.currency,null===(t=u)||void 0===t?void 0:t.currency1Amount.currency);let x;switch(l){case s.Input:x=(0,r.jsx)(Fe,{});break;case s.Review:x=(0,r.jsx)(ye,{onClose:n})}return(0,r.jsx)(I.TransactionSettingsContextProvider,{settingKey:He.TransactionSettingKey.LP,autoSlippageTolerance:p,children:(0,r.jsx)(V,{children:(0,r.jsxs)(Ue.Modal,{name:C.ModalName.RemoveLiquidity,onClose:n,isDismissible:!0,gap:"$gap24",padding:"$padding16",children:[(0,r.jsx)(o.w,{title:a("pool.removeLiquidity"),closeModal:n,goBack:l===s.Review?()=>c(s.Input):void 0}),(0,r.jsx)(Me.I,{animation:"fast",children:x})]})})})}function Oe(){return(0,r.jsx)(c,{children:(0,r.jsx)(Ee,{})})}}}]);
//# sourceMappingURL=8067.c2f30620.chunk.js.map