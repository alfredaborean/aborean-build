(self.webpackChunk_uniswap_interface=self.webpackChunk_uniswap_interface||[]).push([[6315],{99269:(e,t)=>{t.u=void 0;t.u=[{constant:!0,inputs:[{name:"owner",type:"address"}],name:"nonces",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"}]},96570:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={}},21290:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={}},34559:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={}},81689:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={}},56455:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={}},40683:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={}},40242:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={}},84209:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={}},34856:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(97755),r=n(96296),o=n(20128),s=n(22237),a=n(9545),l=n(44876);const d=r.ZP.div`
  z-index: ${({$zIndex:e})=>e??s.k.modalBackdrop};
  overflow: hidden;
  top: 0;
  left: 0;
  position: fixed;
  width: 100%;
  height: 100%;
  background-color: ${({theme:e})=>e.scrim};

  opacity: 0;
  pointer-events: none;
  @media only screen and (max-width: ${({theme:e,$maxWidth:t})=>`${t??e.breakpoint.md}px`}) {
    opacity: ${({$open:e})=>e?1:0};
    pointer-events: ${({$open:e})=>e?"auto":"none"};
    transition: opacity ${({theme:e})=>e.transition.duration.medium} ease-in-out;
  }
`,c=e=>{const{fullWidth:t}=(0,a.F)();return(0,o.useEffect)((()=>(t&&t<l.A.md&&e.$open&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow="visible"})),[e.$open,t]),(0,i.jsx)(d,{...e})}},8640:(e,t,n)=>{"use strict";n.d(t,{OY:()=>d,Pj:()=>p,U2:()=>u,ZP:()=>a,hl:()=>l,nq:()=>c});var i=n(97755),r=n(82746),o=n(19671);const s=({children:e,...t})=>(0,i.jsx)(r.Flex,{width:"100%",padding:"1rem",borderRadius:"$rounded12",...t,children:e}),a=s,l=({children:e,...t})=>(0,i.jsx)(s,{backgroundColor:"$surface2",borderWidth:1,borderColor:"$surface3",...t,children:e}),d=({children:e,...t})=>(0,i.jsx)(s,{backgroundColor:"$surface3",...t,children:e}),c=({children:e,...t})=>(0,i.jsx)(s,{backgroundColor:"$surface2",borderWidth:1,borderColor:"$surface3",...t,children:e}),u=({children:e,...t})=>{const n=(0,o.useSporeColors)();return(0,i.jsx)(s,{backgroundColor:"rgba(243, 132, 30, 0.05)",...t,"$platform-web":{color:n.statusWarning.val,...t["$platform-web"]},children:e})},p=({children:e,...t})=>{const n=(0,o.useSporeColors)();return(0,i.jsx)(s,{backgroundColor:"$accent2",...t,"$platform-web":{color:n.accent1.val,...t["$platform-web"]},children:e})}},65664:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(97755),r=n(21049),o=n(96296),s=n(82663),a=n(99695);const l=o.ZP.div`
  border: 1px solid ${({theme:e})=>e.neutral3};
  padding: 16px 12px;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`;function d(){return(0,i.jsx)(r.Tz,{gap:"lg",justify:"center",children:(0,i.jsx)(r.Tz,{gap:"md",style:{width:"100%"},children:(0,i.jsx)(l,{children:(0,i.jsx)(a.T.BodySecondary,{color:"neutral2",textAlign:"center",children:(0,i.jsx)(s.Trans,{i18nKey:"v2.notAvailable"})})})})})}},21150:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,G:()=>s});var i=n(85752),r=n(14585);const o=Object.keys(i.V2_ROUTER_ADDRESSES).map((e=>parseInt(e)));function s(){const{chainId:e}=(0,r.m)();return e&&o.includes(e)}},95685:(e,t,n)=>{"use strict";n.d(t,{AI:()=>h,Oh:()=>x,WQ:()=>p,tK:()=>m});var i=n(85752),r=n(95450),o=n(29422),s=n.n(o),a=n(20128),l=n(55278),d=n(46832),c=n(51510),u=n(20948);class p{static MAX_ENTRIES=128;static pools=[];static addresses=[];static getPoolAddress(e,t,n,i,o){this.addresses.length>this.MAX_ENTRIES&&(this.addresses=this.addresses.slice(0,this.MAX_ENTRIES/2));const{address:s}=t,{address:a}=n,d=`${e}:${s}:${a}:${i.toString()}`,c=this.addresses.find((e=>e.key===d));if(c)return c.address;const u={key:d,address:(0,r.computePoolAddress)({factoryAddress:e,tokenA:t,tokenB:n,fee:i,chainId:(0,l.getChainInfo)(o).sdkId})};return this.addresses.unshift(u),u.address}static getPool(e,t,n,i,o,a){this.pools.length>this.MAX_ENTRIES&&(this.pools=this.pools.slice(0,this.MAX_ENTRIES/2));const l=this.pools.find((r=>r.token0===e&&r.token1===t&&r.fee===n&&s().EQ(r.sqrtRatioX96,i)&&s().EQ(r.liquidity,o)&&r.tickCurrent===a));if(l)return l;const d=new r.Pool(e,t,n,i,o,a);return this.pools.unshift(d),d}}var m=(e=>(e[e.LOADING=0]="LOADING",e[e.NOT_EXISTS=1]="NOT_EXISTS",e[e.EXISTS=2]="EXISTS",e[e.INVALID=3]="INVALID",e))(m||{});function x(e,t){const n=(0,a.useMemo)((()=>t?e.map((([e,t,n])=>{if(e&&t&&n){const i=e.wrapped,r=t.wrapped;if(i.equals(r))return;return i.sortsBefore(r)?[i,r,n]:[r,i,n]}})):new Array(e.length)),[t,e]),r=(0,a.useMemo)((()=>{const e=t&&i.V3_CORE_FACTORY_ADDRESSES[t];return e?n.map((n=>n&&p.getPoolAddress(e,...n,t))):Array(n.length).fill(void 0)}),[t,n]),{data:o,isLoading:s}=(0,u.N)({contracts:(0,a.useMemo)((()=>r.map((e=>({address:(0,c.c)(e)??"0x",abi:[{inputs:[],name:"slot0",outputs:[{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"},{internalType:"int24",name:"tick",type:"int24"},{internalType:"uint16",name:"observationIndex",type:"uint16"},{internalType:"uint16",name:"observationCardinality",type:"uint16"},{internalType:"uint16",name:"observationCardinalityNext",type:"uint16"},{internalType:"uint8",name:"feeProtocol",type:"uint8"},{internalType:"bool",name:"unlocked",type:"bool"}],stateMutability:"view",type:"function"}],functionName:"slot0",chainId:t})))),[r,t])}),{data:l,isLoading:m}=(0,u.N)({contracts:(0,a.useMemo)((()=>r.map((e=>({address:(0,c.c)(e)??"0x",abi:[{inputs:[],name:"liquidity",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"}],functionName:"liquidity",chainId:t})))),[r,t])});return function(e,t,n,i,r,o){return(0,a.useMemo)((()=>e.map(((e,s)=>{var a,l;if(n||r)return[0,null];const c=o[s],u=null===(a=t)||void 0===a?void 0:a[s],m=null===(l=i)||void 0===l?void 0:l[s];if(!c||!u||!m)return[3,null];if(!u.result)return[1,null];if("bigint"!==typeof m.result)return[1,null];const[x,h,v]=c,[f,g]=u.result;if(!f||0n===f)return[1,null];try{return[2,p.getPool(x,h,v,f.toString(),m.result.toString(),g)]}catch(b){return d.logger.error(b,{tags:{file:"usePools",function:"usePools"},extra:{token0:x.address,token1:h.address,chainId:x.chainId,fee:v}}),[1,null]}}))),[e,n,r,o,t,i])}(e,o,s,l,m,n)}function h(e,t,n){var i;return x((0,a.useMemo)((()=>[[e,t,n]]),[e,t,n]),null===(i=e)||void 0===i?void 0:i.chainId)[0]}},76155:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var i=n(51510),r=n(5323),o=n(67716);function s(e,t,n){const s=(0,o.u)({address:(0,i.c)(t),chainId:n,abi:r.Wo,functionName:"balanceOf",args:e?[e]:void 0,query:{enabled:!!e}}).data;return!!s&&s>0}},89281:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(85752),r=n(20128),o=n(51510),s=n(5323),a=n(67716);function l(e){var t,n;const l=(null===(t=e)||void 0===t?void 0:t.isToken)?(0,o.c)(e.address):void 0,{data:d}=(0,a.u)({address:l,chainId:null===(n=e)||void 0===n?void 0:n.chainId,abi:s.Wo,functionName:"totalSupply"});return(0,r.useMemo)((()=>{var t,n;return(null===(t=e)||void 0===t?void 0:t.isToken)&&d?i.CurrencyAmount.fromRawAmount(e,null===(n=d)||void 0===n?void 0:n.toString()):void 0}),[e,d])}},15271:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var i=n(96296),r=n(22237);const o=i.ZP.main`
  position: relative;
  margin-top: ${({$margin:e})=>e??"0px"};
  max-width: ${({$maxWidth:e})=>e??"420px"};
  width: 100%;
  background: ${({theme:e})=>e.surface1};
  border-radius: 16px;
  border: 1px solid ${({theme:e})=>e.surface3};
  margin-top: 1rem;
  margin-left: auto;
  margin-right: auto;
  z-index: ${r.k.default};
`},90629:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Rn});var i=n(97755),r=n(44842),o=n(16467),s=n(85752),a=n(95450),l=n(8640),d=n(82663),c=n(91972);const u={[a.FeeAmount.LOWEST]:{label:"0.01",description:(0,i.jsx)(d.Trans,{i18nKey:"fee.bestForVeryStable"}),supportedChains:c.ALL_CHAIN_IDS},[a.FeeAmount.LOW_200]:{label:"0.02",supportedChains:[c.UniverseChainId.Base]},[a.FeeAmount.LOW_300]:{label:"0.03",supportedChains:[c.UniverseChainId.Base]},[a.FeeAmount.LOW_400]:{label:"0.04",supportedChains:[c.UniverseChainId.Base]},[a.FeeAmount.LOW]:{label:"0.05",description:(0,i.jsx)(d.Trans,{i18nKey:"fee.bestForStablePairs"}),supportedChains:c.ALL_CHAIN_IDS},[a.FeeAmount.MEDIUM]:{label:"0.3",description:(0,i.jsx)(d.Trans,{i18nKey:"fee.bestForMost"}),supportedChains:c.ALL_CHAIN_IDS},[a.FeeAmount.HIGH]:{label:"1",description:(0,i.jsx)(d.Trans,{i18nKey:"fee.bestForExotic"}),supportedChains:c.ALL_CHAIN_IDS}};var p=n(24547),m=n(21049),x=n(95685),h=n(25036),v=n(59793),f=n(27258),g=n(90418);const b=" _borderTopColor-surface3 _borderRightColor-surface3 _borderBottomColor-surface3 _borderLeftColor-surface3",y=" _borderTopColor-accent1 _borderRightColor-accent1 _borderBottomColor-accent1 _borderLeftColor-accent1",_=" _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _alignItems-flex-start _pt-t-space-pad1331704929 _pb-t-space-pad1331704929 _pr-t-space-pad95589114 _pl-t-space-pad95589114 _borderTopLeftRadius-t-radius-ro291586453 _borderTopRightRadius-t-radius-ro291586453 _borderBottomRightRadius-t-radius-ro291586453 _borderBottomLeftRadius-t-radius-ro291586453 _borderTopWidth-t-space-spa94665586 _borderRightWidth-t-space-spa94665586 _borderBottomWidth-t-space-spa94665586 _borderLeftWidth-t-space-spa94665586 _borderBottomStyle-solid _borderTopStyle-solid _borderLeftStyle-solid _borderRightStyle-solid _boxShadow-0focus-0px0pxvar--550680213 _boxShadow-0active-0px0pxvar--550680213 _boxShadow-0hover-0px0pxvar--1961822511 _opacity-0disabled-0--5 _cursor-0disabled-auto  ";function T({feeAmount:e,selected:t,poolState:n,distributions:r,onClick:o}){var s,a;const{formatDelta:l}=(0,f.Gb)(),c=null===(a=r)||void 0===a||null===(s=a[e])||void 0===s?void 0:s.toFixed(0),T=u[e].description;return(0,i.jsx)(p.ud,{disabled:!T,text:T,size:p.Oz.Max,placement:"auto",children:(0,i.jsxs)("div",{className:(0,g.Ej)(""+(_+(t?y:b))),children:[(0,i.jsx)(h.E,{position:"absolute",top:"$spacing8",right:"$spacing8",value:e.toString(),onPress:o,variant:"branded"}),(0,i.jsxs)(m.Tz,{gap:"sm",justify:"flex-start",children:[(0,i.jsx)(v.Text,{variant:"buttonLabel3",children:l(parseFloat(u[e].label))}),r&&(0,i.jsx)(v.Text,{variant:"body4",color:"$neutral2",children:r&&n!==x.tK.NOT_EXISTS&&n!==x.tK.INVALID?void 0!==r[e]?(0,i.jsx)(d.Trans,{i18nKey:"fee.selectPercent",values:{pct:c}}):(0,i.jsx)(d.Trans,{i18nKey:"common.noData"}):(0,i.jsx)(d.Trans,{i18nKey:"common.notCreated.label"})})]})]})})}function A({feeAmount:e,distributions:t,poolState:n}){var r,o;const s=null===(o=t)||void 0===o||null===(r=o[e])||void 0===r?void 0:r.toFixed(0);return(0,i.jsx)(v.Text,{variant:"body3",color:"$neutral2",children:t&&n!==x.tK.NOT_EXISTS&&n!==x.tK.INVALID?void 0!==t[e]?(0,i.jsx)(d.Trans,{i18nKey:"fee.selectPercentDescription",values:{pct:s}}):(0,i.jsx)(d.Trans,{i18nKey:"common.noData"}):(0,i.jsx)(d.Trans,{i18nKey:"common.notCreated.label"})})}n(40242);var S=n(14585),I=n(34910),j=n.n(I),w=n(20128),k=n(94839),E=n(2398),P=n(88919),L=n(46832);function O(e,t){var n,i;const{isLoading:r,error:o,distributions:s}=function(e,t){var n,i,r,o;const{defaultChainId:s}=(0,E.useEnabledChains)(),l=(0,P.toGraphQLChain)((null===(n=e)||void 0===n?void 0:n.chainId)??s),{loading:d,error:c,data:u}=(0,k.useFeeTierDistributionQuery)({variables:{chain:l,token0:(null===(i=e)||void 0===i?void 0:i.address)??"",token1:(null===(r=t)||void 0===r?void 0:r.address)??""},pollInterval:j()("30s")}),{data:p,error:m}=(0,k.useIsV3SubgraphStaleQuery)({variables:{chain:l},pollInterval:j()("30s")}),{v3PoolsForTokenPair:x}=u??{};return(0,w.useMemo)((()=>{var e;if(m||!x)return{isLoading:d,error:c??m};if(null===(e=p)||void 0===e?void 0:e.isV3SubgraphStale)return L.logger.info("useFeeTierDistribution","usePoolTVL","Subgraph stale"),{isLoading:d,error:c};const t=x.reduce(((e,t)=>{var n,i;return t.feeTier?((n=e)[i=t.feeTier]??(n[i]=[0,0]),e[t.feeTier][0]=(e[t.feeTier][0]??0)+Number(t.token0Supply),e[t.feeTier][1]=(e[t.feeTier][1]??0)+Number(t.token1Supply),e):e}),{[a.FeeAmount.LOWEST]:[void 0,void 0],[a.FeeAmount.LOW]:[void 0,void 0],[a.FeeAmount.MEDIUM]:[void 0,void 0],[a.FeeAmount.HIGH]:[void 0,void 0],[a.FeeAmount.LOW_200]:[void 0,void 0],[a.FeeAmount.LOW_300]:[void 0,void 0],[a.FeeAmount.LOW_400]:[void 0,void 0]}),[n,i]=Object.values(t).reduce(((e,t)=>(e[0]+=t[0]??0,e[1]+=t[1]??0,e)),[0,0]),r=(e,t,n,i)=>void 0===e&&void 0===n?void 0:((e??0)+(n??0))/(t+i)||0,o={[a.FeeAmount.LOWEST]:r(t[a.FeeAmount.LOWEST][0],n,t[a.FeeAmount.LOWEST][1],i),[a.FeeAmount.LOW]:r(t[a.FeeAmount.LOW][0],n,t[a.FeeAmount.LOW][1],i),[a.FeeAmount.MEDIUM]:r(t[a.FeeAmount.MEDIUM][0],n,t[a.FeeAmount.MEDIUM][1],i),[a.FeeAmount.HIGH]:r(t[a.FeeAmount.HIGH][0],n,t[a.FeeAmount.HIGH][1],i),[a.FeeAmount.LOW_200]:r(t[a.FeeAmount.LOW_200][0],n,t[a.FeeAmount.LOW_200][1],i),[a.FeeAmount.LOW_300]:r(t[a.FeeAmount.LOW_300][0],n,t[a.FeeAmount.LOW_300][1],i),[a.FeeAmount.LOW_400]:r(t[a.FeeAmount.LOW_400][0],n,t[a.FeeAmount.LOW_400][1],i)};return{isLoading:d,error:c,distributions:o}}),[m,x,null===(o=p)||void 0===o?void 0:o.isV3SubgraphStale,d,c])}(null===(n=e)||void 0===n?void 0:n.wrapped,null===(i=t)||void 0===i?void 0:i.wrapped),[l]=(0,x.AI)(e,t,a.FeeAmount.LOWEST),[d]=(0,x.AI)(e,t,a.FeeAmount.LOW_200),[c]=(0,x.AI)(e,t,a.FeeAmount.LOW_300),[u]=(0,x.AI)(e,t,a.FeeAmount.LOW_400),[p]=(0,x.AI)(e,t,a.FeeAmount.LOW),[m]=(0,x.AI)(e,t,a.FeeAmount.MEDIUM),[h]=(0,x.AI)(e,t,a.FeeAmount.HIGH);return(0,w.useMemo)((()=>{if(r||o||!s)return{isLoading:r,isError:!!o,distributions:s};const e=Object.keys(s).map((e=>Number(e))).filter((e=>0!==s[e]&&void 0!==s[e])).reduce(((e,t)=>(s[e]??0)>(s[t]??0)?e:t),-1),t=r||o||!s||l===x.tK.LOADING||d===x.tK.LOADING||c===x.tK.LOADING||u===x.tK.LOADING||p===x.tK.LOADING||m===x.tK.LOADING||h===x.tK.LOADING?void 0:{[a.FeeAmount.LOWEST]:l===x.tK.EXISTS?100*(s[a.FeeAmount.LOWEST]??0):void 0,[a.FeeAmount.LOW_200]:d===x.tK.EXISTS?100*(s[a.FeeAmount.LOW_200]??0):void 0,[a.FeeAmount.LOW_300]:c===x.tK.EXISTS?100*(s[a.FeeAmount.LOW_300]??0):void 0,[a.FeeAmount.LOW_400]:u===x.tK.EXISTS?100*(s[a.FeeAmount.LOW_400]??0):void 0,[a.FeeAmount.LOW]:p===x.tK.EXISTS?100*(s[a.FeeAmount.LOW]??0):void 0,[a.FeeAmount.MEDIUM]:m===x.tK.EXISTS?100*(s[a.FeeAmount.MEDIUM]??0):void 0,[a.FeeAmount.HIGH]:h===x.tK.EXISTS?100*(s[a.FeeAmount.HIGH]??0):void 0};return{isLoading:r,isError:!!o,distributions:t,largestUsageFeeTier:-1===e?void 0:e}}),[r,o,s,l,p,m,h,d,c,u])}var N=n(96296),D=n(82746),C=n(59068),F=n(66789),$=n(70943);const W="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row  selected-fee-percentage",R="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-space-betwe3241 _alignItems-center ",M="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1573 ",B=N.ZP.div`
  align-items: flex-start;
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  grid-gap: 8px;
  width: 100%;
`,K=(0,N.ZP)(m.Tz)`
  opacity: ${({disabled:e})=>e?"0.2":"1"};
  pointer-events: ${({disabled:e})=>e?"none":"initial"};
`;function z({disabled:e=!1,feeAmount:t,handleFeePoolSelect:n,currencyA:o,currencyB:s}){var c;const{chainId:p}=(0,S.m)(),m=(0,$.useTrace)(),{formatDelta:g}=(0,f.Gb)(),{isLoading:b,isError:y,largestUsageFeeTier:_,distributions:I}=O(o,s),j=(0,x.Oh)([[o,s,a.FeeAmount.LOWEST],[o,s,a.FeeAmount.LOW_200],[o,s,a.FeeAmount.LOW_300],[o,s,a.FeeAmount.LOW_400],[o,s,a.FeeAmount.LOW],[o,s,a.FeeAmount.MEDIUM],[o,s,a.FeeAmount.HIGH]],p),k=(0,w.useMemo)((()=>j.reduce(((e,[t,n])=>{var i;return e={...e,[null===(i=n)||void 0===i?void 0:i.fee]:t}}),{[a.FeeAmount.LOWEST]:x.tK.NOT_EXISTS,[a.FeeAmount.LOW_200]:x.tK.NOT_EXISTS,[a.FeeAmount.LOW_300]:x.tK.NOT_EXISTS,[a.FeeAmount.LOW_400]:x.tK.NOT_EXISTS,[a.FeeAmount.LOW]:x.tK.NOT_EXISTS,[a.FeeAmount.MEDIUM]:x.tK.NOT_EXISTS,[a.FeeAmount.HIGH]:x.tK.NOT_EXISTS})),[j]),[E,P]=(0,w.useState)(!1),L=(0,w.useRef)(!1),N=(0,w.useCallback)((e=>{(0,F.sendAnalyticsEvent)(r.vp.SELECT_LIQUIDITY_POOL_FEE_TIER,{action:r.jI.MANUAL,fee_tier:e,...m}),n(e)}),[n,m]);return(0,w.useEffect)((()=>{t||b||y||(_?(P(!1),L.current=!0,(0,F.sendAnalyticsEvent)(r.vp.SELECT_LIQUIDITY_POOL_FEE_TIER,{action:r.jI.RECOMMENDED,fee_tier:_,...m}),n(_)):P(!0))}),[t,b,y,_,n,m]),(0,w.useEffect)((()=>{P(y)}),[y]),(0,i.jsx)("div",{className:M,children:(0,i.jsxs)(K,{gap:"md",disabled:e,children:[(0,i.jsx)(l.nq,{"$platform-web":{alignSelf:"center"},children:(0,i.jsxs)("div",{className:R,children:[(0,i.jsx)(D.Flex,{id:"add-liquidity-selected-fee",children:t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.Text,{className:"selected-fee-label",children:(0,i.jsx)(d.Trans,{i18nKey:"fee.tierExact",values:{fee:g(parseFloat(u[t].label))}})}),I&&(0,i.jsx)("div",{className:W,children:(0,i.jsx)(A,{distributions:I,feeAmount:t,poolState:k[t]})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.Text,{children:(0,i.jsx)(d.Trans,{i18nKey:"fee.tier"})}),(0,i.jsx)(v.Text,{variant:"body3",color:"$neutral2",children:(0,i.jsx)(d.Trans,{i18nKey:"fee.percentEarned"})})]})}),(0,i.jsx)(C.z,{onPress:()=>P(!E),variant:"default",emphasis:"secondary",size:"small",fill:!1,children:E?(0,i.jsx)(d.Trans,{i18nKey:"common.hide.button"}):(0,i.jsx)(d.Trans,{i18nKey:"common.edit.button"})})]})}),p&&E&&(0,i.jsx)(h.S,{value:null===(c=t)||void 0===c?void 0:c.toString(),orientation:"horizontal",justifyContent:"flex-start",flexWrap:"wrap",children:(0,i.jsx)(B,{children:[a.FeeAmount.LOWEST,a.FeeAmount.LOW_200,a.FeeAmount.LOW_300,a.FeeAmount.LOW_400,a.FeeAmount.LOW,a.FeeAmount.MEDIUM,a.FeeAmount.HIGH].map(((e,n)=>{const{supportedChains:r}=u[e];return r.includes(p)?(0,i.jsx)(T,{feeAmount:e,selected:e===t,onClick:()=>N(e),distributions:I,poolState:k[e]},n):null}))})})]})})}n(96570);var U=n(29422),H=n.n(U);const q=new s.Fraction(H().BigInt(1),H().BigInt(1e6));function V({currencyAmount:e,significantDigits:t=4}){return(0,i.jsx)(i.Fragment,{children:e.equalTo(H().BigInt(0))?"0":e.greaterThan(q)?e.toSignificant(t):`<${q.toSignificant(1)}`})}var Z=n(28912),G=n(88963),X=n(30715),Q=n(87382),Y=n(64935),J=n(92657),ee=n(74456),te=n(19671);const ne="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _justifyContent-center ",ie=(0,N.ZP)(Q.II)`
  background-color: transparent;
  font-weight: 535;
  text-align: left;
  width: 100%;

  ${({theme:e})=>e.deprecated_mediaWidth.deprecated_upToSmall`
    font-size: 16px;
  `};
`,re=(0,ee.z)(v.Text,{fontSize:12,fontWeight:"$medium",color:"$neutral2"}),oe=({value:e,decrement:t,increment:n,decrementDisabled:r=!1,incrementDisabled:o=!1,width:s,locked:a,onUserInput:c,title:u,tokenA:p,tokenB:m})=>{const x=(0,te.useSporeColors)(),[h,v]=(0,w.useState)(""),[f,g]=(0,w.useState)(!1),b=(0,w.useCallback)((()=>{g(!1),c(h)}),[h,c]),y=(0,w.useCallback)((()=>{g(!1),c(t())}),[t,c]),_=(0,w.useCallback)((()=>{g(!1),c(n())}),[n,c]);return(0,w.useEffect)((()=>{h===e||f||setTimeout((()=>{v(e)}),0)}),[h,f,e]),(0,i.jsx)(l.nq,{onFocus:()=>{g(!0)},onBlur:b,width:s,children:(0,i.jsxs)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column ",children:[(0,i.jsxs)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _width-10037 _justifyContent-flex-start ",children:[(0,i.jsx)(re,{fontSize:12,textAlign:"center",children:u}),(0,i.jsx)(ie,{className:"rate-input-0",value:h,fontSize:"20px",disabled:a,onUserInput:e=>{v(e)}}),(0,i.jsx)(re,{fontSize:12,textAlign:"left",children:(0,i.jsx)(d.Trans,{i18nKey:"common.feesEarnedPerBase",values:{symbolA:m,symbolB:p}})})]}),(0,i.jsxs)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap56 ",children:[!a&&(0,i.jsx)(C.z,{size:"xxsmall",emphasis:"tertiary","data-testid":"increment-price-range",onPress:_,isDisabled:o,children:(0,i.jsx)("div",{className:ne,children:(0,i.jsx)(Y.Z,{size:16,color:x.neutral2.val})})}),!a&&(0,i.jsx)(C.z,{size:"xxsmall",emphasis:"tertiary","data-testid":"decrement-price-range",onPress:y,isDisabled:r,children:(0,i.jsx)("div",{className:ne,children:(0,i.jsx)(J.Z,{size:16,color:x.neutral2.val})})})]})]})})};n(81689);var se=n(14407);const ae="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap56 _width-10037 ";function le({priceLower:e,priceUpper:t,onLeftRangeInput:n,onRightRangeInput:r,getDecrementLower:o,getIncrementLower:s,getDecrementUpper:a,getIncrementUpper:l,currencyA:c,currencyB:u,feeAmount:p,ticksAtLimit:m}){var x,h,v,f,g,b,y,_,T,A,S,I;const j=null===(x=c??void 0)||void 0===x?void 0:x.wrapped,w=null===(h=u??void 0)||void 0===h?void 0:h.wrapped,k=j&&w&&j.sortsBefore(w),E=k?e:null===(v=t)||void 0===v?void 0:v.invert(),P=k?t:null===(f=e)||void 0===f?void 0:f.invert();return(0,i.jsxs)("div",{className:ae,children:[(0,i.jsx)(oe,{width:"100%",value:m[k?se.Mb.LOWER:se.Mb.UPPER]?"0":(null===(g=E)||void 0===g?void 0:g.toSignificant(8))??"",onUserInput:n,decrement:k?o:l,increment:k?s:a,decrementDisabled:void 0===E||m[k?se.Mb.LOWER:se.Mb.UPPER],incrementDisabled:void 0===E||m[k?se.Mb.LOWER:se.Mb.UPPER],feeAmount:p,label:E?`${null===(b=u)||void 0===b?void 0:b.symbol}`:"-",title:(0,i.jsx)(d.Trans,{i18nKey:"common.lowPrice"}),tokenA:null===(y=c)||void 0===y?void 0:y.symbol,tokenB:null===(_=u)||void 0===_?void 0:_.symbol}),(0,i.jsx)(oe,{width:"100%",value:m[k?se.Mb.UPPER:se.Mb.LOWER]?"\u221e":(null===(T=P)||void 0===T?void 0:T.toSignificant(8))??"",onUserInput:r,decrement:k?a:s,increment:k?l:o,incrementDisabled:void 0===P||m[k?se.Mb.UPPER:se.Mb.LOWER],decrementDisabled:void 0===P||m[k?se.Mb.UPPER:se.Mb.LOWER],feeAmount:p,label:P?`${null===(A=u)||void 0===A?void 0:A.symbol}`:"-",tokenA:null===(S=c)||void 0===S?void 0:S.symbol,tokenB:null===(I=u)||void 0===I?void 0:I.symbol,title:(0,i.jsx)(d.Trans,{i18nKey:"common.highPrice"})})]})}n(21290);const de=N.ZP.button`
  display: flex;
  align-items: center;
  width: ${({width:e})=>e??"100%"};
  padding: 1px;
  background: ${({theme:e})=>e.surface2};
  border-radius: 8px;
  border: ${({theme:e})=>"1px solid "+e.surface3};
  cursor: pointer;
  outline: none;
`,ce=N.ZP.span`
  display: flex;
  align-items: center;
  width: 100%;
  padding: 4px 0.5rem;
  border-radius: 6px;
  justify-content: center;
  height: 100%;
  background: ${({theme:e,isActive:t})=>t?e.surface1:"none"};
  color: ${({theme:e,isActive:t})=>t?e.neutral1:e.neutral3};
  font-size: ${({fontSize:e})=>e??"1rem"};
  font-weight: 535;
  white-space: nowrap;
  :hover {
    user-select: initial;
    color: ${({theme:e,isActive:t})=>t?e.neutral2:e.neutral3};
  }
`,ue="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _width-fit-content _alignItems-center ";function pe({currencyA:e,currencyB:t,handleRateToggle:n}){var r,o;const s=null===(r=e)||void 0===r?void 0:r.wrapped,a=null===(o=t)||void 0===o?void 0:o.wrapped,l=s&&a&&s.sortsBefore(a);return s&&a?(0,i.jsx)("div",{onClick:n,className:ue,children:(0,i.jsxs)(de,{width:"fit-content",children:[(0,i.jsx)(ce,{isActive:l,fontSize:"12px",children:l?e.symbol:t.symbol}),(0,i.jsx)(ce,{isActive:!l,fontSize:"12px",children:l?t.symbol:e.symbol})]})}):null}n(40683);var me=n(65664),xe=n(87177),he=n(22085),ve=n(71681),fe=n(20856),ge=n(75343),be=n(56600),ye=n(29170);function _e(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(d){return void n(d)}a.done?t(l):Promise.resolve(l).then(i,r)}function Te(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){_e(o,i,r,s,a,"next",e)}function a(e){_e(o,i,r,s,a,"throw",e)}s(void 0)}))}}var Ae=(e=>(e.UNKNOWN="UNKNOWN",e.NOT_APPROVED="NOT_APPROVED",e.PENDING="PENDING",e.APPROVED="APPROVED",e))(Ae||{});function Se(e,t,n){var i,o,s,a;const{chainId:l}=(0,S.m)(),d=(null===(o=e)||void 0===o||null===(i=o.currency)||void 0===i?void 0:i.isToken)?e.currency:void 0,c=function(e,t,n){var i,r;const o=(0,S.m)(),s=(null===(r=e)||void 0===r||null===(i=r.currency)||void 0===i?void 0:i.isToken)?e.currency:void 0,{tokenAllowance:a}=(0,ge.Fx)(s,o.address,t),l=n(s,t);return(0,w.useMemo)((()=>e&&t?e.currency.isNative?"APPROVED":a?a.lessThan(e)?l?"PENDING":"NOT_APPROVED":"APPROVED":"UNKNOWN":"UNKNOWN"),[e,l,t,a])}(e,t,n),u=(0,fe.Ib)(null===(s=d)||void 0===s?void 0:s.address,void 0,null===(a=d)||void 0===a?void 0:a.chainId),p=(0,w.useCallback)(Te((function*(){function n(t){var n,i,r;"string"===typeof t?L.logger.debug("useApproval","approve",t):L.logger.debug("useApproval","approve","Failed to approve amount",{error:t,tokenChain:null===(n=d)||void 0===n?void 0:n.chainId,token:null===(i=d)||void 0===i?void 0:i.address,chainId:l,amountToApprove:null===(r=e)||void 0===r?void 0:r.toFixed()})}if("NOT_APPROVED"!==c)return n("approve was called unnecessarily");if(!l)return n("no chainId");if(!d)return n("no token");if(!u)return n("tokenContract is null");if(!e)return n("missing amount to approve");if(!t)return n("no spender");let i=!1;const o=yield u.estimateGas.approve(t,ve.Bz).catch((()=>(i=!0,u.estimateGas.approve(t,e.quotient.toString()))));return u.approve(t,i?e.quotient.toString():ve.Bz,{gasLimit:(0,ye.y)(o)}).then((n=>{var i;const o={chain_id:l,token_symbol:null===(i=d)||void 0===i?void 0:i.symbol,token_address:(0,be.DT)(d)};return(0,F.sendAnalyticsEvent)(r.Je.APPROVE_TOKEN_TXN_SUBMITTED,o),{response:n,tokenAddress:d.address,spenderAddress:t,amount:e}})).catch((e=>{throw n(e),e}))})),[c,d,u,e,t,l]);return[c,p]}var Ie=n(69189),je=n(74886);function we(e){const t=(0,Ie.h7)();return(0,w.useCallback)((()=>e().then((e=>{if(e){const{response:n,tokenAddress:i,spenderAddress:r,amount:o}=e;t(n,{type:je.i.APPROVAL,tokenAddress:i,spender:r,amount:o.quotient.toString()})}}))),[t,e])}var ke=n(51510),Ee=n(67716);function Pe(){const e=(0,S.m)();return(0,Ee.u)({address:(0,ke.c)(s.ARGENT_WALLET_DETECTOR_ADDRESS[e.chainId??c.UniverseChainId.Mainnet]),abi:[{inputs:[{internalType:"address",name:"_wallet",type:"address"}],name:"isArgentWallet",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],functionName:"isArgentWallet",args:e.address?[e.address]:void 0,query:{enabled:!!e.address}}).data??!1}var Le=n(21150),Oe=n(76155),Ne=n(89281),De=n(90859),Ce=n(61579),Fe=n(93281),$e=n(99269),We=n(21020);function Re(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(d){return void n(d)}a.done?t(l):Promise.resolve(l).then(i,r)}var Me=(e=>(e[e.AMOUNT=1]="AMOUNT",e[e.ALLOWED=2]="ALLOWED",e))(Me||{});const Be=1200,Ke={[c.UniverseChainId.Mainnet]:{[We.USDC_MAINNET.address]:{type:1,name:"USD Coin",version:"2"},[We.DAI.address]:{type:2,name:"Dai Stablecoin",version:"1"},[We.ABX[c.UniverseChainId.Mainnet].address]:{type:1,name:"Aborean"}},[c.UniverseChainId.Sepolia]:{[We.ABX[c.UniverseChainId.Sepolia].address]:{type:1,name:"Aborean"}}};const ze=[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Ue=[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],He=[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],qe=[{name:"holder",type:"address"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"},{name:"allowed",type:"bool"}];function Ve(e,t,n,i){var r,o,s,a;const l=(0,S.m)(),d=(0,Fe.nL)(),c=(null===(o=e)||void 0===o||null===(r=o.currency)||void 0===r?void 0:r.isToken)?e.currency.address:void 0,u=Pe(),{data:p,isLoading:m}=(0,Ee.u)({address:(0,ke.c)(c),chainId:null===(s=e)||void 0===s?void 0:s.currency.chainId,abi:$e.u,functionName:"nonces",args:l.address?[(0,ke.c)(l.address)]:void 0,query:{enabled:!!l.address}}),x=i??(l.isConnected&&l.chainId&&c?null===(a=Ke[l.chainId])||void 0===a?void 0:a[c]:void 0),[h,v]=(0,w.useState)(null);return(0,w.useMemo)((()=>{if(u||!e||!l.chainId||!l.address||!n||!d||void 0===p||!c||!t||!x)return{state:0,signatureData:null,gatherPermitSignature:null};const i=Number(p);if(m||"number"!==typeof i)return{state:1,signatureData:null,gatherPermitSignature:null};const r=h&&h.owner===l.address&&h.deadline>=n.toNumber()&&h.tokenAddress===c&&h.nonce===i&&h.spender===t&&("allowed"in h||H().greaterThanOrEqual(H().BigInt(h.amount),e.quotient));return{state:r?3:2,signatureData:r?h:null,gatherPermitSignature:function(){var r,o=(r=function*(){const r=2===x.type,o=n.toNumber()+Be,s=e.quotient.toString(),a=r?{holder:l.address,spender:t,allowed:r,nonce:i,expiry:o}:{owner:l.address,spender:t,value:s,nonce:i,deadline:o},u=x.version?{name:x.name,version:x.version,verifyingContract:c,chainId:l.chainId}:{name:x.name,verifyingContract:c,chainId:l.chainId},p=JSON.stringify({types:{EIP712Domain:x.version?ze:Ue,Permit:r?qe:He},domain:u,primaryType:"Permit",message:a});return d.send("eth_signTypedData_v4",[l.address,p]).then(Ce.splitSignature).then((e=>{v({v:e.v,r:e.r,s:e.s,deadline:o,...r?{allowed:r}:{amount:s},nonce:i,chainId:l.chainId,owner:l.address,spender:t,tokenAddress:c,permitType:x.type})}))},function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function s(e){Re(o,n,i,s,a,"next",e)}function a(e){Re(o,n,i,s,a,"throw",e)}s(void 0)}))});return function(){return o.apply(this,arguments)}}()}}),[u,e,l.chainId,l.address,n,d,p,m,c,t,x,h])}const Ze={version:"1",name:"Aborean V2",type:Me.AMOUNT};var Ge=n(15271),Xe=n(34856),Qe=n(59375),Ye=n(79271),Je=n(18015),et=n(26959),tt=n(35708),nt=n(99711),it=n(75440),rt=n(24807),ot=n(63691);const st=(0,N.ZP)(nt.ZP)`
  cursor: pointer;
  justify-content: flex-end;
  width: unset;
`,at=(0,N.ZP)(it.Z)`
  color: ${({theme:e})=>e.neutral2};
  transform: ${({$isOpen:e})=>e?"rotate(180deg)":"rotate(0deg)"};
  transition: transform ${({theme:e})=>e.transition.duration.medium};
`,lt=(0,N.ZP)(m.ZP)`
  padding-top: ${({theme:e})=>e.grids.md};
`,dt=(0,N.ZP)(m.ZP)`
  padding: ${({$padding:e})=>e};
`;function ct({header:e,button:t,children:n,testId:r,isOpen:o,padding:s,onToggle:a,iconSize:l="icon24"}){return(0,i.jsxs)(dt,{$padding:s,children:[(0,i.jsxs)(nt.m0,{children:[e,(0,i.jsxs)(st,{"data-testid":r,onClick:a,"aria-expanded":o,children:[t,(0,i.jsx)(at,{$isOpen:o,size:ot._[l]})]})]}),(0,i.jsx)(rt.I,{open:o,children:(0,i.jsx)(lt,{gap:"md",children:n})})]})}var ut=n(27563);const pt=N.ZP.input`
  width: 100%;
  display: flex;
  flex: 1;
  font-size: 16px;
  border: 0;
  outline: none;
  background: transparent;
  text-align: right;
  &::-webkit-outer-spin-button,
  &::-webkit-inner-spin-button {
    -webkit-appearance: none;
  }
  ::placeholder {
    color: ${({theme:e})=>e.neutral3};
  }
`,mt=(0,N.ZP)(nt.ZP)`
  padding: 8px 16px;
  border-radius: 12px;
  width: auto;
  min-width: 100px;
  flex: 1;
  input {
    color: ${({theme:e,error:t})=>t?e.critical:e.neutral1};
  }
  border: 1px solid ${({theme:e,error:t})=>t?e.critical:e.surface2};
  ${({theme:e,error:t})=>t?`\n        border: 1px solid ${e.critical};\n        :focus-within {\n          border-color: ${e.deprecated_accentFailureSoft};\n        }\n      `:`\n        border: 1px solid ${e.surface3};\n        :focus-within {\n          border-color: ${e.accent2};\n        }\n      `}
`;var xt=n(48683),ht=n(7656),vt=n(99695),ft=n(19947);const gt=(0,N.ZP)(nt.ZP)`
  width: auto;
  cursor: pointer;
  padding: 6px 12px;
  text-align: center;
  gap: 4px;
  border-radius: 12px;
  background: ${({isActive:e,theme:t})=>e?t.surface3:"transparent"};
  pointer-events: ${({isActive:e})=>e&&"none"};
`,bt=(0,N.ZP)(nt.ZP)`
  width: auto;
  padding: 4px;
  border: 1px solid ${({theme:e})=>e.surface3};
  border-radius: 16px;
`,yt=/^(?:\d*\.\d{0,2}|\d+)$/,_t=new s.Percent(5,1e4),Tt=new s.Percent(1,100);function At({autoSlippage:e}){const[t,n]=(0,xt.$2)(),{formatPercent:r}=(0,f.Gb)(),o=function(){const{formatPercent:e}=(0,f.Gb)();return t=>e(t).slice(0,-1)}(),a=t===ht.y.Auto||t.equalTo(e)?"":o(t),[l,c]=(0,w.useState)(a),[u,p]=(0,w.useState)(!1),[m,x]=(0,w.useState)(a.length>0),h=t!==ht.y.Auto&&t.lessThan(_t),g=t!==ht.y.Auto&&t.greaterThan(Tt);return(0,i.jsxs)(ct,{testId:"max-slippage-settings",padding:"6px 0px",isOpen:m,onToggle:()=>x(!m),header:(0,i.jsxs)(nt.ZP,{width:"auto",children:[(0,i.jsx)(vt.T.BodyPrimary,{children:(0,i.jsx)(d.Trans,{i18nKey:"settings.maxSlippage"})}),(0,i.jsx)(ut.Z,{text:(0,i.jsx)(d.Trans,{i18nKey:"swap.settings.transactionRevertPrice"})})]}),button:(0,i.jsx)(vt.T.BodyPrimary,{children:t===ht.y.Auto?(0,i.jsx)(d.Trans,{i18nKey:"common.automatic"}):r(t)}),children:[(0,i.jsxs)(nt.m0,{gap:"md",children:[(0,i.jsxs)(bt,{children:[(0,i.jsx)(gt,{onClick:()=>{c(""),n(ht.y.Auto)},isActive:t===ht.y.Auto,children:(0,i.jsx)(vt.T.BodyPrimary,{children:(0,i.jsx)(d.Trans,{i18nKey:"common.automatic"})})}),(0,i.jsx)(gt,{onClick:()=>{n(e)},isActive:t!==ht.y.Auto,children:(0,i.jsx)(vt.T.BodyPrimary,{children:(0,i.jsx)(d.Trans,{i18nKey:"common.custom"})})})]}),(0,i.jsxs)(mt,{gap:"md",error:!!u,children:[(0,i.jsx)(pt,{"data-testid":"slippage-input",placeholder:o(e),value:l,onChange:e=>(t=>{if(!(t.length>0)||yt.test(t))if(c(t),p(!1),0!==t.length){if("."!==t)try{const e=Math.floor(100*Number.parseFloat(t));e>5e3?(n(new s.Percent(5e3,1e4)),p("InvalidInput")):n(new s.Percent(e,1e4))}catch(e){p("InvalidInput")}}else n(ht.y.Auto)})(e.target.value),onBlur:()=>{c(a),p(!1)}}),(0,i.jsx)(v.Text,{variant:"body1",color:u?"$statusCritical":"$neutral1",children:"%"})]})]}),h||g?(0,i.jsxs)(nt.m0,{gap:"md",children:[(0,i.jsx)(ft.r,{}),(0,i.jsx)(vt.T.BodySmall,{color:"deprecated_accentWarning",children:h?(0,i.jsx)(d.Trans,{i18nKey:"swap.slippageBelow.warning",values:{amt:r(_t)}}):(0,i.jsx)(d.Trans,{i18nKey:"swap.frontrun.warning"})})]}):null]})}var St=n(87947),It=n(90887),jt=(e=>(e[e.TooLow=0]="TooLow",e[e.TooHigh=1]="TooHigh",e[e.Valid=2]="Valid",e))(jt||{});const wt=new s.Percent(5,1e4),kt=new s.Percent(1,100);const Et=({compact:e})=>{const[t]=(0,xt.$2)(),{formatPercent:n}=(0,f.Gb)();if(t===ht.y.Auto)return(0,i.jsx)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _pr-spacing6 _pl-spacing6 _pt-spacing12 _pb-spacing12 _borderTopLeftRadius-t-radius-ro291586449 _borderTopRightRadius-t-radius-ro291586449 _borderBottomRightRadius-t-radius-ro291586449 _borderBottomLeftRadius-t-radius-ro291586449 ",children:(0,i.jsx)(St.Z,{height:"24px",width:"24px",fill:"neutral2"})});const r=function(e){return e.lessThan(wt)?0:e.greaterThan(kt)?1:2}(t)!==jt.Valid;return(0,i.jsxs)("div",{"data-testid":"settings-icon-with-slippage",className:(0,g.Ej)(" _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _pr-t-space-spa94665591 _pl-t-space-spa94665591 _pt-t-space-spa1360334080 _pb-t-space-spa1360334080 _borderTopLeftRadius-t-radius-ro291586449 _borderTopRightRadius-t-radius-ro291586449 _borderBottomRightRadius-t-radius-ro291586449 _borderBottomLeftRadius-t-radius-ro291586449 _gap-t-space-gap56  "+(r?" _backgroundColor-statusWarni108953":" _backgroundColor-surface2")),children:[(0,i.jsx)(vt.T.Caption,{color:r?"accentWarning":"neutral2",children:e?n(t):(0,i.jsx)(d.Trans,{i18nKey:"swap.slippage.amt",values:{amt:n(t)}})}),(0,i.jsx)(St.Z,{height:"24px",width:"24px",fill:"neutral2"})]})};function Pt({disabled:e,onClick:t,isActive:n,compact:r}){const{t:o}=(0,d.useTranslation)();return(0,i.jsx)(It.Z,{disabled:e,onPress:t,id:"open-settings-dialog-button","data-testid":"open-settings-dialog-button","aria-label":o("common.transactionSettings"),hoverStyle:{opacity:.7},opacity:n?.7:1,children:(0,i.jsx)(Et,{compact:r})})}n(56455);var Lt=n(59553);const Ot=j()("3d")/1e3,Nt=/^[0-9\b]+$/;function Dt(){const[e,t]=(0,xt.A6)(),n=e&&e!==Lt.PY?(e/60).toString():"",[r,o]=(0,w.useState)(n),[s,a]=(0,w.useState)(!1),[l,c]=(0,w.useState)(n.length>0);return(0,i.jsx)(ct,{isOpen:l,onToggle:()=>c(!l),padding:"6px 0px",testId:"transaction-deadline-settings",header:(0,i.jsxs)(nt.ZP,{width:"auto",children:[(0,i.jsx)(vt.T.BodyPrimary,{children:(0,i.jsx)(d.Trans,{i18nKey:"swap.transaction.deadline"})}),(0,i.jsx)(ut.Z,{text:(0,i.jsx)(d.Trans,{i18nKey:"swap.transaction.revertAfter"})})]}),button:(0,i.jsx)(d.Trans,{i18nKey:"common.time.minute.amt",values:{time:e/60}}),children:(0,i.jsx)(nt.ZP,{children:(0,i.jsxs)(mt,{gap:"md",error:!!s,children:[(0,i.jsx)(pt,{"data-testid":"deadline-input",placeholder:(Lt.PY/60).toString(),value:r,onChange:e=>function(e){if(!(e.length>0)||Nt.test(e))if(o(e),a(!1),0!==e.length)try{const n=60*Number.parseInt(e);0===n||n>Ot?a("InvalidInput"):t(n)}catch(n){a("InvalidInput")}else t(Lt.PY)}(e.target.value),onBlur:()=>{o(n),a(!1)}}),(0,i.jsx)(vt.T.BodyPrimary,{children:(0,i.jsx)(d.Trans,{i18nKey:"common.time.minutes"})})]})})})}var Ct=n(37543),Ft=n(15423),$t=n(22237),Wt=n(74383),Rt=n(46433);const Mt="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _width-10037 _pr-24px _justifyContent-center ",Bt="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _pt-8px _pb-4px _mb-16px ",Kt="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _position-relative ",zt="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-spa94665593 ",Ut=(0,ee.z)(D.Flex,{minWidth:"20.125rem",backgroundColor:"$surface1",borderWidth:1,borderColor:"$surface3",boxShadow:"0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04), 0px 24px 32px rgba(0, 0, 0, 0.01)",borderRadius:12,position:"absolute",top:"100%",mt:10,right:0,zIndex:100,userSelect:"none",p:16});function Ht({autoSlippage:e,chainId:t,compact:n=!1}){const r=!(0,P.isL2ChainId)(t),o=(0,w.useRef)(null),s=(0,w.useRef)(null),{isOpen:a,closeModal:l,toggleModal:c}=(0,Je.X)(Rt.ModalName.Settings),u=(0,w.useCallback)((()=>l()),[l]),p=(0,Qe.d)(),m=a&&p,x=a&&!p;(0,et.t)(s,x?u:void 0,[o]),(0,Ye.Z)(a);const h=(0,Wt.useIsSupportedChainId)(t),v=(0,w.useMemo)((()=>(0,i.jsx)(rt.I,{open:!0,children:(0,i.jsxs)("div",{className:zt,children:[(0,i.jsx)(At,{autoSlippage:e}),r&&(0,i.jsx)(Dt,{})]})})),[e,r]);return(0,i.jsxs)("div",{ref:o,className:Kt,children:[(0,i.jsx)(Pt,{disabled:!h,isActive:a,compact:n,onClick:c}),x&&(0,i.jsx)(Ut,{ref:s,children:v}),m&&(0,i.jsx)(tt.h,{children:(0,i.jsxs)(D.Flex,{row:!0,"data-testid":"mobile-settings-menu",ref:s,"$platform-web":{position:"fixed"},height:"100%",top:"100vh",left:"0",right:"0",width:"100%",zIndex:$t.k.fixed,overflow:"visible",children:[(0,i.jsx)(Xe.Z,{onClick:u,$open:!0}),(0,i.jsxs)(D.Flex,{height:"min-content",width:"100%",pt:8,px:16,pb:24,backgroundColor:"$surface1",overflow:"hidden",position:"absolute",bottom:"100vh",transition:`bottom ${Ft.pB.duration.medium}`,borderWidth:1,borderColor:"$surface3",borderRadius:12,borderBottomRightRadius:0,borderBottomLeftRadius:0,boxShadow:"unset",zIndex:$t.k.modal,children:[(0,i.jsxs)("div",{className:Bt,children:[(0,i.jsx)(It.Z,{"data-testid":"mobile-settings-close",onPress:u,children:(0,i.jsx)(Ct.Z,{size:24})}),(0,i.jsx)("div",{className:Mt,children:(0,i.jsx)(vt.T.SubHeader,{children:(0,i.jsx)(d.Trans,{i18nKey:"common.settings"})})})]}),v]})]})})]})}n(34559);var qt=n(88378),Vt=n.n(qt);function Zt(){return Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zt.apply(this,arguments)}function Gt(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Xt=(0,w.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,r=e.size,o=void 0===r?24:r,s=Gt(e,["color","size"]);return w.createElement("svg",Zt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),w.createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"}))}));Xt.propTypes={color:Vt().string,size:Vt().oneOfType([Vt().string,Vt().number])},Xt.displayName="AlertCircle";const Qt=Xt;var Yt=n(93693),Jt=n(63933),en=n(3318),tn=n(36277),nn=n(3195),rn=n(55675),on=n(87059),sn=n(60147),an=n(27754),ln=n(4545),dn=n(7539),cn=n(34786),un=n(34597),pn=n(21738);function mn({number:e,locale:t,sigFigs:n,fixedDecimals:i,options:r={}}){let o;let s;if(o=t&&Object.values(pn.Locale).includes(t)?[t,pn.DEFAULT_LOCALE]:pn.DEFAULT_LOCALE,r.minimumFractionDigits=r.minimumFractionDigits||i,r.maximumFractionDigits=r.maximumFractionDigits||i,r.maximumSignificantDigits=r.maximumSignificantDigits||i?void 0:n,"number"===typeof e)s=i?parseFloat(e.toFixed(i)):e;else{const t=parseFloat(e.toSignificant(n));s=i?parseFloat(t.toFixed(i)):t}return s.toLocaleString(o,r)}function xn(e,t,n=pn.DEFAULT_LOCALE,i){return e?H().equal(e.quotient,H().BigInt(0))?"0":e.divide(e.decimalScale).lessThan(new s.Fraction(1,1e5))?`<${mn({number:1e-5,locale:n})}`:mn({number:e,locale:n,sigFigs:t,fixedDecimals:i}):"-"}var hn=n(23389),vn=n(20948);function fn(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(d){return void n(d)}a.done?t(l):Promise.resolve(l).then(i,r)}function gn(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){fn(o,i,r,s,a,"next",e)}function a(e){fn(o,i,r,s,a,"throw",e)}s(void 0)}))}}const bn="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _justifyContent-space-betwe3241 _gap-t-space-gap56 ",yn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1573 ",_n="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-space-betwe3241 _alignItems-center _overflowX-hidden _overflowY-hidden ",Tn="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-space-betwe3241 _alignItems-center ",An="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap56 _mt-t-space-spa1360334080 ",Sn="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-center ",In="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-spa1360334076 ",jn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1598 ",wn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row ",kn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap56 ",En="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-space-betwe3241 ",Pn="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minWidth-0px _flexShrink-0 _flexDirection-column _alignItems-center _justifyContent-center _minHeight-200px ",Ln=H().BigInt(0),On=new s.Percent(75,1e4),Nn=[{constant:!0,inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"reserve0",type:"uint112"},{internalType:"uint112",name:"reserve1",type:"uint112"},{internalType:"uint32",name:"blockTimestampLast",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"}];function Dn({message:e}){return(0,i.jsx)("div",{className:Pn,children:(0,i.jsx)(v.Text,{variant:"body2",children:e})})}const Cn=({children:e,currency0:t,currency1:n,badgeText:r})=>(0,i.jsxs)("div",{className:En,children:[(0,i.jsxs)("div",{className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center ",children:[(0,i.jsx)(X.g,{currencies:[t,n],size:ot._.icon20}),(0,i.jsx)(v.Text,{variant:"subheading1",ml:"$spacing8",children:e})]}),(0,i.jsx)(sn.default,{placement:"only",children:r})]});function Fn({token0Amount:e,token1Amount:t}){const n=[{currency:(0,hn.B)(e.currency),amount:e},{currency:(0,hn.B)(t.currency),amount:t}];return(0,i.jsx)("div",{className:kn,children:n.map((({currency:e,amount:t})=>(0,i.jsxs)("div",{className:En,children:[(0,i.jsxs)("div",{className:wn,children:[(0,i.jsx)(G.Z,{size:ot._.icon20,currency:e}),(0,i.jsx)(v.Text,{variant:"body3",ml:"$spacing8",children:e.symbol})]}),(0,i.jsx)(v.Text,{variant:"body3",children:(0,i.jsx)(V,{currencyAmount:t})})]},e.symbol)))})}const $n=100;function Wn({pairAddress:e,pairBalance:t,totalSupply:n,reserve0:u,reserve1:p,token0:m,token1:h}){var f,g,b,y,_,T,A,I,j,k,E,P,L,O,N,W,R,M,B,K,U,q,V;const{t:G}=(0,d.useTranslation)(),X=(0,S.m)(),Q=(0,te.useSporeColors)(),Y=X.chainId?s.V2_FACTORY_ADDRESSES[X.chainId]:void 0,J=(0,$.useTrace)(),{data:ee}=(0,Ee.u)({address:(0,ke.c)(e),functionName:"factory",abi:Nn}),ne=!!ee&&ee!==Y,ie=(0,De.n)(),re=(0,xt.eq)(On),oe=(0,hn.B)(m),ae=(0,hn.B)(h),de=(0,w.useMemo)((()=>s.CurrencyAmount.fromRawAmount(m,H().divide(H().multiply(t.quotient,u.quotient),n.quotient))),[m,t,u,n]),ce=(0,w.useMemo)((()=>s.CurrencyAmount.fromRawAmount(h,H().divide(H().multiply(t.quotient,p.quotient),n.quotient))),[h,t,p,n]),ue=(0,ln.useUSDCValue)(de),he=(0,ln.useUSDCValue)(ce),[ve,ge]=(0,w.useState)(a.FeeAmount.MEDIUM),[be,_e]=(0,x.AI)(m,h,ve),Te=be===x.tK.NOT_EXISTS,Oe=(0,w.useMemo)((()=>new s.Price(m,h,u.quotient,p.quotient)),[m,h,u,p]),Ne=be===x.tK.EXISTS?null===(f=_e)||void 0===f?void 0:f.token0Price:void 0;let Ce=Oe&&Ne?Ne.divide(Oe).subtract(1).multiply(100):void 0;(null===(g=Ce)||void 0===g?void 0:g.lessThan(Ln))&&(Ce=Ce.multiply(-1));const Fe=Ce&&!(null===(b=Ce)||void 0===b?void 0:b.lessThan(H().BigInt(2))),[$e,Re]=(0,w.useState)(m),{ticks:Me,pricesAtTicks:Be,invertPrice:Ke,invalidRange:ze,outOfRange:Ue,ticksAtLimit:He}=(0,nn.m2)(m,h,ve,$e),{[se.Mb.LOWER]:qe,[se.Mb.UPPER]:Ge}=Me,{[se.Mb.LOWER]:Xe,[se.Mb.UPPER]:Qe}=Be,{getDecrementLower:Ye,getIncrementLower:Je,getDecrementUpper:et,getIncrementUpper:tt}=(0,nn.a6)({baseCurrency:$e,quoteCurrency:$e.equals(m)?h:m,feeAmount:ve,tickLower:qe,tickUpper:Ge,pool:_e}),{onLeftRangeInput:nt,onRightRangeInput:it}=(0,nn.EG)(Te),rt=(null===(y=_e)||void 0===y?void 0:y.tickCurrent)??(0,a.priceToClosestTick)(Oe),st=(null===(_=_e)||void 0===_?void 0:_.sqrtRatioX96)??a.TickMath.getSqrtRatioAtTick(rt),at="number"!==typeof qe||"number"!==typeof Ge||ze?void 0:a.Position.fromAmounts({pool:_e??new a.Pool(m,h,ve,st,0,rt,[]),tickLower:qe,tickUpper:Ge,amount0:de.quotient,amount1:ce.quotient,useFullPrecision:!0}),{amount0:lt,amount1:dt}=(0,w.useMemo)((()=>at?at.mintAmountsWithSlippage(re):{amount0:void 0,amount1:void 0}),[at,re]),ct=(0,w.useMemo)((()=>at&&s.CurrencyAmount.fromRawAmount(m,H().subtract(de.quotient,at.amount0.quotient))),[de,at,m]),ut=(0,w.useMemo)((()=>at&&s.CurrencyAmount.fromRawAmount(h,H().subtract(ce.quotient,at.amount1.quotient))),[ce,at,h]),[pt,mt]=(0,w.useState)(!1),[ht,vt]=(0,w.useState)(null),ft=(0,fe.mq)(),[gt,bt]=function(e,t){const[n,i]=Se(e,t,Ie.wB);return[n,we(i)]}(t,null===(T=ft)||void 0===T?void 0:T.address),{signatureData:yt,gatherPermitSignature:_t}=(Tt=t,At=null===(A=ft)||void 0===A?void 0:A.address,Ve(Tt,At,(0,De.Z)(),Ze));var Tt,At;const St=Pe(),It=(0,w.useCallback)(gn((function*(){if(ne||St)yield bt();else if(_t)try{yield _t()}catch(t){var e;4001!==(null===(e=t)||void 0===e?void 0:e.code)&&(yield bt())}else yield bt()})),[ne,St,_t,bt]),jt=(0,Ie.h7)(),wt=(0,Ie.ub)(ht??void 0),kt=(0,Le.G)(),Et=(0,w.useCallback)(gn((function*(){var n;if(!ft||!X.address||"number"!==typeof qe||"number"!==typeof Ge||!lt||!dt||!X.chainId||!kt)return;const i=(null===(n=yt)||void 0===n?void 0:n.deadline)??(yield ie());if(!i)throw new Error("could not get deadline");const s=[];yt&&s.push(ft.interface.encodeFunctionData("selfPermit",[e,`0x${t.quotient.toString(16)}`,i,yt.v,yt.r,yt.s])),Te&&s.push(ft.interface.encodeFunctionData("createAndInitializePoolIfNecessary",[m.address,h.address,ve,`0x${st.toString(16)}`])),s.push(ft.interface.encodeFunctionData("migrate",[{pair:e,liquidityToMigrate:`0x${t.quotient.toString(16)}`,percentageToMigrate:$n,token0:m.address,token1:h.address,fee:ve,tickLower:qe,tickUpper:Ge,amount0Min:`0x${lt.toString(16)}`,amount1Min:`0x${dt.toString(16)}`,recipient:X.address,deadline:i,refundAsETH:!0}])),mt(!0),ft.estimateGas.multicall(s).then((t=>ft.multicall(s,{gasLimit:(0,ye.y)(t)}).then((t=>{(0,F.sendAnalyticsEvent)(r.vp.MIGRATE_LIQUIDITY_SUBMITTED,{...(0,Z.l)({trace:J,fee:ve,currency0:m,currency1:h,poolId:e,version:o.Qe.V2,currency0AmountUsd:ue,currency1AmountUsd:he}),action:`${ne?r.GM.SUSHISWAP:r.GM.V2}->${r.GM.V3}`,transaction_hash:t.hash}),jt(t,{type:je.i.MIGRATE_LIQUIDITY_V2_TO_V3,baseCurrencyId:(0,un.H)(oe),quoteCurrencyId:(0,un.H)(ae),isFork:ne}),vt(t.hash)})))).catch((()=>{mt(!1)}))})),[ft,X.address,X.chainId,qe,Ge,lt,dt,kt,yt,ie,Te,e,t.quotient,m,h,ve,st,J,ue,he,ne,jt,oe,ae]),Pt=!!ht&&H().equal(t.quotient,Ln);return kt?(0,i.jsxs)("div",{className:jn,children:[(0,i.jsxs)(v.Text,{my:"$spacing8",variant:"body2",textAlign:"center",children:[(0,i.jsx)(d.Trans,{i18nKey:"migrate.v2Description",values:{source:ne?"SushiSwap":"V2"},children:(0,i.jsx)(rn.d,{href:(0,dn.getExplorerLink)(X.chainId??c.UniverseChainId.Mainnet,(null===(I=ft)||void 0===I?void 0:I.address)??"",dn.ExplorerDataType.ADDRESS),children:(0,i.jsxs)(v.Text,{color:"$accent1",display:"inline",children:[(0,i.jsx)(d.Trans,{i18nKey:"migrate.contract"})," \u2197"]})},"migration-contract")}),"."]}),(0,i.jsx)(l.hl,{children:(0,i.jsxs)("div",{className:In,children:[(0,i.jsx)(Cn,{currency0:oe,currency1:ae,badgeText:ne?"Sushi":"V2",children:(0,i.jsx)(d.Trans,{i18nKey:"migrate.lpTokens",values:{symA:oe.symbol,symB:ae.symbol}})}),(0,i.jsx)(Fn,{token0Amount:de,token1Amount:ce})]})}),(0,i.jsx)("div",{className:Sn,children:(0,i.jsx)(on.Arrow,{direction:"s",color:"$neutral1",size:ot._.icon24})}),(0,i.jsx)(l.hl,{children:(0,i.jsxs)("div",{className:In,children:[(0,i.jsx)(Cn,{currency0:oe,currency1:ae,badgeText:"V3",children:(0,i.jsx)(d.Trans,{i18nKey:"migrate.lpNFT",values:{symA:oe.symbol,symB:ae.symbol}})}),(0,i.jsx)(z,{feeAmount:ve,handleFeePoolSelect:ge,currencyA:oe,currencyB:ae}),Te&&(0,i.jsxs)(l.Pj,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,i.jsx)(Qt,{color:Q.neutral1.val,style:{marginBottom:"12px",opacity:.8}}),(0,i.jsx)(v.Text,{variant:"body3",opacity:.8,mb:"$spacing8",textAlign:"center",children:(0,i.jsx)(d.Trans,{i18nKey:"migrate.firstLP",values:{source:ne?"SushiSwap":"V2"}})}),(0,i.jsx)(v.Text,{variant:"body3",opacity:.8,mt:"$spacing8",textAlign:"center",children:(0,i.jsx)(d.Trans,{i18nKey:"migrate.highGasCost"})}),Oe&&(0,i.jsx)("div",{className:An,children:(0,i.jsx)("div",{className:Tn,children:(0,i.jsxs)(v.Text,{variant:"body2",children:[(0,i.jsx)(d.Trans,{i18nKey:"migrate.symbolPrice",values:{protocolName:ne?"SushiSwap":"V2",tokenSymbol:Ke?ae.symbol:oe.symbol}})," ",Ke?`${null===(k=Oe)||void 0===k||null===(j=k.invert())||void 0===j?void 0:j.toSignificant(6)} ${oe.symbol}`:`${null===(E=Oe)||void 0===E?void 0:E.toSignificant(6)} ${ae.symbol}`]})})})]}),Fe?(0,i.jsxs)(l.U2,{overflow:"hidden",children:[(0,i.jsxs)("div",{className:kn,children:[(0,i.jsxs)("div",{className:Tn,children:[(0,i.jsx)(v.Text,{variant:"body3",children:(0,i.jsx)(d.Trans,{i18nKey:"migrate.symbolPrice",values:{protocolName:ne?"SushiSwap":"V2",tokenSymbol:Ke?ae.symbol:oe.symbol}})}),(0,i.jsx)(v.Text,{variant:"body3",children:Ke?`${null===(L=Oe)||void 0===L||null===(P=L.invert())||void 0===P?void 0:P.toSignificant(6)} ${oe.symbol}`:`${null===(O=Oe)||void 0===O?void 0:O.toSignificant(6)} ${ae.symbol}`})]}),(0,i.jsxs)("div",{className:_n,children:[(0,i.jsxs)(v.Text,{variant:"body3",children:["V3 ",Ke?ae.symbol:oe.symbol," ",G("common.price"),":"]}),(0,i.jsx)(v.Text,{variant:"body3",children:Ke?`${null===(W=Ne)||void 0===W||null===(N=W.invert())||void 0===N?void 0:N.toSignificant(6)} ${oe.symbol}`:`${null===(R=Ne)||void 0===R?void 0:R.toSignificant(6)} ${ae.symbol}`})]}),(0,i.jsxs)(D.Flex,{row:!0,justifyContent:"space-between",alignItems:"center","$platform-web":{color:Q.statusWarning.val},children:[(0,i.jsx)(v.Text,{variant:"body3",color:"inherit",children:(0,i.jsx)(d.Trans,{i18nKey:"migrate.priceDifference"})}),(0,i.jsxs)(v.Text,{variant:"body3",color:"inherit",children:[null===(M=Ce)||void 0===M?void 0:M.toSignificant(4),"%"]})]})]}),(0,i.jsx)(v.Text,{variant:"body3",mt:"$spacing8",children:(0,i.jsx)(d.Trans,{i18nKey:"migrate.priceWarning"})})]}):!Te&&Ne?(0,i.jsxs)("div",{className:Tn,children:[(0,i.jsx)(v.Text,{variant:"body3",children:(0,i.jsx)(d.Trans,{i18nKey:"migrate.v3Price",values:{sym:Ke?ae.symbol:oe.symbol}})}),(0,i.jsx)(v.Text,{variant:"body3",children:Ke?`${null===(K=Ne)||void 0===K||null===(B=K.invert())||void 0===B?void 0:B.toSignificant(6)} ${oe.symbol}`:`${null===(U=Ne)||void 0===U?void 0:U.toSignificant(6)} ${ae.symbol}`})]}):null,(0,i.jsxs)("div",{className:Tn,children:[(0,i.jsx)(v.Text,{variant:"body1",children:(0,i.jsx)(d.Trans,{i18nKey:"migrate.setRange"})}),(0,i.jsx)(pe,{currencyA:Ke?ae:oe,currencyB:Ke?oe:ae,handleRateToggle:()=>{nt(""),it(""),Re((e=>e.equals(m)?h:m))}})]}),(0,i.jsx)(le,{priceLower:Xe,priceUpper:Qe,getDecrementLower:Ye,getIncrementLower:Je,getDecrementUpper:et,getIncrementUpper:tt,onLeftRangeInput:nt,onRightRangeInput:it,currencyA:Ke?ae:oe,currencyB:Ke?oe:ae,feeAmount:ve,ticksAtLimit:He}),Ue?(0,i.jsx)(l.U2,{px:"$spacing8",py:"$spacing12",children:(0,i.jsxs)("div",{className:Tn,children:[(0,i.jsx)(Yt.Z,{stroke:Q.statusWarning.val,size:"24px"}),(0,i.jsx)(v.Text,{color:"$yellow600",ml:12,fontSize:12,children:(0,i.jsx)(d.Trans,{i18nKey:"migrate.positionNoFees"})})]})}):null,ze?(0,i.jsx)(l.U2,{px:"$spacing8",py:"$spacing12",children:(0,i.jsxs)("div",{className:Tn,children:[(0,i.jsx)(Yt.Z,{stroke:Q.statusWarning.val,size:"16px"}),(0,i.jsx)(v.Text,{ml:12,fontSize:12,children:(0,i.jsx)(d.Trans,{i18nKey:"migrate.invalidRange"})})]})}):null,at?(0,i.jsx)(l.OY,{children:(0,i.jsxs)("div",{className:kn,children:[(0,i.jsx)(Fn,{token0Amount:at.amount0,token1Amount:at.amount1}),X.chainId&&ct&&ut?(0,i.jsx)(v.Text,{variant:"body4",children:(0,i.jsx)(d.Trans,{i18nKey:"migrate.refund",values:{amtA:xn(ct,4),symA:X.chainId&&(null===(q=We.WRAPPED_NATIVE_CURRENCY[X.chainId])||void 0===q?void 0:q.equals(m))?"ETH":m.symbol,amtB:xn(ut,4),symB:X.chainId&&(null===(V=We.WRAPPED_NATIVE_CURRENCY[X.chainId])||void 0===V?void 0:V.equals(h))?"ETH":h.symbol}})}):null]})}):null,(0,i.jsxs)("div",{className:kn,children:[Pt||wt?null:(0,i.jsx)(D.Flex,{gap:"$gap12",style:{flex:"1"},children:(0,i.jsx)(C.z,{isDisabled:gt!==Ae.NOT_APPROVED||null!==yt||!lt||!dt||ze||pt,onPress:It,children:gt===Ae.PENDING?(0,i.jsx)(xe.bb,{children:(0,i.jsx)(d.Trans,{i18nKey:"common.approving"})}):gt===Ae.APPROVED||null!==yt?(0,i.jsx)(d.Trans,{i18nKey:"migrate.allowed"}):(0,i.jsx)(d.Trans,{i18nKey:"migrate.allowLpMigration"})})}),(0,i.jsx)(D.Flex,{gap:"$gap12",style:{flex:"1"},children:(0,i.jsx)(C.z,{isDisabled:!lt||!dt||ze||gt!==Ae.APPROVED&&null===yt||pt||wt||Pt,onPress:Et,children:Pt?"Success!":wt?(0,i.jsx)(xe.bb,{children:(0,i.jsx)(d.Trans,{i18nKey:"migrate.migrating"})}):(0,i.jsx)(d.Trans,{i18nKey:"common.migrate"})})})]})]})})]}):(0,i.jsx)(me.A,{})}function Rn(){var e,t,n,r,o,a,l;const{address:c}=(0,Jt.UO)(),u=(0,tn.T)(),p=(0,Jt.s0)();(0,w.useEffect)((()=>(u((0,se.dA)()),()=>{u((0,se.dA)())})),[u]);const m=(0,S.m)(),x=(0,cn.isAddress)(c),h=(0,fe.t0)(x||void 0),{data:f,isLoading:g}=(0,vn.N)({contracts:[{address:x||void 0,functionName:"token0",abi:Nn},{address:x||void 0,functionName:"token1",abi:Nn}]}),b=null===(e=f)||void 0===e?void 0:e[0].result,y=null===(t=f)||void 0===t?void 0:t[1].result,_=(0,he.dQ)(b),T=(0,he.dQ)(y),A=(0,w.useMemo)((()=>m.chainId&&x?new s.Token(m.chainId,x,18):void 0),[m.chainId,x]),I=(0,en.mM)(m.address,A),j=(0,Oe.$)(null===(n=m)||void 0===n?void 0:n.address,null===(r=A)||void 0===r?void 0:r.address,null===(o=_)||void 0===o?void 0:o.chainId),k=(0,Ne.A)(A),[E,P]=(0,Ee.u)({address:x||void 0,functionName:"getReserves",abi:Nn}).data??[],O=(0,w.useMemo)((()=>_&&E?s.CurrencyAmount.fromRawAmount(_,E.toString()):void 0),[_,E]),N=(0,w.useMemo)((()=>T&&P?s.CurrencyAmount.fromRawAmount(T,P.toString()):void 0),[T,P]),D="/migrate/v2",C=(0,w.useCallback)((()=>{p(D)}),[p]);return x&&h&&(!h||g||b||m.isConnecting)?(0,i.jsx)(an.default,{logImpression:!0,page:Rt.InterfacePageNameLocal.MigrateV2Pair,properties:{pool_address:x,chain_id:m.chainId,label:[null===(a=_)||void 0===a?void 0:a.symbol,null===(l=T)||void 0===l?void 0:l.symbol].join("/"),token0Address:b,token1Address:y},children:(0,i.jsx)(Ge.e,{style:{padding:24},children:(0,i.jsxs)("div",{className:yn,children:[(0,i.jsxs)("div",{className:bn,children:[(0,i.jsx)(It.Z,{p:"$spacing6",borderRadius:"$rounded8",onPress:C,hoverable:!0,hoverStyle:{backgroundColor:"$backgroundHover"},children:(0,i.jsx)(on.Arrow,{direction:"w",color:"$neutral1",size:ot._.icon24})}),(0,i.jsx)(v.Text,{variant:"heading3",tag:"h1",fontWeight:"$medium",children:(0,i.jsx)(d.Trans,{i18nKey:"migrate.v2Title"})}),(0,i.jsx)(Ht,{autoSlippage:On,chainId:m.chainId})]}),m.isConnected&&j?I&&k&&O&&N&&_&&T?(0,i.jsx)(Wn,{pairAddress:x,pairBalance:I,totalSupply:k,reserve0:O,reserve1:N,token0:_,token1:T}):(0,i.jsx)(Dn,{message:(0,i.jsx)(d.Trans,{i18nKey:"common.loading"})}):(0,i.jsx)(v.Text,{variant:"heading3",children:(0,i.jsx)(d.Trans,{i18nKey:"migrate.connectAccount"})})]})})}):(L.logger.warn("MigrateV2Pair","MigrateV2Pair","Invalid pair address",{token0Address:b,token1Address:y,chainId:m.chainId}),(0,i.jsx)(Jt.Fg,{to:D,replace:!0}))}n(84209)},18960:(e,t,n)=>{"use strict";n.d(t,{L:()=>d,U:()=>l});var i=n(85752),r=n(95450),o=n(29422),s=n.n(o),a=n(75618);function l(e,t,n){var r;if(!e||!t||!n)return;const o=(0,a.convertScientificNotationToNumber)(n);if(!o.match(/^\d*\.?\d*$/))return;const[l,d]=o.split("."),c=(null===(r=d)||void 0===r?void 0:r.length)??0,u=s().BigInt((l??"")+(d??""));return new i.Price(e,t,s().multiply(s().BigInt(10**c),s().BigInt(10**e.decimals)),s().multiply(u,s().BigInt(10**t.decimals)))}function d(e,t,n,i){if(!e||!t||!n||!i)return;const o=l(e,t,i);if(!o)return;let a;const d=(0,r.encodeSqrtRatioX96)(o.numerator,o.denominator);return a=s().greaterThanOrEqual(d,r.TickMath.MAX_SQRT_RATIO)?r.TickMath.MAX_TICK:s().lessThanOrEqual(d,r.TickMath.MIN_SQRT_RATIO)?r.TickMath.MIN_TICK:(0,r.priceToClosestTick)(o),(0,r.nearestUsableTick)(a,r.TICK_SPACINGS[n])}},19947:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});var i=n(93693);const r=(0,n(17041).default)(i.Z).withConfig({displayName:"CautionTriangle",componentId:"sc-52160333-0"})`
  color: ${({theme:e})=>e.deprecated_accentWarning};
`},9806:(e,t,n)=>{"use strict";n.d(t,{L:()=>o,i:()=>s});var i=n(95450),r=n(32408);function o(e,t,n){if(e&&t&&"number"===typeof n)return(0,i.tickToPrice)(e,t,n)}function s(e,t,n){if(e&&t&&"number"===typeof n)return(0,r.tickToPrice)(e,t,n)}},23389:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var i=n(21020);function r(e){var t;return e.isNative?e:(null===(t=i.WRAPPED_NATIVE_CURRENCY[e.chainId])||void 0===t?void 0:t.equals(e))?(0,i.nativeOnChain)(e.chainId):e}}}]);
//# sourceMappingURL=6315.6ffe4022.chunk.js.map